<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Created on March, 26 2008 by texi2html 1.78 -->
<!--
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>

-->
<head>
<title>YAP Prolog User's Manual</title>

<meta name="description" content="YAP Prolog User's Manual">
<meta name="keywords" content="YAP Prolog User's Manual">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.78">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.roman {font-family:serif; font-weight:normal;}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="Top"></a>
<a name="SEC_Top"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="settitle">YAP Prolog</h1>

<p>This file documents the YAP Prolog System version 5.1.3, a
high-performance Prolog compiler developed at LIACC, Universidade do
Porto. YAP is based on David H. D. Warren's WAM (Warren Abstract
Machine), with several optimizations for better performance. YAP follows
the Edinburgh tradition, and is largely compatible with DEC-10 Prolog,
Quintus Prolog, and especially with C-Prolog.
</p>
<p>This file contains extracts of the SWI-Prolog manual, as written by Jan
Wielemaker. Our thanks to the author for his kind permission in allowing
us to include his text in this document.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC1">Introduction</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC2">1. Installing YAP</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Installation
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC8">2. Running YAP</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC11">3. Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> The syntax of YAP
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC25">4. Loading Programs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Loading Prolog programs
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC30">5. The Module System</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Using Modules in YAP
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC36">6. Built-In Predicates</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC72">7. Library Predicates</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC100">8. SWI-Prolog Emulation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> SWI-Prolog emulation
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC107">9. Extensions to Prolog</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Extensions to Standard YAP
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC108">9.1 Rational Trees</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Working with Rational Trees
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC109">9.2 Co-routining</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Changing the Execution of Goals
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC110">10. Attributed Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Using attributed Variables
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC117">11. Constraint Logic Programming over Reals</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> The CLP(R) System
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC122">12. CHR: Constraint Handling Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> The CHR System
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC142">13. Logtalk</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> The Logtalk Object-Oriented System
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC143">14. Threads</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Thread Library
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC151">15. Parallelism</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Running in Or-Parallel
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC152">16. Tabling</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Storing Intermediate Solutions of programs 
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC154">18. Profiling the Abstract Machine</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Profiling Abstract Machine Instructions
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC153">17. Tracing at Low Level</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Tracing at Abstract Machine Level
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC155">19. Debugging</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Using the Debugger
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC158">20. Efficiency Considerations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC164">21. C Language interface to YAP</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Interfacing predicates written in C
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC176">22. Using YAP as a Library</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Using YAP as a library in other programs
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC177">23. Compatibility with Other Prolog systems</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Compatibility with other Prolog systems
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC191">Predicate Index</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> An item for each predicate
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC192">Concept Index</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> An item for each concept
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Built In Predicates
</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC37">6.1 Control Predicates</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Controlling the execution of Prolog programs
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC38">6.2 Handling Undefined Procedures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Handling calls to Undefined Procedures
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC39">6.3 Message Handling</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Message Handling in YAP
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Predicates on Terms
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Manipulating Atoms
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC42">6.6 Predicates on Atoms</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Manipulating Characters
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC43">6.7 Comparing Terms</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Comparison of Terms
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC44">6.8 Arithmetic</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Arithmetic in YAP
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC45">6.9 I/O Predicates</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Input/Output with YAP
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC54">6.10 Using the Clausal Data Base</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Modifying Prolog's Database
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC60">6.13 Collecting Solutions to a Goal</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Finding All Possible Solutions
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC61">6.14 Grammar Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC70">6.21 Predicate Information</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC62">6.15 Access to Operating System Functionality</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC63">6.16 Term Modification</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Updating Prolog Terms
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC64">6.17 Global Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Manipulating Global Variables
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC65">6.18 Profiling Prolog Programs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Profiling Prolog Execution
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC68">6.19 Counting Calls</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Limiting the Maximum Number of Reductions
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC69">6.20 Arrays</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Supporting Global and Local Arrays
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC70">6.21 Predicate Information</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Information on Predicates
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Miscellaneous Predicates
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Subnodes of Running
</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC9">2.1 Running YAP Interactively</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Interacting with YAP
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC10">2.2 Running Prolog Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Running Prolog files as scripts
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Subnodes of Syntax
</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC12">3.1 Syntax of Terms</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC13">3.2 Prolog Tokens</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Syntax of Prolog tokens
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC22">3.3 Wide Character Support</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> How characters are encoded and Wide Character Support
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Subnodes of Tokens
</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC14">3.2.1 Numbers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Integer and Floating-Point Numbers
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC17">3.2.2 Character Strings</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Sequences of Characters
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC18">3.2.3 Atoms</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Atomic Constants
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC19">3.2.4 Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Logical Variables
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC20">3.2.5 Punctuation Tokens</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Tokens that separate other tokens
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC21">3.2.6 Layout</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Comments and Other Layout Rules
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Subnodes of Numbers
</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC15">3.2.1.1 Integers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> How Integers are read and represented
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC16">3.2.1.2 Floating-point Numbers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Floating Point Numbers
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Subnodes of Encoding
</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC23">3.3.1 Wide character encodings on streams</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> How Prolog Streams can be coded
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC24">3.3.2 BOM: Byte Order Mark</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> The Byte Order Mark
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Subnodes of Loading Programs
</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC26">4.1 Program loading and updating</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Program Loading and Updating
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Changing the compiler's parameters
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC28">4.3 Conditional Compilation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Compiling program fragments
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC29">4.4 Saving and Loading Prolog States</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Saving and Restoring Programs
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Subnodes of Modules
</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC31">5.1 Module Concepts</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> The Key Ideas in Modules
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC32">5.2 Defining a New Module</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> How To Define a New Module
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC33">5.3 Using Modules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> How to Use a Module
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC34">5.4 Meta-Predicates in Modules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> How to Handle New Meta-Predicates
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC35">5.5 Re-Exporting Predicates From Other Modules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> How to Re-export Predicates From Other Modules
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Subnodes of Input/Output
</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC47">6.9.2 Handling Streams and Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> C-Prolog Compatible File Handling
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Input/Output of terms
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Input/Output of Characters
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Input/Output using Streams
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC51">6.9.6 Compatible C-Prolog predicates for Terminal I/O</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> C-Prolog compatible Character I/O to terminal
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC52">6.9.7 Controlling Input/Output</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Controlling your Input/Output
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Using Sockets from YAP
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Subnodes of Database
</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Asserting and Retracting
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC56">6.10.2 Looking at the Data Base</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Finding out what is in the Data Base
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC57">6.10.3 Using Data Base References</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> YAP's Internal Database
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC59">6.12 The Blackboard</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Storing and Fetching Terms in the BlackBoard
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Subnodes of Library
</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC73">7.1 Apply Macros</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Apply a Predicate to a list or to sub-terms.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC74">7.2 Association Lists</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Binary Tree Implementation of Association Lists.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC75">7.3 AVL Trees</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Predicates to add and lookup balanced binary  trees.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC76">7.4 Heaps</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Labelled binary tree where the key of each node is less
    than or equal to the keys of its children.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC77">7.5 List Manipulation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC78">7.6 Matrix Library</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Matrix Objects
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Matlab Interface
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Queues, Heaps, and Beams.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Ordered Set Manipulation
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC82">7.10 Pseudo Random Number Integer Generator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Pseudo Random Numbers
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC83">7.11 Queues</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Queue Manipulation
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC84">7.12 Random Number Generator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Random Numbers
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC85">7.13 Read Utilities</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> SWI inspired utilities for fast stream scanning.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Predicates to add, lookup and delete in red-black binary  trees.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC87">7.15 Regular Expressions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Regular Expression Manipulation
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC88">7.16 Splay Trees</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Writing To and Reading From Strings
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> System Utilities
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC91">7.19 Utilities On Terms</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Utilities on Terms
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC93">7.21 Call Cleanup</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Call With registered Cleanup Calls
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC94">7.22 Calls With Timeout</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Call With Timeout
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC95">7.23 Updatable Binary Trees</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Directed Graphs Implemented With Red-Black Trees
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Undirected Graphs Using DGraphs
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC99">7.27 LAM</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> LAM MPI
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Subnodes of Debugging
</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC156">19.1 Debugging Predicates</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC157">19.2 Interacting with the debugger</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Subnodes of Compatibility
</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC178">23.1 Compatibility with the C-Prolog interpreter</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC184">23.2 Compatibility with the Quintus and SICStus Prolog systems</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC189">23.3 Compatibility with the ISO Prolog standard</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Subnodes of Attributes
</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC111">10.1 Attribute Declarations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Declaring New Attributes
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC112">10.2 Attribute Manipulation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Setting and Reading Attributes
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC113">10.3 Attributed Unification</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Tuning the Unification Algorithm
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC114">10.4 Displaying Attributes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Displaying Attributes in User-Readable Form
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC115">10.5 Projecting Attributes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Obtaining the Attributes of Interest
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC116">10.6 Attribute Examples</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Two Simple Examples of how to use Attributes.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Subnodes of SWI-Prolog
</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC101">8.1 Invoking Predicates on all Members of a List</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> maplist and friends
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC102">8.2 Forall</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> forall built-in
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC103">8.3 hProlog and SWI-Prolog Attributed Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Emulating SWI-like attributed variables
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC105">8.4 SWI Global variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Emulating SWI-like attributed variables
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Subnodes of CLPR
</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC118">11.1 Solver Predicates</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC119">11.2 Syntax of the predicate arguments</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC120">11.3 Use of unification</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC121">11.4 Non-Linear Constraints</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Subnodes of CHR
</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC123">12.1 Introduction</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC124">12.2 Syntax and Semantics</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC131">12.3 CHR in YAP Programs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC135">12.4 Debugging</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC139">12.5 Examples</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">       
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC140">12.6 Compatibility with SICStus CHR</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">     
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC141">12.7 Guidelines</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Subnodes of C-Interface
</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC165">21.1 Terms</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Primitives available to the C programmer
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC165">21.1 Terms</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Primitives available to the C programmer
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC166">21.2 Unification</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> How to Unify Two Prolog Terms
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC167">21.3 Strings</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> From character arrays to Lists of codes and back
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC168">21.4 Memory Allocation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Stealing Memory From YAP
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC169">21.5 Controlling YAP Streams from <code>C</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Control How YAP sees Streams
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC170">21.6 From <code>C</code> back to Prolog</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> From C to YAP to C to YAP 
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC171">21.7 Module Manipulation in C</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Create and Test Modules from within C
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC172">21.8 Writing predicates in C</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Writing Predicates in C
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC173">21.9 Loading Object Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC174">21.10 Saving and Restoring</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC175">21.11 Changes to the C-Interface in YAP4</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Changes in Foreign Predicates Interface
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Subnodes of C-Prolog
</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC179">23.1.1 Major Differences between YAP and C-Prolog.</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC180">23.1.2 YAP predicates fully compatible with C-Prolog</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> YAP predicates fully compatible with
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">C-Prolog
</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC181">23.1.3 YAP predicates not strictly compatible with C-Prolog</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> YAP predicates not strictly as C-Prolog
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC182">23.1.4 YAP predicates not available in C-Prolog</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC183">23.1.5 YAP predicates not available in C-Prolog</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> C-Prolog predicates not available in YAP
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Subnodes of SICStus Prolog
</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC185">23.2.1 Major Differences between YAP and SICStus Prolog.</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC186">23.2.2 YAP predicates fully compatible with SICStus Prolog</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> YAP predicates fully compatible with
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">SICStus Prolog
</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC187">23.2.3 YAP predicates not strictly compatible with SICStus Prolog</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> YAP predicates not strictly as
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">SICStus Prolog
</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC188">23.2.4 YAP predicates not available in SICStus Prolog</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Tables
</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC190">A. Summary of YAP Predefined Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Predefined operators
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
</pre></th></tr></table>



<hr size="1">
<a name="Intro"></a>
<a name="SEC1"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC_Top" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC2" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[ &lt;&lt; ]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC2" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="unnumbered"> Introduction </h1>

<p>This document provides User information on version 5.1.3 of
YAP (<em>Yet Another Prolog</em>). The YAP Prolog System is a
high-performance Prolog compiler developed at LIACC, Universidade do
Porto. YAP provides several important features:
</p>
<ul>
<li> Speed: YAP is widely considered one of the fastest available
Prolog systems.

 </li><li> Functionality: it supports stream I/O, sockets, modules,
exceptions, Prolog debugger, C-interface, dynamic code, internal
database, DCGs, saved states, co-routining, arrays, threads.

 </li><li> We explicitly allow both commercial and non-commercial use of YAP.
</li></ul>

<p>YAP is based on the David H. D. Warren's WAM (Warren Abstract Machine),
with several optimizations for better performance. YAP follows the
Edinburgh tradition, and was originally designed to be largely
compatible with DEC-10 Prolog, Quintus Prolog, and especially with
C-Prolog.
</p>
<p>YAP implements most of the ISO-Prolog standard. We are striving at
full compatibility, and the manual describes what is still
missing. The manual also includes a (largely incomplete) comparison
with SICStus Prolog.
</p>
<p>The document is intended neither as an introduction to Prolog nor to the
implementation aspects of the compiler. A good introduction to
programming in Prolog is the book <cite>The Art of Prolog</cite>, by
L. Sterling and E. Shapiro, published by &quot;The MIT Press, Cambridge
MA&quot;. Other references should include the classical <cite>Programming in
Prolog</cite>, by W.F. Clocksin and C.S. Mellish, published by
Springer-Verlag.
</p>
<p>YAP 4.3 is known to build with many versions of gcc (&lt;= gcc-2.7.2, &gt;=
gcc-2.8.1, &gt;= egcs-1.0.1, gcc-2.95.*) and on a variety of Unixen:
SunOS 4.1, Solaris 2.*, Irix 5.2, HP-UX 10, Dec Alpha Unix, Linux 1.2
and Linux 2.* (RedHat 4.0 thru 5.2, Debian 2.*) in both the x86 and
alpha platforms. It has been built on Windows NT 4.0 using Cygwin from
Cygnus Solutions (see README.nt) and using Visual C++ 6.0.
</p>
<p>The overall copyright and permission notice for YAP4.3 can be found in
the Artistic file in this directory. YAP follows the Perl Artistic
license, and it is thus non-copylefted freeware.
</p>
<p>If you have a question about this software, desire to add code, found a
bug, want to request a feature, or wonder how to get further assistance,
please send e-mail to <a href="mailto:yap-users AT lists.sourceforge.net">yap-users AT lists.sourceforge.net</a>.  To
subscribe to the mailing list, visit the page
<a href="https://lists.sourceforge.net/lists/listinfo/yap-users">https://lists.sourceforge.net/lists/listinfo/yap-users</a>.
</p>
<p>On-line documentation is available for YAP at:
</p>
<p>        <a href="http://www.ncc.up.pt/~vsc/YAP/">http://www.ncc.up.pt/~vsc/YAP/</a>
</p>
<p>Recent versions of YAP, including both source and selected binaries,
can be found from this same URL.
</p>
<p>This manual was written by V&iacute;tor Santos Costa,
Lu&iacute;s Damas, Rog&eacute;rio Reis, and R&uacute;ben Azevedo. The
manual is largely based on the DECsystem-10 Prolog User's Manual by
D.L. Bowen, L. Byrd, F. C. N. Pereira, L. M. Pereira, and
D. H. D. Warren. We have also used comments from the Edinburgh Prolog
library written by R. O'Keefe. We would also like to gratefully
acknowledge the contributions from Ashwin Srinivasian.
</p>
<p>We are happy to include in YAP several excellent packages developed
under separate licenses. Our thanks to the authors for their kind
authorization to include these packages.
</p>
<p>The packages are, in alphabetical order:
</p>
<ul>
<li> The CHR package developed by Tom Schrijvers,
Christian Holzbaur, and Jan Wielemaker.

</li><li> The CLP(R) package developed by Leslie De Koninck, Bart Demoen, Tom
Schrijvers, and Jan Wielemaker, based on the CLP(Q,R) implementation
by Christian Holzbauer.

</li><li> The Logtalk Object-Oriented system is developed at the University 
of Beira Interior, Portugal, by Paulo Moura:

<p><a href="http://logtalk.org/">http://logtalk.org/</a>
</p>
<p>The package is distributed under the Artistic License 2.0.
Minimal instructions about loading this package are included in this document.
The documentation on this package (including full installation and customization 
instructions) is included in the <code>Logtalk</code> directory.
</p>
</li><li> The Pillow WEB library developed at Universidad Politecnica de
Madrid by the CLIP group. This package is distributed under the FSF's
LGPL. Documentation on this package is distributed separately from
yap.tex.

</li><li> The <code>yap2swi</code> library implements some of the functionality of
SWI's PL interface. Please do refer to the SWI-Prolog home page:

<p><a href="http://www.swi-prolog.org">http://www.swi-prolog.org</a>
</p>
<p>for more information on SWI-Prolog and for a detailed description of its
foreign language interface.
</p>
</li></ul>

<hr size="6">
<a name="Install"></a>
<a name="SEC2"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC1" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC3" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC1" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC8" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 1. Installing YAP </h1>


<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC3">1.1 Tuning the Functionality of YAP</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Tuning the Functionality of YAP Machine
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC4">1.2 Tuning YAP for a Particular Machine and Compiler</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<p>To compile YAP it should be sufficient to:
</p>
<ol>
<li> <code>mkdir ARCH</code>.

</li><li> <code>cd ARCH</code>.

</li><li> <code>../configure ...options...</code>. 

<p>Notice that by default <code>configure</code> gives you a vanilla
configuration. For instance, in order to use co-routining and/or CLP
you need to do
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">../configure --enable-coroutining ...options...
</pre></td></tr></table>
<p>Please see section <a href="#SEC3">Tuning the Functionality of YAP</a> for extra options.
</p>
</li><li> check the Makefile for any extensions or changes you want to
make.

<p>YAP uses <code>autoconf</code>. Recent versions of YAP try to follow GNU
conventions on where to place software.
</p>
<ul>
<li> The main executable is placed at <code>BINDIR</code>. This executable is
actually a script that calls the Prolog engine, stored at <code>LIBDIR</code>.

</li><li> <code>LIBDIR</code> is the directory where libraries are stored. YAPLIBDIR is a
subdirectory that contains the Prolog engine and a Prolog library.

</li><li> <code>INCLUDEDIR</code> is used if you want to use YAP as a library.

</li><li> <code>INFODIR</code> is where to store <code>info</code> files. Usually
<code>/usr/local/info</code>, <code>/usr/info</code>, or <code>/usr/share/info</code>.
</li></ul>

</li><li> <code>make</code>.

</li><li> If the compilation succeeds, try <code>./yap</code>.

</li><li> If you feel satisfied with the result, do <code>make install</code>.

</li><li> <code>make install-info</code> will create the info files in the
standard info directory.

</li><li> <code>make html</code> will create documentation in html format in the
predefined directory.

<p>In most systems you will need to be superuser in order to do <code>make
install</code> and <code>make info</code> on the standard directories.
</p></li></ol>

<hr size="6">
<a name="Configuration-Options"></a>
<a name="SEC3"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC2" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC4" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC2" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC2" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC8" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 1.1 Tuning the Functionality of YAP </h2>

<p>Compiling YAP with the standard options give you a plain vanilla
Prolog. You can tune YAP to include extra functionality by calling
<code>configure</code> with the appropriate options:
</p>
<ul>
<li> <code>--enable-rational-trees=yes</code> gives you support for infinite
rational trees.

 </li><li> <code>--enable-coroutining=yes</code> gives you support for coroutining,
including freezing of goals, attributed variables, and
constraints. This will also enable support for infinite rational
trees.

 </li><li> <code>--enable-depth-limit=yes</code> allows depth limited evaluation, say for
implementing iterative deepening.

 </li><li> <code>--enable-low-level-tracer=yes</code> allows support for tracing all calls,
retries, and backtracks in the system. This can help in debugging your
application, but results in performance loss.

 </li><li> <code>--enable-wam-profile=yes</code> allows profiling of abstract machine
instructions. This is useful when developing YAP, should not be so
useful for normal users.

 </li><li> <code>--enable-condor=yes</code> allows using the Condor system that
support High Throughput Computing (HTC) on large collections of
distributively owned computing resources.

 </li><li> <code>--enable-tabling=yes</code> allows tabling support. This option
is still experimental.

 </li><li> <code>--enable-parallelism={env-copy,sba,a-cow}</code> allows
or-parallelism supported by one of these three forms. This option is
still highly experimental.

 </li><li> <code>--with-max-workers</code> allows definition of the maximum 
number of parallel processes.

 </li><li> <code>--with-gmp[=DIR]</code> give a path to where one can find the
<code>GMP</code> library if not installed in the default path.

 </li><li> <code>--enable-threads</code> allows using of the multi-threading 
predicates provided by YAP. Depending on the operating system, the 
option <code>--enable-pthread-locking</code> may also need to be used.

 </li><li> <code>--with-max-threads</code> allows definition of the maximum 
number of threads.

</li></ul>

<p>Next section discusses machine dependent details.
</p>
<hr size="6">
<a name="Machine-Options"></a>
<a name="SEC4"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC3" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC5" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC2" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC2" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC8" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 1.2 Tuning YAP for a Particular Machine and Compiler </h2>

<p>The default options should give you best performance under
<code>GCC</code>. Although the system is tuned for this compiler
we have been able to compile versions of YAP under lcc in Linux,
Sun's cc compiler, IBM's xlc, SGI's cc, and Microsoft's Visual C++
6.0.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC5">1.3 Tuning YAP for <code>GCC</code>.</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Using the GNUCC compiler
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC6">1.3.1 Compiling Under Visual C++</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Using Microsoft's Visual C++ environment
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC7">1.3.2 Compiling Under SGI's cc</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Compiling Under SGI's <code>cc</code>
</td></tr>
</table>


<hr size="6">
<a name="Tuning-for-GCC"></a>
<a name="SEC5"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC4" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC6" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC2" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC2" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC8" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 1.3 Tuning YAP for <code>GCC</code>. </h2>

<p>YAP has been developed to take advantage of <code>GCC</code> (but not to
depend on it). The major advantage of <code>GCC</code> is threaded code and
explicit register reservation.
</p>
<p>YAP is set by default to compile with the best compilation flags we
know. Even so, a few specific options reduce portability.  The option 
</p><ul>
<li> <code>--enable-max-performance=yes</code> will try to support the best
available flags for a specific architectural model. Currently, the option
assumes a recent version of <code>GCC</code>.
 </li><li> <code>--enable-debug-yap</code> compiles YAP so that it can be debugged
by tools such as <code>dbx</code> or <code>gdb</code>.
</li></ul>

<p>Here follow a few hints:
</p>
<p>On x86 machines the flags:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">YAP_EXTRAS= ... -DBP_FREE=1
</pre></td></tr></table>

<p>tells us to use the <code>%bp</code> register (frame-pointer) as the emulator's
program counter. This seems to be stable and is now default.
</p>
<p>On  Sparc/Solaris2 use:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">YAP_EXTRAS= ...   -mno-app-regs -DOPTIMISE_ALL_REGS_FOR_SPARC=1
</pre></td></tr></table>

<p>and YAP will get two extra registers! This trick does not work on
SunOS 4 machines.
</p>
<p>Note that versions of GCC can be tweaked to recognize different
processors within the same instruction set, e.g. 486, Pentium, and
PentiumPro for the x86; or Ultrasparc, and Supersparc for
Sparc. Unfortunately, some of these tweaks do may make YAP run slower or
not at all in other machines with the same instruction set, so they
cannot be made default.
</p>
<p>Last, the best options also depends on the version of GCC you are using, and
it is a good idea to consult the GCC manual under the menus &quot;Invoking
GCC&quot;/&quot;Submodel Options&quot;. Specifically, you should check
<code>-march=XXX</code> for recent versions of GCC/EGCS. In the case of
<code>GCC2.7</code> and other recent versions of <code>GCC</code> you can check:
</p>
<dl compact="compact">
<dt> <code>486:</code></dt>
<dd><p>In order to take advantage of 486 specific optimizations in GCC 2.7.*:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">YAP_EXTRAS= ... -m486 -DBP_FREE=1
</pre></td></tr></table>

</dd>
<dt> <code>Pentium:</code></dt>
<dd><table><tr><td>&nbsp;</td><td><pre class="example">YAP_EXTRAS= ... -m486 -malign-loops=2 -malign-jumps=2 \
                      -malign-functions=2
</pre></td></tr></table>

</dd>
<dt> <code>PentiumPro and other recent Intel and AMD machines:</code></dt>
<dd><p>PentiumPros are known not to require alignment. Check your version of
<code>GCC</code> for the best <code>-march</code> option.
</p>
</dd>
<dt> <code>Super and UltraSparcs:</code></dt>
<dd><table><tr><td>&nbsp;</td><td><pre class="example">YAP_EXTRAS= ... -msupersparc
</pre></td></tr></table>

</dd>
<dt> <code>MIPS: if have a recent machine and you need a 64 bit wide address</code></dt>
<dd><p>space you can use the abi 64 bits or eabi option, as in:
</p><table><tr><td>&nbsp;</td><td><pre class="example">CC=&quot;gcc -mabi=64&quot; ./configure --...
</pre></td></tr></table>
<p>Be careful. At least for some versions of <code>GCC</code>, compiling with
<code>-g</code> seems to result in broken code.
</p>
</dd>
<dt> <code>WIN32: GCC is distributed in the MINGW32 and CYGWIN packages.</code></dt>
<dd>
<p>The Mingw32 environment is available from the URL:
</p>
<p><code>http://www.mingw.org</code>
</p>
<p>You will need to install the <code>msys</code> and <code>mingw</code>
packages. You should be able to do configure, make and make install.
</p>
<p>If you use mingw32 you may want to search the contributed packages for
the <code>gmp</code> multi-precision arithmetic library. If you do setup YAP
with <code>gmp</code> note that <code>libgmp.dll</code> must be in the path,
otherwise YAP will not be able to execute.
</p>
<p>CygWin environment is available from the URL:
</p>
<p><code>http://www.cygwin.com</code>
</p>
<p>and mirrors. We suggest using recent versions of the cygwin shell. The
compilation steps under the cygwin shell are as follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">mkdir cyg
$YAPSRC/configure --enable-coroutining \\
                  --enable-depth-limit \\
                  --enable-max-performance
make
make install
</pre></td></tr></table>

<p>By default, YAP will use the <code>-mno-cygwin</code> option to
disable the use of the cygwin dll and to enable the mingw32 subsystem
instead. YAP thus will not need the cygwin dll. It instead accesses
the system's <code>CRTDLL.DLL</code> <code>C</code> run time library supplied with
Win32 platforms through the mingw32 interface. Note that some older
WIN95 systems may not have <code>CRTDLL.DLL</code>, in this case it should
be sufficient to import the file from a newer WIN95 or WIN98 machine.
</p>
<p>You should check the default installation path which is set to
<code>/YAP</code> in the standard Makefile. This string will usually
be expanded into <code>c:\YAP</code> by Windows.
</p>
<p>The cygwin environment does not provide <tt>gmp</tt> on the MINGW
subsystem. You can fetch a dll for the <tt>gmp</tt> library from
<a href="http://www.sf.net/projects/mingwrep">http://www.sf.net/projects/mingwrep</a>.
</p>
<p>It is also possible to configure YAP to be a part of the cygwin
environment. In this case you should use:
</p><table><tr><td>&nbsp;</td><td><pre class="example">mkdir cyg
$YAPSRC/configure --enable-max-performance \\
                  --enable-cygwin=yes
make
make install
</pre></td></tr></table>
<p>YAP will then compile using the cygwin library and will be installed
in cygwin's <code>/usr/local</code>. You can use YAP from a cygwin console,
or as a standalone application as long as it can find
<code>cygwin1.dll</code> in its path. Note that you may use to use
<code>--enable-depth-limit</code> for Aleph compatibility, and that you may
want to be sure that GMP is installed.
</p>
</dd>
</dl>

<hr size="6">
<a name="Compiling-Under-Visual-C_002b_002b"></a>
<a name="SEC6"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC5" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC7" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC2" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC5" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC8" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 1.3.1 Compiling Under Visual C++ </h3>

<p>YAP compiles cleanly under Microsoft's Visual C++ release 6.0. We next
give a step-by-step tutorial on how to compile YAP manually using this
environment.
</p>
<p>First, it is a good idea to build YAP as a DLL:
</p>
<ol>
<li> create a project named yapdll using File.New. The project will be a
DLL project, initially empty.

<p>Notice that either the project is named yapdll or you must replace the
preprocessors variable <var>YAPDLL_EXPORTS</var> to match your project names
in the files <code>YAPInterface.h</code> and <code>c_interface.c</code>.
</p>
</li><li> add all .c files in the <var>$YAPSRC/C</var> directory and in the
<var>$YAPSRC\OPTYAP</var> directory to the Project's <code>Source Files</code> (use
FileView).

</li><li> add all .h files in the <var>$YAPSRC/H</var> directory,
<var>$YAPSRC\include</var> directory and in the <var>$YAPSRC\OPTYAP</var>
subdirectory to the Project's <code>Header Files</code>.

</li><li> Ideally, you should now use <code>m4</code> to generate extra  .h from .m4 files and use
<code>configure</code> to create a <code>config.h</code>. Or, you can be lazy, and
fetch these files from <var>$YAPSRC\VC\include</var>.

</li><li> You may want to go to <code>Build.Set Active Configuration</code> and set <code>Project
Type</code> to <code>Release</code>

</li><li> To use YAP's own include directories you have to set the Project
option  <code>Project.Project Settings.C/C++.Preprocessor.Additional
Include Directories</code> to include the directories <var>$YAPSRC\H</var>,
<var>$YAPSRC\VC\include</var>, <var>$YAPSRC\OPTYAP</var> and
<var>$YAPSRC\include</var>.  The syntax is:

<table><tr><td>&nbsp;</td><td><pre class="example">$YAPSRC\H, $YAPSRC\VC\include, $YAPSRC\OPTYAP, $YAPSRC\include
</pre></td></tr></table>

</li><li>  Build: the system should generate an <code>yapdll.dll</code> and an <code>yapdll.lib</code>.

</li><li> Copy the file <code>yapdll.dll</code> to your path. The file
<code>yapdll.lib</code> should also be copied to a location where the linker can find it.
</li></ol>

<p>Now you are ready to create a console interface for YAP:
</p><ol>
<li> create a second project  say <code>wyap</code> with <code>File.New</code>. The project will be a
WIN32 console project, initially empty.

</li><li> add <var>$YAPSRC\console\yap.c</var> to the <code>Source Files</code>.

</li><li> add <var>$YAPSRC\VC\include\config.h</var> and the files in <var>$YAPSRC\include</var> to
the <code>Header Files</code>.

</li><li> You may want to go to <code>Build.Set Active Configuration</code> and set
<code>Project Type</code> to <code>Release</code>.

</li><li> you will eventually need to bootstrap the system by booting from
<code>boot.yap</code>, so write:

<table><tr><td>&nbsp;</td><td><pre class="example">        -b $YAPSRC\pl\boot.yap
</pre></td></tr></table>

<p>        in <code>Project.Project Settings.Debug.Program Arguments</code>.
</p>
</li><li> You need the sockets and yap libraries. Add

<table><tr><td>&nbsp;</td><td><pre class="example">ws2_32.lib yapdll.lib to
</pre></td></tr></table>

<p>to
</p>
<p>to <code>Project.Project Settings.Link.Object/Library Modules</code>
</p>
<p>You may also need to set the <code>Link Path</code> so that VC++ will find <code>yapdll.lib</code>.
</p>
</li><li> set <code>Project.Project Settings.C/C++.Preprocessor.Additional
Include Directories</code> to include the <var>$YAPSRC/VC/include</var> and
<var>$YAPSRC/include</var>.

<p>The syntax is:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$YAPSRC\VC\include, $YAPSRC\include
</pre></td></tr></table>

</li><li> Build the system.

</li><li> Use <code>Build.Start Debug</code> to boot the system, and then create the saved state with

<table><tr><td>&nbsp;</td><td><pre class="example">['$YAPSRC\\pl\\init'].
save_program(startup).
^Z
</pre></td></tr></table>

<p>That's it, you've got YAP and the saved state!
</p></li></ol>

<p>The $YAPSRC\VC directory has the make files to build YAP4.3.17 under VC++ 6.0.
</p>
<hr size="6">
<a name="Tuning-for-SGI-cc"></a>
<a name="SEC7"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC6" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC8" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC2" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC5" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC8" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 1.3.2 Compiling Under SGI's cc </h3>

<p>YAP should compile under the Silicon Graphic's <code>cc</code> compiler,
although we advise using the GNUCC compiler, if available.
</p>
<dl compact="compact">
<dt> <code>64 bit</code></dt>
<dd><p>Support for 64 bits should work by using (under Bourne shell syntax):
</p><table><tr><td>&nbsp;</td><td><pre class="example">CC=&quot;cc -64&quot; $YAP_SRC_PATH/configure --...
</pre></td></tr></table>
</dd>
</dl>

<hr size="6">
<a name="Run"></a>
<a name="SEC8"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC7" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC9" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC2" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC11" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 2. Running YAP </h1>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC9">2.1 Running YAP Interactively</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Interacting with YAP
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC10">2.2 Running Prolog Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Running Prolog files as scripts
</td></tr>
</table>

<a name="IDX1"></a>
<p>We next describe how to invoke YAP in Unix systems.
</p>
<hr size="6">
<a name="Running-YAP-Interactively"></a>
<a name="SEC9"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC8" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC10" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC8" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC8" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC11" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 2.1 Running YAP Interactively </h2>

<p>Most often you will want to use YAP in interactive mode. Assuming that
YAP is in the user's search path, the top-level can be invoked under
Unix with the following command:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">yap [-s n] [-h n] [-a n] [-c IP_HOST port ] [filename]
</pre></td></tr></table>

<p>All the arguments and flags are optional and have the following meaning:
</p><dl compact="compact">
<dt> <code>-?</code></dt>
<dd><p>print a short error message.
</p></dd>
<dt> <code>-s <var>n</var></code></dt>
<dd><p>allocate <var>n</var> K bytes for local and global stacks
</p></dd>
<dt> <code>-h <var>n</var></code></dt>
<dd><p>allocate <var>n</var> K bytes for heap and auxiliary stacks
</p></dd>
<dt> <code>-t <var>n</var></code></dt>
<dd><p>allocate <var>n</var> K bytes for the trail stack
</p></dd>
<dt> <code>-l <var>YAP_FILE</var></code></dt>
<dd><p>compile the Prolog file <var>YAP_FILE</var> before entering the top-level.
</p></dd>
<dt> <code>-L <var>YAP_FILE</var></code></dt>
<dd><p>compile the Prolog file <var>YAP_FILE</var> and then halt. This option is
useful for implementing scripts.
</p></dd>
<dt> <code>-g <var>Goal</var></code></dt>
<dd><p>run the goal <var>Goal</var> before top-level. The goal is converted from
an atom to a Prolog term.
</p></dd>
<dt> <code>-z <var>Goal</var></code></dt>
<dd><p>run the goal <var>Goal</var> as top-level. The goal is converted from
an atom to a Prolog term.
</p></dd>
<dt> <code>-b <var>BOOT_FILE</var></code></dt>
<dd><p>boot code is in Prolog file <var>BOOT_FILE</var>. The filename must define
the predicate '$live'/0.
</p></dd>
<dt> <code>-c <tt>IP_HOST</tt> <tt>port</tt></code></dt>
<dd><p>connect standard streams to host <tt>IP_HOST</tt> at port <tt>port</tt>
</p></dd>
<dt> <code>filename</code></dt>
<dd><p>restore state saved in the given file
</p></dd>
<dt> <code>-f</code></dt>
<dd><p>do not consult initial files
</p></dd>
<dt> <code>-q</code></dt>
<dd><p>do not print informational messages
</p></dd>
<dt> <code>--</code></dt>
<dd><p>separator for arguments to Prolog code. These arguments are visible
through the unix/1 built-in.
</p></dd>
</dl>

<p>Note that YAP will output an error message on the following conditions:
</p>
<ul>
<li>
a file name was given but the file does not exist or is not a saved
YAP state;
</li><li> 
the necessary amount of memory could not be allocated;
</li><li>
the allocated memory is not enough to restore the state.
</li></ul>

<p>When restoring a saved state, YAP will allocate the
same amount of memory as that in use when the state was saved, unless a
different amount is specified by flags in the command line. By default,
YAP restores the file &lsquo;<samp>startup</samp>&rsquo; from the current directory or from
the YAP library.
<a name="IDX2"></a>
</p>
<a name="IDX3"></a>
<ul>
<li>
YAP usually boots from a saved state. The saved state will use the default
installation directory to search for the YAP binary unless you define
the environment variable YAPBINDIR.

<a name="IDX4"></a>
</li><li>
YAP always tries to find saved states from the current directory
first. If it cannot it will use the environment variable YAPLIBDIR, if
defined, or search the default library directory.

<a name="IDX5"></a>
</li><li>
YAP will try to find library files from the YAPSHAREDIR/library
directory.
</li></ul>

<hr size="6">
<a name="Running-Prolog-Files"></a>
<a name="SEC10"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC9" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC11" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC8" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC8" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC11" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 2.2 Running Prolog Files </h2>

<p>YAP can also be used to run Prolog files as scripts, at least in
Unix-like environments. A simple example is shown next:
</p>
<table><tr><td>&nbsp;</td><td><table class="cartouche" border="1"><tr><td>
<pre class="example">#!/usr/local/bin/yap -L --
#
# Hello World script file using YAP
#
# put a dot because of syntax errors .

:- write('Hello World'), nl.

</pre></td></tr></table>
</td></tr></table>

<p>The <code>#!</code>  characters specify that the script should call the binary
file YAP. Notice that many systems will require the complete path to the
YAP binary. The <code>-L</code> flag indicates that YAP should consult the
current file when booting and then halt. The remaining arguments are
then passed to YAP. Note that YAP will skip the first lines if they
start with <code>#</code> (the comment sign for Unix's shell). YAP will
consult the file and execute any commands.
</p>
<p>A slightly more sophisticated example is:
</p>
<table><tr><td>&nbsp;</td><td><table class="cartouche" border="1"><tr><td>
<pre class="example">#!/usr/bin/yap -L --
#
# Hello World script file using YAP
# .

:- initialization(main).

main :- write('Hello World'), nl.

</pre></td></tr></table>
</td></tr></table>

<p>The <code>initialization</code> directive tells YAP to execute the goal main
after consulting the file. Source code is thus compiled and <code>main</code>
executed at the end. The <code>.</code> is useful while debugging the script
as a Prolog program: it guarantees that the syntax error will not
propagate to the Prolog code.
</p>
<p>Notice that the <code>--</code> is required so that the shell passes the extra
arguments to YAP.  As an example, consider the following script
<code>dump_args</code>:
</p>
<table><tr><td>&nbsp;</td><td><table class="cartouche" border="1"><tr><td>
<pre class="example">#!/usr/bin/yap -L --
#.

main( [] ).
main( [H|T] ) :-
        write( H ), nl,
        main( T ).

:- unix( argv(AllArgs) ), main( AllArgs ).

</pre></td></tr></table>
</td></tr></table>

<p>If you this run this script with the arguments:
</p><table><tr><td>&nbsp;</td><td><pre class="example">./dump_args -s 10000
</pre></td></tr></table>
<p>the script will start an YAP process with stack size <code>10MB</code>, and
the list of arguments to the process will be empty.
</p>
<p>Often one wants to run the script as any other program, and for this it
is convenient to ignore arguments to YAP. This is possible by using
<code>L --</code> as in the next version of <code>dump_args</code>:
</p>
<table><tr><td>&nbsp;</td><td><table class="cartouche" border="1"><tr><td>
<pre class="example">#!/usr/bin/yap -L --

main( [] ).
main( [H|T] ) :-
        write( H ), nl,
        main( T ).

:- unix( argv(AllArgs) ), main( AllArgs ).

</pre></td></tr></table>
</td></tr></table>

<p>The <code>--</code> indicates the next arguments are not for YAP. Instead,
they must be sent directly to the <code>argv</code> built-in. Hence, running
</p><table><tr><td>&nbsp;</td><td><pre class="example">./dump_args test
</pre></td></tr></table>
<p>will write <code>test</code> on the standard output.
</p>

<hr size="6">
<a name="Syntax"></a>
<a name="SEC11"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC10" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC12" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC8" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC25" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 3. Syntax </h1>

<p>We will describe the syntax of YAP at two levels. We first will
describe the syntax for Prolog terms. In a second level we describe
the <i>tokens</i> from which Prolog <i>terms</i> are
built.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC12">3.1 Syntax of Terms</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Syntax of terms 
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC13">3.2 Prolog Tokens</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Syntax of Prolog tokens
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC22">3.3 Wide Character Support</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> How characters are encoded and Wide Character Support
</td></tr>
</table>

<hr size="6">
<a name="Formal-Syntax"></a>
<a name="SEC12"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC11" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC13" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC11" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC25" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 3.1 Syntax of Terms </h2>

<p>Below, we describe the syntax of YAP terms from the different
classes of tokens defined above. The formalism used will be <em>BNF</em>,
extended where necessary with attributes denoting integer precedence or
operator type.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">
<code>
 term       ----&gt;     subterm(1200)   end_of_term_marker

 subterm(N) ----&gt;     term(M)         [M &lt;= N]

 term(N)    ----&gt;     op(N, fx) subterm(N-1)
             |        op(N, fy) subterm(N)
             |        subterm(N-1) op(N, xfx) subterm(N-1)
             |        subterm(N-1) op(N, xfy) subterm(N)
             |        subterm(N) op(N, yfx) subterm(N-1)
             |        subterm(N-1) op(N, xf)
             |        subterm(N) op(N, yf)

 term(0)   ----&gt;      atom '(' arguments ')'
             |        '(' subterm(1200)  ')'
             |        '{' subterm(1200)  '}'
             |        list
             |        string
             |        number
             |        atom
             |        variable

 arguments ----&gt;      subterm(999)
             |        subterm(999) ',' arguments

 list      ----&gt;      '[]'
             |        '[' list_expr ']'

 list_expr ----&gt;      subterm(999)
             |        subterm(999) list_tail

 list_tail ----&gt;      ',' list_expr
             |        ',..' subterm(999)
             |        '|' subterm(999)
</code>
</pre></td></tr></table>

<p>Notes:
</p>
<ul>
<li>
<i>op(N,T)</i> denotes an atom which has been previously declared with type
<i>T</i> and base precedence <i>N</i>.

</li><li>
Since ',' is itself a pre-declared operator with type <i>xfy</i> and
precedence 1000, is <i>subterm</i> starts with a '(', <i>op</i> must be
followed by a space to avoid ambiguity with the case of a functor
followed by arguments, e.g.:

<table><tr><td>&nbsp;</td><td><pre class="example"><code> + (a,b)        [the same as '+'(','(a,b)) of arity one]</code>
</pre></td></tr></table>
<p>versus
</p><table><tr><td>&nbsp;</td><td><pre class="example"><code> +(a,b)         [the same as '+'(a,b) of arity two]</code>
</pre></td></tr></table>

</li><li>
In the first rule for term(0) no blank space should exist between
<i>atom</i> and '('.

</li><li>
<a name="IDX6"></a>
Each term to be read by the YAP parser must end with a single
dot, followed by a blank (in the sense mentioned in the previous
paragraph). When a name consisting of a single dot could be taken for
the end of term marker, the ambiguity should be avoided by surrounding the
dot with single quotes.

</li></ul>

<hr size="6">
<a name="Tokens"></a>
<a name="SEC13"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC12" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC14" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC11" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC25" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 3.2 Prolog Tokens </h2>

<p>Prolog tokens are grouped into the following categories:
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC14">3.2.1 Numbers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Integer and Floating-Point Numbers
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC17">3.2.2 Character Strings</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Sequences of Characters
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC18">3.2.3 Atoms</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Atomic Constants
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC19">3.2.4 Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Logical Variables
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC20">3.2.5 Punctuation Tokens</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Tokens that separate other tokens
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC21">3.2.6 Layout</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Comments and Other Layout Rules
</td></tr>
</table>

<hr size="6">
<a name="Numbers"></a>
<a name="SEC14"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC13" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC15" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC13" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC25" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.2.1 Numbers </h3>

<p>Numbers can be further subdivided into integer and floating-point numbers.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC15">3.2.1.1 Integers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> How Integers are read and represented
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC16">3.2.1.2 Floating-point Numbers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Floating Point Numbers
</td></tr>
</table>

<hr size="6">
<a name="Integers"></a>
<a name="SEC15"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC14" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC16" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC14" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC25" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="subsubsection"> 3.2.1.1 Integers </h4>

<p>Integer numbers
are described by the following regular expression:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><code>
&lt;integer&gt; := {&lt;digit&gt;+&lt;single-quote&gt;|0{xXo}}&lt;alpha_numeric_char&gt;+
</code>
</pre></td></tr></table>
<p>where {...} stands for optionality, <i>+</i> optional repetition (one or
more times), <i>&lt;digit&gt;</i> denotes one of the characters 0 ... 9, <i>|</i>
denotes or, and <i>&lt;single-quote&gt;</i> denotes the character &quot;'&quot;. The digits
before the <i>&lt;single-quote&gt;</i> character, when present, form the number
basis, that can go from 0, 1 and up to 36. Letters from <code>A</code> to
<code>Z</code> are used when the basis is larger than 10.
</p>
<p>Note that if no basis is specified then base 10 is assumed. Note also
that the last digit of an integer token can not be immediately followed
by one of the characters 'e', 'E', or '.'.
</p>
<p>Following the ISO standard, YAP also accepts directives of the
form <code>0x</code> to represent numbers in hexadecimal base and of the form
<code>0o</code> to represent numbers in octal base. For usefulness,
YAP also accepts directives of the form <code>0X</code> to represent
numbers in hexadecimal base.
</p>
<p>Example:
the following tokens all denote the same integer
</p><table><tr><td>&nbsp;</td><td><pre class="example"><code>10  2'1010  3'101  8'12  16'a  36'a  0xa  0o12</code>
</pre></td></tr></table>

<p>Numbers of the form <code>0'a</code> are used to represent character
constants. So, the following tokens denote the same integer:
</p><table><tr><td>&nbsp;</td><td><pre class="example"><code>0'd  100</code>
</pre></td></tr></table>

<p>YAP (version 5.1.3) supports integers that can fit
the word size of the machine. This is 32 bits in most current machines,
but 64 in some others, such as the Alpha running Linux or Digital
Unix. The scanner will read larger or smaller integers erroneously.
</p>
<hr size="6">
<a name="Floats"></a>
<a name="SEC16"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC15" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC17" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC14" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC25" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="subsubsection"> 3.2.1.2 Floating-point Numbers </h4>

<p>Floating-point numbers are described by:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><code>
   &lt;float&gt; := &lt;digit&gt;+{&lt;dot&gt;&lt;digit&gt;+}
               &lt;exponent-marker&gt;{&lt;sign&gt;}&lt;digit&gt;+
            |&lt;digit&gt;+&lt;dot&gt;&lt;digit&gt;+
               {&lt;exponent-marker&gt;{&lt;sign&gt;}&lt;digit&gt;+}
</code>
</pre></td></tr></table>

<p>where <i>&lt;dot&gt;</i> denotes the decimal-point character '.',
<i>&lt;exponent-marker&gt;</i> denotes one of 'e' or 'E', and <i>&lt;sign&gt;</i> denotes
one of '+' or '-'.
</p>
<p>Examples:
</p><table><tr><td>&nbsp;</td><td><pre class="example"><code>10.0   10e3   10e-3   3.1415e+3</code>
</pre></td></tr></table>

<p>Floating-point numbers are represented as a double in the target
machine. This is usually a 64-bit number.
</p>
<hr size="6">
<a name="Strings"></a>
<a name="SEC17"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC16" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC18" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC13" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC25" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.2.2 Character Strings </h3>

<p>Strings are described by the following rules:
</p><table><tr><td>&nbsp;</td><td><pre class="example">  string --&gt; '&quot;' string_quoted_characters '&quot;'

  string_quoted_characters --&gt; '&quot;' '&quot;' string_quoted_characters
  string_quoted_characters --&gt; '\'
                          escape_sequence string_quoted_characters
  string_quoted_characters --&gt;
                          string_character string_quoted_characters

  escape_sequence --&gt; 'a' | 'b' | 'r' | 'f' | 't' | 'n' | 'v'
  escape_sequence --&gt; '\' | '&quot;' | ''' | '`'
  escape_sequence --&gt; at_most_3_octal_digit_seq_char '\'
  escape_sequence --&gt; 'x' at_most_2_hexa_digit_seq_char '\'
</pre></td></tr></table>
<p>where <code>string_character</code> in any character except the double quote
and escape characters.
</p>
<p>Examples:
</p><table><tr><td>&nbsp;</td><td><pre class="example"><code>&quot;&quot;   &quot;a string&quot;   &quot;a double-quote:&quot;&quot;&quot; </code>
</pre></td></tr></table>

<p>The first string is an empty string, the last string shows the use of
double-quoting. The implementation of YAP represents strings as
lists of integers. Since YAP 4.3.0 there is no static limit on string
size.
</p>
<p>Escape sequences can be used to include the non-printable characters
<code>a</code> (alert), <code>b</code> (backspace), <code>r</code> (carriage return),
<code>f</code> (form feed), <code>t</code> (horizontal tabulation), <code>n</code> (new
line), and <code>v</code> (vertical tabulation). Escape sequences also be
include the meta-characters <code>\</code>, <code>&quot;</code>, <code>'</code>, and
<code>`</code>. Last, one can use escape sequences to include the characters
either as an octal or hexadecimal number.
</p>
<p>The next examples demonstrates the use of escape sequences in YAP:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><code>&quot;\x0c\&quot; &quot;\01\&quot; &quot;\f&quot; &quot;\\&quot; </code>
</pre></td></tr></table>

<p>The first three examples return a list including only character 12 (form
feed). The last example escapes the escape character.
</p>
<p>Escape sequences were not available in C-Prolog and in original
versions of YAP up to 4.2.0. Escape sequences can be disable by using:
</p><table><tr><td>&nbsp;</td><td><pre class="example"><code>:- yap_flag(character_escapes,off).</code>
</pre></td></tr></table>


<hr size="6">
<a name="Atoms"></a>
<a name="SEC18"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC17" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC19" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC13" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC25" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.2.3 Atoms </h3>

<p>Atoms are defined by one of the following rules:
</p><table><tr><td>&nbsp;</td><td><pre class="example">   atom --&gt; solo-character
   atom --&gt; lower-case-letter name-character*
   atom --&gt; symbol-character+
   atom --&gt; single-quote  single-quote
   atom --&gt; ''' atom_quoted_characters '''


  atom_quoted_characters --&gt; ''' ''' atom_quoted_characters
  atom_quoted_characters --&gt; '\' atom_sequence string_quoted_characters
  atom_quoted_characters --&gt; character string_quoted_characters

</pre></td></tr></table>

<p>where:
</p><table><tr><td>&nbsp;</td><td><pre class="example">   &lt;solo-character&gt;     denotes one of:    ! ;
   &lt;symbol-character&gt;   denotes one of:    # &amp; * + - . / : &lt; 
                                           = &gt; ? @ \ ^ ` ~
   &lt;lower-case-letter&gt;  denotes one of:    a...z
   &lt;name-character&gt;     denotes one of:    _ a...z A...Z 0....9
   &lt;single-quote&gt;       denotes:           '
</pre></td></tr></table>

<p>and <code>string_character</code> denotes any character except the double quote
and escape characters. Note that escape sequences in strings and atoms
follow the same rules.
</p>
<p>Examples:
</p><table><tr><td>&nbsp;</td><td><pre class="example"><code>a   a12x   '$a'   !   =&gt;  '1 2'</code>
</pre></td></tr></table>


<p>Version <code>4.2.0</code> of YAP removed the previous limit of 256
characters on an atom. Size of an atom is now only limited by the space
available in the system.
</p>
<hr size="6">
<a name="Variables"></a>
<a name="SEC19"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC18" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC20" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC13" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC25" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.2.4 Variables </h3>

<p>Variables are described by:
</p><table><tr><td>&nbsp;</td><td><pre class="example">   &lt;variable-starter&gt;&lt;variable-character&gt;+
</pre></td></tr></table>
<p>where
</p><table><tr><td>&nbsp;</td><td><pre class="example">  &lt;variable-starter&gt;   denotes one of:    _ A...Z
  &lt;variable-character&gt; denotes one of:    _ a...z A...Z
</pre></td></tr></table>

<a name="IDX7"></a>
<p>If a variable is referred only once in a term, it needs not to be named
and one can use the character <code>_</code> to represent the variable. These
variables are known as anonymous variables. Note that different
occurrences of <code>_</code> on the same term represent <em>different</em>
anonymous variables. 
</p>
<hr size="6">
<a name="Punctuation-Tokens"></a>
<a name="SEC20"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC19" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC21" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC13" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC25" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.2.5 Punctuation Tokens </h3>

<p>Punctuation tokens consist of one of the following characters:
</p><table><tr><td>&nbsp;</td><td><pre class="example"> ( ) , [ ] { } |
</pre></td></tr></table>

<p>These characters are used to group terms.
</p>
<hr size="6">
<a name="Layout"></a>
<a name="SEC21"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC20" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC22" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC13" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC25" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.2.6 Layout </h3>
<p>Any characters with ASCII code less than or equal to 32 appearing before
a token are ignored.
</p>
<p>All the text appearing in a line after the character <i>%</i> is taken to
be a comment and ignored (including <i>%</i>).  Comments can also be
inserted by using the sequence <code>/*</code> to start the comment and
<code>*/</code> to finish it. In the presence of any sequence of comments or
layout characters, the YAP parser behaves as if it had found a
single blank character. The end of a file also counts as a blank
character for this purpose.
</p>
<hr size="6">
<a name="Encoding"></a>
<a name="SEC22"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC21" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC23" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC11" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC25" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 3.3 Wide Character Support </h2>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC23">3.3.1 Wide character encodings on streams</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> How Prolog Streams can be coded
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC24">3.3.2 BOM: Byte Order Mark</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> The Byte Order Mark
</td></tr>
</table>

<a name="IDX8"></a>
<a name="IDX9"></a>
<a name="IDX10"></a>
<a name="IDX11"></a>
<p>YAP now implements a SWI-Prolog compatible interface to wide
characters and the Universal Character Set (UCS). The following text
was adapted from the SWI-Prolog manual.
</p>
<p>YAP now  supports wide characters, characters with character
codes above 255 that cannot be represented in a single byte.
<em>Universal Character Set</em> (UCS) is the ISO/IEC 10646 standard
that specifies a unique 31-bits unsigned integer for any character in
any language.  It is a superset of 16-bit Unicode, which in turn is
a superset of ISO 8859-1 (ISO Latin-1), a superset of US-ASCII.  UCS
can handle strings holding characters from multiple languages and
character classification (uppercase, lowercase, digit, etc.) and
operations such as case-conversion are unambiguously defined.
</p>
<p>For this reason YAP, following SWI-Prolog, has two representations for
atoms. If the text fits in ISO Latin-1, it is represented as an array
of 8-bit characters.  Otherwise the text is represented as an array of
wide chars, which may take 16 or 32 bits.  This representational issue
is completely transparent to the Prolog user.  Users of the foreign
language interface sometimes need to be aware of these issues though.
</p>
<p>Character coding comes into view when characters of strings need to be
read from or written to file or when they have to be communicated to
other software components using the foreign language interface. In this
section we only deal with I/O through streams, which includes file I/O
as well as I/O through network sockets.
</p>

<hr size="6">
<a name="Stream-Encoding"></a>
<a name="SEC23"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC22" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC24" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC22" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC25" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.3.1 Wide character encodings on streams </h3>



<p>Although characters are uniquely coded using the UCS standard
internally, streams and files are byte (8-bit) oriented and there are a
variety of ways to represent the larger UCS codes in an 8-bit octet
stream. The most popular one, especially in the context of the web, is
UTF-8. Bytes 0...127 represent simply the corresponding US-ASCII
character, while bytes 128...255 are used for multi-byte
encoding of characters placed higher in the UCS space. Especially on
MS-Windows the 16-bit Unicode standard, represented by pairs of bytes is
also popular.
</p>
<p>Prolog I/O streams have a property called <em>encoding</em> which
specifies the used encoding that influence <code>get_code/2</code> and
<code>put_code/2</code> as well as all the other text I/O predicates.
</p>
<p>The default encoding for files is derived from the Prolog flag
<code>encoding</code>, which is initialised from the environment.  If the
environment variable <code>LANG</code> ends in &quot;UTF-8&quot;, this encoding is
assumed. Otherwise the default is <code>text</code> and the translation is
left to the wide-character functions of the C-library (note that the
Prolog native UTF-8 mode is considerably faster than the generic
<code>mbrtowc()</code> one).  The encoding can be specified explicitly in
<code>load_files/2</code> for loading Prolog source with an alternative
encoding, <code>open/4</code> when opening files or using <code>set_stream/2</code> on
any open stream (not yet implemented). For Prolog source files we also
provide the <code>encoding/1</code> directive that can be used to switch
between encodings that are compatible to US-ASCII (<code>ascii</code>,
<code>iso_latin_1</code>, <code>utf8</code> and many locales).  
For
additional information and Unicode resources, please visit
<a href="http://www.unicode.org/">http://www.unicode.org/</a>.
</p>
<p>YAP currently defines and supports the following encodings:
</p>
<dl compact="compact">
<dt>  <code>octet</code></dt>
<dd><p>Default encoding for <em>binary</em> streams.  This causes
the stream to be read and written fully untranslated.
</p>
</dd>
<dt>  <code>ascii</code></dt>
<dd><p>7-bit encoding in 8-bit bytes.  Equivalent to <code>iso_latin_1</code>,
but generates errors and warnings on encountering values above
127.
</p>
</dd>
<dt>  <code>iso_latin_1</code></dt>
<dd><p>8-bit encoding supporting many western languages.  This causes
the stream to be read and written fully untranslated.
</p>
</dd>
<dt>  <code>text</code></dt>
<dd><p>C-library default locale encoding for text files.  Files are read and
written using the C-library functions <code>mbrtowc()</code> and
<code>wcrtomb()</code>.  This may be the same as one of the other locales,
notably it may be the same as <code>iso_latin_1</code> for western
languages and <code>utf8</code> in a UTF-8 context.
</p>
</dd>
<dt>  <code>utf8</code></dt>
<dd><p>Multi-byte encoding of full UCS, compatible to <code>ascii</code>.
See above.
</p>
</dd>
<dt>  <code>unicode_be</code></dt>
<dd><p>Unicode Big Endian.  Reads input in pairs of bytes, most
significant byte first.  Can only represent 16-bit characters.
</p>
</dd>
<dt>  <code>unicode_le</code></dt>
<dd><p>Unicode Little Endian.  Reads input in pairs of bytes, least
significant byte first.  Can only represent 16-bit characters.
</p></dd>
</dl>


<p>Note that not all encodings can represent all characters. This implies
that writing text to a stream may cause errors because the stream
cannot represent these characters. The behaviour of a stream on these
errors can be controlled using <code>open/4</code> or <code>set_stream/2</code> (not
implemented). Initially the terminal stream write the characters using
Prolog escape sequences while other streams generate an I/O exception.
</p>

<hr size="6">
<a name="BOM"></a>
<a name="SEC24"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC23" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC25" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC22" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC25" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.3.2 BOM: Byte Order Mark </h3>

<p>From <a href="#SEC23">Wide character encodings on streams</a>, you may have got the impression text-files are
complicated. This section deals with a related topic, making live often
easier for the user, but providing another worry to the programmer.
<strong>BOM</strong> or <em>Byte Order Marker</em> is a technique for
identifying Unicode text-files as well as the encoding they use. Such
files start with the Unicode character <code>0xFEFF</code>, a non-breaking,
zero-width space character. This is a pretty unique sequence that is not
likely to be the start of a non-Unicode file and uniquely distinguishes
the various Unicode file formats. As it is a zero-width blank, it even
doesn't produce any output. This solves all problems, or ...
</p>
<p>Some formats start of as US-ASCII and may contain some encoding mark to
switch to UTF-8, such as the <code>encoding=&quot;UTF-8&quot;</code> in an XML header.
Such formats often explicitly forbid the the use of a UTF-8 BOM. In
other cases there is additional information telling the encoding making
the use of a BOM redundant or even illegal.
</p>
<p>The BOM is handled by the <code>open/4</code> predicate. By default, text-files are
probed for the BOM when opened for reading. If a BOM is found, the
encoding is set accordingly and the property <code>bom(true)</code> is
available through <code>stream_property/2</code>. When opening a file for
writing, writing a BOM can be requested using the option
<code>bom(true)</code> with <code>open/4</code>.
</p>
<hr size="6">
<a name="Loading-Programs"></a>
<a name="SEC25"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC24" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC26" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC30" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 4. Loading Programs </h1>

<table class="menu" border="0" cellspacing="0">

<p>Loading Programs
<a href="#SEC26">4.1 Program loading and updating</a>&nbsp; Program Loading and Updating
<a href="#SEC27">4.2 Changing the Compiler's Behavior</a>&nbsp; Changing the compiler's parameters
<a href="#SEC28">4.3 Conditional Compilation</a>&nbsp; Compiling program fragments
<a href="#SEC29">4.4 Saving and Loading Prolog States</a>&nbsp; Saving and Restoring Programs
</p>
</table>


<hr size="6">
<a name="Compiling"></a>
<a name="SEC26"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC25" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC27" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC25" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC25" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC30" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 4.1 Program loading and updating </h2>

<dl compact="compact">
<dt> <code>consult(<var>+F</var>)</code></dt>
<dd><a name="IDX12"></a>
<a name="IDX13"></a>
<a name="IDX14"></a>
<p>Adds the clauses written in file <var>F</var> or in the list of files <var>F</var>
to the program.
</p>
<p>In YAP <code>consult/1</code> does not remove previous clauses for
the procedures defined in <var>F</var>. Moreover, note that all code in YAP
is compiled.
</p>
</dd>
<dt> <code>reconsult(<var>+F</var>)</code></dt>
<dd><a name="IDX15"></a>
<a name="IDX16"></a>
<a name="IDX17"></a>
<p>Updates the program replacing the
previous definitions for the predicates defined in <var>F</var>.
</p>

</dd>
<dt> <code>[<var>+F</var>]</code></dt>
<dd><a name="IDX18"></a>
<a name="IDX19"></a>
<a name="IDX20"></a>
<p>The same as <code>consult(F)</code>.
</p>
</dd>
<dt> <code>[-<var>+F</var>]</code></dt>
<dd><a name="IDX21"></a>
<a name="IDX22"></a>
<a name="IDX23"></a>
<p>The same as <code>reconsult(F)</code>
</p>
<p>Example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">?- [file1, -file2, -file3, file4].
</pre></td></tr></table>
<p>will consult <code>file1</code> <code>file4</code> and reconsult <code>file2</code> and
<code>file3</code>.
</p>
</dd>
<dt> <code>compile(<var>+F</var>)</code></dt>
<dd><a name="IDX24"></a>
<a name="IDX25"></a>
<a name="IDX26"></a>
<p>In YAP, the same as <code>reconsult/1</code>.
</p>
</dd>
<dt> <code>load_files(<var>+Files</var>, <var>+Options</var>)</code></dt>
<dd><a name="IDX27"></a>
<a name="IDX28"></a>
<a name="IDX29"></a>
<p>General implementation of <code>consult</code>. Execution is controlled by the
following flags:
</p>
<dl compact="compact">
<dt> <code>autoload(+<var>Autoload</var>)</code></dt>
<dd><p>SWI-compatible option where if <var>Autoload</var> is <code>true</code> predicates
are loaded on first call. Currently
not supported.
</p></dd>
<dt> <code>derived_from(+<var>File</var>)</code></dt>
<dd><p>      SWI-compatible option to control make. Currently
      not supported.
</p></dd>
<dt> <code>encoding(+<var>Encoding</var>)</code></dt>
<dd><p>Character encoding used in consulting files. Please see section <a href="#SEC22">Wide Character Support</a> for
supported encodings.
</p>
</dd>
<dt> <code>expand(+<var>Bool</var>)</code></dt>
<dd><p>      Not yet implemented. In SWI-Prolog, if <code>true</code>, run the
    filenames through <code>expand_file_name/2</code> and load the returned
    files. Default is false, except for <code>consult/1</code> which is
    intended for interactive use.
</p>
</dd>
<dt> <code>if(+<var>Condition</var>)</code></dt>
<dd><p>    Load the file only if the specified <var>Condition</var> is
    satisfied. The value <code>true</code> the file unconditionally,
    <code>changed</code> loads the file if it was not loaded before, or has
    been modified since it was loaded the last time, <code>not_loaded</code>
    loads the file if it was not loaded before.
</p>
</dd>
<dt> <code>imports(+<var>ListOrAll</var>)</code></dt>
<dd><p>    If <code>all</code> and the file is a module file, import all public
    predicates. Otherwise import only the named predicates. Each
    predicate is referred to as <code>&lt;name&gt;/&lt;arity&gt;</code>. This option has
    no effect if the file is not a module file.
</p>
</dd>
<dt> <code>must_be_module(+<var>Bool</var>)</code></dt>
<dd><p>    If true, raise an error if the file is not a module file. Used by
    <code>use_module/[1,2]</code>.
</p>

</dd>
<dt> <code>silent(+<var>Bool</var>)</code></dt>
<dd><p>    If true, load the file without printing a message. The specified value is the default for all files loaded as a result of loading the specified files.
</p>
</dd>
<dt> <code>stream(+<var>Input</var>)</code></dt>
<dd><p>    This SWI-Prolog extension compiles the data from the stream
    <var>Input</var>. If this option is used, <var>Files</var> must be a single
    atom which is used to identify the source-location of the loaded
    clauses as well as remove all clauses if the data is re-consulted.
</p>
<p>    This option is added to allow compiling from non-file locations such as databases, the web, the user (see consult/1) or other servers. 
</p>
</dd>
<dt> <code>compilation_mode(+<var>Mode</var>)</code></dt>
<dd><p>    This extension controls how procedures are compiled. If <var>Mode</var>
    is <code>compile</code> clauses are compiled and no source code is stored;
    is <code>assert_all</code> clauses are asserted into the data-base.
</p></dd>
</dl>

</dd>
<dt> <code>ensure_loaded(<var>+F</var>) [ISO]</code></dt>
<dd><a name="IDX30"></a>
<a name="IDX31"></a>
<a name="IDX32"></a>
<p>When the files specified by <var>F</var> are module files,
<code>ensure_loaded/1</code> loads them if they have note been previously
loaded, otherwise advertises the user about the existing name clashes
and prompts about importing or not those predicates. Predicates which
are not public remain invisible.
</p>
<p>When the files are not module files, <code>ensure_loaded/1</code> loads them
if they have not been loaded before, does nothing otherwise.
</p>
<p><var>F</var> must be a list containing the names of the files to load.
</p>
</dd>
<dt> <code>include(<var>+F</var>) [ISO]</code></dt>
<dd><a name="IDX33"></a>
<a name="IDX34"></a>
<a name="IDX35"></a>
<p>The <code>include</code> directive includes the text files or sequence of text
files specified by <var>F</var> into the file being currently consulted.
</p>
</dd>
</dl>

<hr size="6">
<a name="Setting-the-Compiler"></a>
<a name="SEC27"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC26" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC28" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC25" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC25" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC30" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 4.2 Changing the Compiler's Behavior </h2>

<p>This section presents a set of built-ins predicates designed to set the 
environment for the compiler.
</p>
<dl compact="compact">
<dt> <code>source_mode(-<var>O</var>,+<var>N</var>)</code></dt>
<dd><a name="IDX36"></a>
<a name="IDX37"></a>
<a name="IDX38"></a>
<p>The state of source mode can either be on or off. When the source mode
is on, all clauses are kept both as compiled code and in a &quot;hidden&quot;
database. <var>O</var> is unified with the previous state and the mode is set
according to <var>N</var>.
</p>
</dd>
<dt> <code>source</code></dt>
<dd><a name="IDX39"></a>
<a name="IDX40"></a>
<a name="IDX41"></a>
<p>After executing this goal, YAP keeps information on the source
of the predicates that will be consulted. This enables the use of
<code>listing/0</code>, <code>listing/1</code> and <code>clause/2</code> for those
clauses.
</p>
<p>The same as <code>source_mode(_,on)</code> or as declaring all newly defined
static procedures as <code>public</code>.
</p>
</dd>
<dt> <code>no_source</code></dt>
<dd><a name="IDX42"></a>
<a name="IDX43"></a>
<a name="IDX44"></a>
<p>The opposite to <code>source</code>.
</p>
<p>The same as <code>source_mode(_,off)</code>.
</p>
</dd>
<dt> <code>compile_expressions</code></dt>
<dd><a name="IDX45"></a>
<a name="IDX46"></a>
<a name="IDX47"></a>
<p>After a call to this predicate, arithmetical expressions will be compiled.
(see example below). This is the default behavior.
</p>
</dd>
<dt> <code>do_not_compile_expressions</code></dt>
<dd><a name="IDX48"></a>
<a name="IDX49"></a>
<a name="IDX50"></a>
<p>After a call to this predicate, arithmetical expressions will not be compiled.
</p><table><tr><td>&nbsp;</td><td><pre class="example">?- source, do_not_compile_expressions.
yes
?- [user].
| p(X) :- X is 2 * (3 + 8).
| :- end_of_file.
?- compile_expressions.
yes
?- [user].
| q(X) :- X is 2 * (3 + 8).
| :- end_of_file.
:- listing.

p(A):-
      A is 2 * (3 + 8).

q(A):-
      A is 22.
</pre></td></tr></table>

</dd>
<dt> <code>hide(+<var>Atom</var>)</code></dt>
<dd><a name="IDX51"></a>
<a name="IDX52"></a>
<a name="IDX53"></a>
<p>Make atom <var>Atom</var> invisible.
</p>
</dd>
<dt> <code>unhide(+<var>Atom</var>)</code></dt>
<dd><a name="IDX54"></a>
<a name="IDX55"></a>
<a name="IDX56"></a>
<p>Make hidden atom <var>Atom</var> visible.
</p>

</dd>
<dt> <code>hide_predicate(+<var>Pred</var>)</code></dt>
<dd><a name="IDX57"></a>
<a name="IDX58"></a>
<a name="IDX59"></a>
<p>Make predicate <var>Pred</var> invisible to <code>current_predicate/2</code>,
<code>listing</code>, and friends.
</p>
</dd>
<dt> <code>expand_exprs(-<var>O</var>,+<var>N</var>)</code></dt>
<dd><a name="IDX60"></a>
<a name="IDX61"></a>
<a name="IDX62"></a>
<p>Puts YAP in state <var>N</var> (<code>on</code> or <code>off</code>) and unify
<var>O</var> with the previous state, where <var>On</var> is equivalent to
<code>compile_expressions</code> and <code>off</code> is equivalent to
<code>do_not_compile_expressions</code>. This predicate was kept to maintain
compatibility with C-Prolog.
</p>
</dd>
<dt> <code>path(-<var>D</var>)</code></dt>
<dd><a name="IDX63"></a>
<a name="IDX64"></a>
<a name="IDX65"></a>
<p>Unifies <var>D</var> with the current directory search-path of YAP.
Note that this search-path is only used by YAP to find the
files for <code>consult/1</code>, <code>reconsult/1</code> and <code>restore/1</code> and
should not be taken for the system search path.
</p>
</dd>
<dt> <code>add_to_path(+<var>D</var>)</code></dt>
<dd><a name="IDX66"></a>
<a name="IDX67"></a>
<a name="IDX68"></a>
<p>Adds <var>D</var> to the end of YAP's directory search path.
</p>
</dd>
<dt> <code>add_to_path(+<var>D</var>,+<var>N</var>)</code></dt>
<dd><a name="IDX69"></a>
<a name="IDX70"></a>
<a name="IDX71"></a>
<p>Inserts <var>D</var> in the position, of the directory search path of
YAP, specified by <var>N</var>.  <var>N</var> must be either of
<code>first</code> or <code>last</code>.
</p>
</dd>
<dt> <code>remove_from_path(+<var>D</var>)</code></dt>
<dd><a name="IDX72"></a>
<a name="IDX73"></a>
<a name="IDX74"></a>
<p>Remove <var>D</var> from YAP's directory search path.
</p>
</dd>
<dt> <code>style_check(+<var>X</var>)</code></dt>
<dd><a name="IDX75"></a>
<a name="IDX76"></a>
<a name="IDX77"></a>
<p>Turns on style checking according to the attribute specified by <var>X</var>,
which must be one of the following:
</p><dl compact="compact">
<dt> <code>single_var</code></dt>
<dd><p>Checks single occurrences of named variables in a clause.
</p></dd>
<dt> <code>discontiguous</code></dt>
<dd><p>Checks non-contiguous clauses for the same predicate in a file.
</p></dd>
<dt> <code>multiple</code></dt>
<dd><p>Checks the presence of clauses for the same predicate in more than one
file when the predicate has not been declared as <code>multifile</code>
</p></dd>
<dt> <code>all</code></dt>
<dd><p>Performs style checking for all the cases mentioned above.
</p></dd>
</dl>
<p>By default, style checking is disabled in YAP unless we are in
<code>sicstus</code> or <code>iso</code> language mode.
</p>
<p>The <code>style_check/1</code> built-in is now deprecated. Please use the
<code>set_prolog_flag/1</code> instead.
</p>
</dd>
<dt> <code>no_style_check(+<var>X</var>)</code></dt>
<dd><a name="IDX78"></a>
<a name="IDX79"></a>
<a name="IDX80"></a>
<p>Turns off style checking according to the attribute specified by
<var>X</var>, which has the same meaning as in <code>style_check/1</code>.
</p>
<p>The <code>no_style_check/1</code> built-in is now deprecated. Please use the
<code>set_prolog_flag/1</code> instead.
</p>
</dd>
<dt> <code>multifile <var>P</var> [ISO]</code></dt>
<dd><a name="IDX81"></a>
<a name="IDX82"></a>
<a name="IDX83"></a>
<p>Instructs the compiler about the declaration of a predicate <var>P</var> in
more than one file. It must appear in the first of the loaded files
where the predicate is declared, and before declaration of any of its
clauses.
</p>
<p>Multifile declarations affect <code>reconsult/1</code> and <code>compile/1</code>:
when a multifile predicate is reconsulted, only the clauses from the
same file are removed.
</p>
<p>Since YAP4.3.0 multifile procedures can be static or dynamic.
</p>
</dd>
<dt> <code>discontiguous(+<var>G</var>) [ISO]</code></dt>
<dd><a name="IDX84"></a>
<a name="IDX85"></a>
<a name="IDX86"></a>

<p>Declare that the arguments are discontiguous procedures, that is,
clauses for discontigous procedures may be separated by clauses from
other procedures.
</p>
</dd>
<dt> <code>initialization(+<var>G</var>) [ISO]</code></dt>
<dd><a name="IDX87"></a>
<a name="IDX88"></a>
<a name="IDX89"></a>
<p>The compiler will execute goals <var>G</var> after consulting the current
file.
</p>
</dd>
<dt> <code>library_directory(+<var>D</var>)</code></dt>
<dd><a name="IDX90"></a>
<a name="IDX91"></a>
<a name="IDX92"></a>
<p>Succeeds when <var>D</var> is a current library directory name. Library
directories are the places where files specified in the form
<code>library(<var>File</var>)</code> are searched by the predicates
<code>consult/1</code>, <code>reconsult/1</code>, <code>use_module/1</code> or
<code>ensure_loaded/1</code>.
</p>
</dd>
<dt> <code>file_search_path(+<var>NAME</var>,-<var>DIRECTORY</var>)</code></dt>
<dd><a name="IDX93"></a>
<a name="IDX94"></a>
<a name="IDX95"></a>
<p>Allows writing file names as compound terms. The <var>NAME</var> and
 <var>DIRECTORY</var> must be atoms. The predicate may generate multiple
solutions. The predicate is originally defined as follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">file_search_path(library,A) :-
   library_directory(A).
file_search_path(system,A) :-
   prolog_flag(host_type,A).
</pre></td></tr></table>

<p>Thus, <code>[library(A)]</code> will search for a file using
<code>library_directory/1</code> to obtain the prefix.
</p>
</dd>
<dt> <code>library_directory(+<var>D</var>)</code></dt>
<dd><a name="IDX96"></a>
<a name="IDX97"></a>
<a name="IDX98"></a>
<p>Succeeds when <var>D</var> is a current library directory name. Library
directories are the places where files specified in the form
<code>library(<var>File</var>)</code> are searched by the predicates
<code>consult/1</code>, <code>reconsult/1</code>, <code>use_module/1</code> or
<code>ensure_loaded/1</code>.
</p>
</dd>
<dt> <code>prolog_file_name(+<var>Name</var>,-<var>FullPath</var>)</code></dt>
<dd><a name="IDX99"></a>
<a name="IDX100"></a>
<a name="IDX101"></a>
<p>Unify <var>FullPath</var> with the absolute path YAP would use to consult
file <var>Name</var>.
</p>
</dd>
<dt> <code>public <var>P</var> [ISO]</code></dt>
<dd><a name="IDX102"></a>
<a name="IDX103"></a>
<a name="IDX104"></a>
<p>Instructs the compiler that the source of a predicate of a list of
predicates <var>P</var> must be kept. This source is then accessible through
the <code>clause/2</code> procedure and through the <code>listing</code> family of
built-ins.
</p>
<p>Note that all dynamic procedures are public. The <code>source</code> directive
defines all new or redefined predicates to be public.
</p>
<p>Since YAP4.3.0 multifile procedures can be static or dynamic.
</p>
</dd>
</dl>

<hr size="6">
<a name="Conditional-Compilation"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC27" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC29" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC25" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC25" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC30" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>

<a name="SEC28"></a>
<h2 class="section"> 4.3 Conditional Compilation </h2>

<p>Conditional compilation builds on the same principle as
<code>term_expansion/2</code>, <code>goal_expansion/2</code> and the expansion of
grammar rules to compile sections of the source-code
conditionally. One of the reasons for introducing conditional
compilation is to simplify writing portable code.
</p>



<p>Note that these directives can only be appear as separate terms in the
input.  Typical usage scenarios include:
</p>
<ul>
<li> Load different libraries on different dialects
    </li><li> Define a predicate if it is missing as a system predicate
    </li><li> Realise totally different implementations for a particular
    part of the code due to different capabilities.
    </li><li> Realise different configuration options for your software.
</li></ul>


<dl compact="compact">
<dt> <code>if(+<var>Goal</var>)</code></dt>
<dd><a name="IDX105"></a>
<a name="IDX106"></a>
<a name="IDX107"></a>
<p>Compile subsequent code only if <var>Goal</var> succeeds.  For enhanced
portability, <var>Goal</var> is processed by <code>expand_goal/2</code> before execution.
If an error occurs, the error is printed and processing proceeds as if
<var>Goal</var> has failed.
</p>
</dd>
<dt> <code>else</code></dt>
<dd><a name="IDX108"></a>
<a name="IDX109"></a>
<a name="IDX110"></a>
<p>Start `else' branch.
</p>
</dd>
<dt> <code>endif</code></dt>
<dd><a name="IDX111"></a>
<a name="IDX112"></a>
<a name="IDX113"></a>
<p>End of conditional compilation.
</p>
</dd>
<dt> <code>elif(+<var>Goal</var>)</code></dt>
<dd><a name="IDX114"></a>
<a name="IDX115"></a>
<a name="IDX116"></a>
<p>Equivalent to <code>:- else. :-if(Goal) ... :- endif.</code>  In a sequence
as below, the section below the first matching elif is processed, If
no test succeeds the else branch is processed.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">:- if(test1).
section_1.
:- elif(test2).
section_2.
:- elif(test3).
section_3.
:- else.
section_else.
:- endif.
</pre></td></tr></table>

</dd>
</dl>

<hr size="6">
<a name="Saving"></a>
<a name="SEC29"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC28" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC30" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC25" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC25" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC30" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 4.4 Saving and Loading Prolog States </h2>

<dl compact="compact">
<dt> <code>save(+<var>F</var>)</code></dt>
<dd><a name="IDX117"></a>
<a name="IDX118"></a>
<a name="IDX119"></a>
<p>Saves an image of the current state of YAP in file <var>F</var>. From
<strong>YAP4.1.3</strong> onwards, YAP saved states are executable
files in the Unix ports.
</p>
</dd>
<dt> <code>save(+<var>F</var>,-<var>OUT</var>)</code></dt>
<dd><a name="IDX120"></a>
<a name="IDX121"></a>
<a name="IDX122"></a>
<p>Saves an image of the current state of YAP in file <var>F</var>. From
<strong>YAP4.1.3</strong> onwards, YAP saved states are executable
files in the Unix ports.
</p>
<p>Unify <var>OUT</var> with 1 when saving the file and <var>OUT</var> with 0 when
restoring the saved state.
</p>
</dd>
<dt> <code>save_program(+<var>F</var>)</code></dt>
<dd><a name="IDX123"></a>
<a name="IDX124"></a>
<a name="IDX125"></a>
<p>Saves an image of the current state of the YAP database in file
<var>F</var>.
</p>
</dd>
<dt> <code>save_program(+<var>F</var>, :<var>G</var>)</code></dt>
<dd><a name="IDX126"></a>
<a name="IDX127"></a>
<a name="IDX128"></a>
<p>Saves an image of the current state of the YAP database in file
<var>F</var>, and guarantee that execution of the restored code will start by
trying goal <var>G</var>.
</p>
</dd>
<dt> <code>restore(+<var>F</var>)</code></dt>
<dd><a name="IDX129"></a>
<a name="IDX130"></a>
<a name="IDX131"></a>
<p>Restores a previously saved state of YAP from file <var>F</var>.
</p>
<p>YAP always tries to find saved states from the current directory
first. If it cannot it will use the environment variable YAPLIBDIR, if
defined, or search the default library directory.
</p></dd>
</dl>


<hr size="6">
<a name="Modules"></a>
<a name="SEC30"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC29" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC31" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC25" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 5. The Module System </h1>

<p>Module systems are quite important for the development of large
applications. YAP implements a module system compatible with the Quintus
Prolog module system.
</p>
<p>The YAP module system is predicate-based. This means a module consists
of a set of predicates (or procedures), such that some predicates are
public and the others are local to a module. Atoms and terms in general
are global to the system. Moreover, the module system is flat, meaning
that we do not support an hierarchy of modules. Modules can
automatically import other modules, though. For compatibility with other
module systems the YAP module system is non-strict, meaning both that
there is both a way to access predicates private to a module and that is
possible to declare predicates for a module from some other module.
</p>
<p>YAP allows one to ignore the module system if one does not want to use
it. Last note that using the module system does not introduce any
significant overheads: only meta-calls that cross module boundaries are
slowed down by the presence of modules.
</p>
<table class="menu" border="0" cellspacing="0">

<tr><td align="left" valign="top"><a href="#SEC31">5.1 Module Concepts</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> The Key Ideas in Modules
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC32">5.2 Defining a New Module</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> How To Define a New Module
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC33">5.3 Using Modules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> How to Use a Module
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC34">5.4 Meta-Predicates in Modules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> How to Handle New Meta-Predicates
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC35">5.5 Re-Exporting Predicates From Other Modules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> How to Re-export Predicates From Other Modules
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
</pre></th></tr></table>

<hr size="6">
<a name="Module-Concepts"></a>
<a name="SEC31"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC30" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC30" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC30" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 5.1 Module Concepts </h2>

<p>The YAP module system applies to predicates. All predicates belong to a
module. System predicates belong to the module <code>primitives</code>, and by
default new predicates belong to the module <code>user</code>. Predicates from
the module <code>primitives</code> are automatically visible to every module.
</p>
<p>Every predicate must belong to a module. This module is called its
<em>source module</em>.
</p>
<p>By default, the source module for a clause occurring in a source file
with a module declaration is the declared module. For goals typed in 
a source file without module declarations, their module is the module
the file is being loaded into. If no module declarations exist, this is
the current <em>type-in module</em>. The default type-in module is
<code>user</code>, but one can set the current module by using the built-in
<code>module/1</code>.
</p>
<p>Note that in this module system one can explicitly specify the source
mode for a clause by prefixing a clause with its module, say:
</p><table><tr><td>&nbsp;</td><td><pre class="example">user:(a :- b).
</pre></td></tr></table>
<p>In fact, to specify the source module for a clause it is sufficient to
specify the source mode for the clause's head:
</p><table><tr><td>&nbsp;</td><td><pre class="example">user:a :- b.
</pre></td></tr></table>

<p>The rules for goals are similar. If a goal appears in a text file with a
module declaration, the goal's source module is the declared
module. Otherwise, it is the module the file is being loaded into or the
type-in module.
</p>
<p>One can override this rule by prefixing a goal with the module it is
supposed to be executed into, say:
</p><table><tr><td>&nbsp;</td><td><pre class="example">nasa:launch(apollo,13).
</pre></td></tr></table>
<p>will execute the goal <code>launch(apollo,13)</code> as if the current source
module was <code>nasa</code>.
</p>
<p>Note that this rule breaks encapsulation and should be used with care.
</p>
<hr size="6">
<a name="Defining-Modules"></a>
<a name="SEC32"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC31" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC33" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC30" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC30" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 5.2 Defining a New Module </h2>

<p>A new module is defined by a <code>module</code> declaration:
</p>
<dl compact="compact">
<dt> <code>module(+<var>M</var>,+<var>L</var>)</code></dt>
<dd><a name="IDX132"></a>
<a name="IDX133"></a>
<a name="IDX134"></a>
<p>This predicate defines the file where it appears as a module file; it
must be the first declaration in the file.
<var>M</var> must be an atom specifying the module name; <var>L</var> must be a list
containing the module's public predicates specification, in the form
<code>[predicate_name/arity,...]</code>.
</p>
<p>The public predicates of a module file can be made accessible by other
files through the predicates <code>consult/1</code>, <code>reconsult/1</code>,
<code>ensure_loaded/1</code> or <code>use_module/2</code>. The non-public predicates
of a module file are not visible by other files; they can, however, be
accessed if the module name is prefixed to the file name through the
<code>:/2</code> operator.
</p>
</dd>
</dl>

<p>The built-in <code>module/1</code> sets the current source module:
</p><dl compact="compact">
<dt> <code>module(+<var>M</var>,+<var>L</var>, +<var>Options</var>)</code></dt>
<dd><a name="IDX135"></a>
<a name="IDX136"></a>
<a name="IDX137"></a>
<p>Similar to <code>module/2</code>, this predicate defines the file where it
appears as a module file; it must be the first declaration in the file.
<var>M</var> must be an atom specifying the module name; <var>L</var> must be a
list containing the module's public predicates specification, in the
form <code>[predicate_name/arity,...]</code>.
</p>
<p>The last argument <var>Options</var> must be a list of options, which can be:
</p>
<dl compact="compact">
<dt> <code>filename</code></dt>
<dd><p> the filename for a module to import into the current module.
</p>
</dd>
<dt> <code>library(file)</code></dt>
<dd><p> a library file to import into the current module.
</p>
</dd>
<dt> <code>hide(<var>Opt</var>)</code></dt>
<dd><p> if <var>Opt</var> is <code>false</code>, keep source code for current module, if
<code>true</code>, disable.
</p></dd>
</dl>

</dd>
<dt> <code>module(+<var>M</var>)</code></dt>
<dd><a name="IDX138"></a>
<a name="IDX139"></a>
<a name="IDX140"></a>
<p>Defines <var>M</var> to be the current working or type-in module. All files
which are not binded to a module are assumed to belong to the working
module (also referred to as type-in module). To compile a non-module
file into a module which is not the working one, prefix the file name
with the module name, in the form <code><var>Module</var>:<var>File</var></code>, when
loading the file.
</p>
</dd>
</dl>

<hr size="6">
<a name="Using-Modules"></a>
<a name="SEC33"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC32" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC34" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC30" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC30" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 5.3 Using Modules </h2>

<p>By default, all procedures to consult a file will load the modules
defined therein. The two following declarations allow one to import a
module explicitly. They differ on whether one imports all predicate
declared in the module or not.
</p>
<dl compact="compact">
<dt> <code>use_module(+<var>F</var>)</code></dt>
<dd><a name="IDX141"></a>
<a name="IDX142"></a>
<a name="IDX143"></a>
<p>Loads the files specified by <var>F</var>, importing all their public
predicates. Predicate name clashes are resolved by asking the user about
importing or not the predicate. A warning is displayed when <var>F</var> is
not a module file.
</p>
</dd>
<dt> <code>use_module(+<var>F</var>,+<var>L</var>)</code></dt>
<dd><a name="IDX144"></a>
<a name="IDX145"></a>
<a name="IDX146"></a>
<p>Loads the files specified by <var>F</var>, importing the predicates specified
in the list <var>L</var>. Predicate name clashes are resolved by asking the
user about importing or not the predicate. A warning is displayed when
<var>F</var> is not a module file.
</p>
</dd>
<dt> <code>use_module(?<var>M</var>,?<var>F</var>,+<var>L</var>)</code></dt>
<dd><a name="IDX147"></a>
<a name="IDX148"></a>
<a name="IDX149"></a>
<p>If module <var>M</var> has been defined, import the procedures in <var>L</var> to
the current module. Otherwise, load the files specified by <var>F</var>,
importing the predicates specified in the list <var>L</var>. 
</p></dd>
</dl>


<hr size="6">
<a name="Meta_002dPredicates-in-Modules"></a>
<a name="SEC34"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC33" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC35" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC30" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC30" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 5.4 Meta-Predicates in Modules </h2>

<p>The module system must know whether predicates operate on goals or
clauses. Otherwise, such predicates would call a goal in the module they
were defined, instead of calling it in the module they are currently
executing. So, for instance:
</p><table><tr><td>&nbsp;</td><td><pre class="example">:- module(example,[a/1]).

...

a(G) :- call(G)

...

</pre></td></tr></table>
<p>The expected behavior for this procedure is to execute goal <var>G</var>
within  the current module, that is, within <code>example</code>.
On the other hand, when executing <code>call/1</code> the system only knows
where <code>call/1</code> was defined, that is, it only knows of
<code>primitives</code>. A similar problem arises for <code>assert/1</code> and
friends.
</p>
<p>The <code>meta_predicate/1</code> declaration informs the system that some
arguments of a procedure are goals, clauses or clauses heads, and that
these arguments must be expanded to receive the current source module:
</p>
<dl compact="compact">
<dt> <code>meta_predicate <var>G1</var>,....,<var>Gn</var></code></dt>
<dd><a name="IDX150"></a>
<a name="IDX151"></a>
<a name="IDX152"></a>
<p>Each <var>Gi</var> is a mode specification. For example, a declaration for
<code>call/1</code> and <code>setof/3</code> would be of the form:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">:- meta_predicate call(:), setof(?,:,?).
</pre></td></tr></table>

<p>If the argument is <code>:</code> or an integer, the argument is a call and
must be expanded. Otherwise, the argument should not be expanded. Note
that the system already includes declarations for all built-ins.
</p>
</dd>
</dl>


<p>In the previous example, the only argument to <code>call/1</code> must be
expanded, resulting in the following code:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">:- module(example,[a/1]).

...

a(G) :- call(example:G)

...

</pre></td></tr></table>

<p>You can avoid goal expansion by using <code>module_transparent/1</code>.
</p>
<dl compact="compact">
<dt> <code>module_transparent +<var>Preds</var></code></dt>
<dd><a name="IDX153"></a>
<a name="IDX154"></a>
<a name="IDX155"></a>
<p>     <var>Preds</var> is a comma separated list of name/arity pairs (like
    <code>dynamic/1</code>). Each goal associated with a transparent declared
    predicate will inherit the context module from its parent goal.
</p></dd>
</dl>


<hr size="6">
<a name="Re_002dExporting-Modules"></a>
<a name="SEC35"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC34" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC30" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC30" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 5.5 Re-Exporting Predicates From Other Modules </h2>

<p>It is sometimes convenient to re-export predicates originally defined in
a different module. This is often useful if you are adding to the
functionality of a module, or if you are composing a large module with
several small modules. The following declarations can be used for that purpose:
</p>
<dl compact="compact">
<dt> <code>reexport(+<var>F</var>)</code></dt>
<dd><a name="IDX156"></a>
<a name="IDX157"></a>
<a name="IDX158"></a>
<p>Export all predicates defined in file <var>F</var> as if they were defined in
the current module.
</p>
</dd>
<dt> <code>reexport(+<var>F</var>,+<var>Decls</var>)</code></dt>
<dd><a name="IDX159"></a>
<a name="IDX160"></a>
<a name="IDX161"></a>
<p>Export predicates defined in file <var>F</var> according to <var>Decls</var>. The
declarations may be of the form:
</p><ul>
<li> A list of predicate declarations to be exported. Each declaration
may be a predicate indicator or of the form &ldquo;<var>PI</var> <code>as</code>
<var>NewName</var>&rdquo;, meaning that the predicate with indicator <var>PI</var> is
to be exported under name <var>NewName</var>.
</li><li> <code>except</code>(<var>List</var>) 
In this case, all predicates not in <var>List</var> are exported. Moreover,
if &ldquo;<var>PI</var> <code>as</code> <var>NewName</var>&rdquo; is found, the predicate with
indicator <var>PI</var> is to be exported under name <var>NewName</var>&nbsp;as
before.
</li></ul>
</dd>
</dl>

<p>Re-exporting predicates must be used with some care. Please, take into
account the following observations:
</p>
<ul>
<li>
The <code>reexport</code> declarations must be the first declarations to
follow the  <code>module</code> declaration.
</li><li>
It is possible to use both <code>reexport</code> and <code>use_module</code>, but
all predicates reexported are automatically available for use in the
current module.
</li><li>
In order to obtain efficient execution, YAP compiles dependencies
between re-exported predicates. In practice, this means that changing a
<code>reexport</code> declaration and then <strong>just</strong> recompiling the file
may result in incorrect execution.
</li></ul>


<hr size="6">
<a name="Built_002dins"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC35" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC37" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC30" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>

<a name="SEC36"></a>
<h1 class="chapter"> 6. Built-In Predicates </h1>

<table class="menu" border="0" cellspacing="0">

<p>Built-ins, Debugging, Syntax, Top
<a href="#SEC37">6.1 Control Predicates</a>&nbsp; Controlling the Execution of Prolog Programs
<a href="#SEC38">6.2 Handling Undefined Procedures</a>&nbsp; Handling calls to Undefined Procedures
<a href="#SEC39">6.3 Message Handling</a>&nbsp; Message Handling in YAP
<a href="#SEC40">6.4 Predicates on terms</a>&nbsp; Predicates on Terms
<a href="#SEC41">6.5 Predicates on Atoms</a>&nbsp; Manipulating Atoms
<a href="#SEC42">6.6 Predicates on Atoms</a>&nbsp; Manipulating Characters
<a href="#SEC43">6.7 Comparing Terms</a>&nbsp; Comparison of Terms
<a href="#SEC44">6.8 Arithmetic</a>&nbsp; Arithmetic in YAP
<a href="#SEC45">6.9 I/O Predicates</a>&nbsp; Input/Output with YAP
<a href="#SEC54">6.10 Using the Clausal Data Base</a>&nbsp; Modifying Prolog's Database
<a href="#SEC60">6.13 Collecting Solutions to a Goal</a>&nbsp; Finding All Possible Solutions
<a href="#SEC61">6.14 Grammar Rules</a>&nbsp; Grammar Rules
<a href="#SEC70">6.21 Predicate Information</a>&nbsp; Predicate Information
<a href="#SEC62">6.15 Access to Operating System Functionality</a>&nbsp; Access to Operating System Functionality
<a href="#SEC63">6.16 Term Modification</a>&nbsp; Updating Prolog Terms
<a href="#SEC64">6.17 Global Variables</a>&nbsp; Manipulating Global Variables
<a href="#SEC65">6.18 Profiling Prolog Programs</a>&nbsp; Profiling Prolog Execution
<a href="#SEC68">6.19 Counting Calls</a>&nbsp; Limiting the Maximum Number of Reductions
<a href="#SEC69">6.20 Arrays</a>&nbsp; Supporting Global and Local Arrays
<a href="#SEC70">6.21 Predicate Information</a>&nbsp; Information on Predicates
<a href="#SEC71">6.22 Miscellaneous</a>&nbsp; Miscellaneous Predicates
</p>
</table>

<hr size="6">
<a name="Control"></a>
<a name="SEC37"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC36" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC38" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 6.1 Control Predicates </h2>


<p>This chapter describes the predicates for controlling the execution of
Prolog programs.
</p>
<p>In the description of the arguments of functors the following notation
will be used:
</p>
<ul>
<li>
a preceding plus sign will denote an argument as an &quot;input argument&quot; -
it cannot be a free variable at the time of the call; 
</li><li>
 a preceding minus sign will denote an &quot;output argument&quot;;
</li><li>
an argument with no preceding symbol can be used in both ways.
</li></ul>


<dl compact="compact">
<dt> <code>+<var>P</var>, +<var>Q</var> [ISO]</code></dt>
<dd><a name="IDX162"></a>
<a name="IDX163"></a>
<a name="IDX164"></a>
<p>Conjunction of goals (and).
</p>
<p>Example:
</p><table><tr><td>&nbsp;</td><td><pre class="example"> p(X) :- q(X), r(X).
</pre></td></tr></table>

<p>should be read as &quot;p(<var>X</var>) if q(<var>X</var>) and r(<var>X</var>)&quot;.
</p>
</dd>
<dt> <code>+<var>P</var> ; +<var>Q</var> [ISO]</code></dt>
<dd><a name="IDX165"></a>
<a name="IDX166"></a>
<a name="IDX167"></a>
<p>Disjunction of goals (or).
</p>
<p>Example:
</p><table><tr><td>&nbsp;</td><td><pre class="example"> p(X) :- q(X); r(X).
</pre></td></tr></table>
<p>should be read as &quot;p(<var>X</var>) if q(<var>X</var>) or r(<var>X</var>)&quot;.
</p>
</dd>
<dt> <code>true [ISO]</code></dt>
<dd><a name="IDX168"></a>
<a name="IDX169"></a>
<a name="IDX170"></a>
<p>Succeeds once.
</p>
</dd>
<dt> <code>fail [ISO]</code></dt>
<dd><a name="IDX171"></a>
<a name="IDX172"></a>
<a name="IDX173"></a>
<p>Fails always.
</p>
</dd>
<dt> <code>false</code></dt>
<dd><a name="IDX174"></a>
<a name="IDX175"></a>
<a name="IDX176"></a>
<p>The same as fail
</p>
</dd>
<dt> <code>! [ISO]</code></dt>
<dd><a name="IDX177"></a>
<a name="IDX178"></a>
<a name="IDX179"></a>
<p>  Read as &quot;cut&quot;. Cuts any choices taken in the current procedure.
When first found &quot;cut&quot; succeeds as a goal, but if backtracking should
later return to it, the parent goal (the one which matches the head of
the clause containing the &quot;cut&quot;, causing the clause activation) will
fail. This is an extra-logical predicate and cannot be explained in
terms of the declarative semantics of Prolog.
</p>
<p>example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"> member(X,[X|_]).
 member(X,[_|L]) :- member(X,L).
</pre></td></tr></table>

<p>With the above definition
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"> ?- member(X,[1,2,3]).
</pre></td></tr></table>

<p>will return each element of the list by backtracking. With the following
definition:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"> member(X,[X|_]) :- !.
 member(X,[_|L]) :- member(X,L).
</pre></td></tr></table>

<p>the same query would return only the first element of the 
list, since backtracking could not &quot;pass through&quot; the cut.
</p>
</dd>
<dt> <code>\+ +<var>P</var> [ISO]</code></dt>
<dd><a name="IDX180"></a>
<a name="IDX181"></a>
<a name="IDX182"></a>
<p>Goal <var>P</var> is not provable. The execution of this predicate fails if
and only if the goal <var>P</var> finitely succeeds. It is not a true logical
negation, which is impossible in standard Prolog, but
&quot;negation-by-failure&quot;.
</p>
<p>This predicate might be defined as:
</p><table><tr><td>&nbsp;</td><td><pre class="example"> \+(P) :- P, !, fail.
 \+(_).
</pre></td></tr></table>
<p>if <var>P</var> did not include &quot;cuts&quot;.
</p>
</dd>
<dt> <code>not +<var>P</var></code></dt>
<dd><a name="IDX183"></a>
<a name="IDX184"></a>
<a name="IDX185"></a>
<p>Goal <var>P</var> is not provable. The same as <code>'\+ <var>P</var>'</code>.
</p>
<p>This predicate is kept for compatibility with C-Prolog and previous
versions of YAP. Uses of <code>not/1</code> should be replace by
<code>(\+)/1</code>, as YAP does not implement true negation.
</p>
</dd>
<dt>  <code>+<var>P</var> -&gt; +<var>Q</var> [ISO]</code></dt>
<dd><a name="IDX186"></a>
<a name="IDX187"></a>
<a name="IDX188"></a>
<p>Read as &quot;if-then-else&quot; or &quot;commit&quot;. This operator is similar to the
conditional operator of imperative languages and can be used alone or
with an else part as follows:
</p>
<dl compact="compact">
<dt> <code>+P -&gt; +Q</code></dt>
<dd><p>&quot;if P then Q&quot;.
</p></dd>
<dt> <code>+P -&gt; +Q; +R</code></dt>
<dd><p>&quot;if P then Q else R&quot;.
</p></dd>
</dl>

<p>These two predicates could be defined respectively in Prolog as:
</p><table><tr><td>&nbsp;</td><td><pre class="example"> (P -&gt; Q) :- P, !, Q.
</pre></td></tr></table>
<p>and
</p><table><tr><td>&nbsp;</td><td><pre class="example"> (P -&gt; Q; R) :- P, !, Q.
 (P -&gt; Q; R) :- R.
</pre></td></tr></table>
<p>if there were no &quot;cuts&quot; in <var>P</var>, <var>Q</var> and <var>R</var>.
</p>
<p>Note that the commit operator works by &quot;cutting&quot; any alternative
solutions of <var>P</var>.
</p>
<p>Note also that you can use chains of commit operators like:
</p><table><tr><td>&nbsp;</td><td><pre class="example">    P -&gt; Q ; R -&gt; S ; T.
</pre></td></tr></table>
<p>Note that <code>(-&gt;)/2</code> does not affect the scope of cuts in its
arguments.
</p>
</dd>
<dt>  <code>+<var>Conditon</var> *-&gt; +<var>Action</var> ; +<var>Else</var></code></dt>
<dd><a name="IDX189"></a>
<a name="IDX190"></a>
<a name="IDX191"></a>
<p>This construct implements the so-called <em>soft-cut</em>. The control is
    defined as follows: If <var>Condition</var> succeeds at least once, the
    semantics is the same as (<var>Condition</var>, <var>Action</var>). If
    <var>Condition</var> does not succeed, the semantics is that of (\+
    <var>Condition</var>, <var>Else</var>). In other words, If <var>Condition</var>
    succeeds at least once, simply behave as the conjunction of
    <var>Condition</var> and <var>Action</var>, otherwise execute <var>Else</var>.
</p>
<p>    The construct <var>A *-&gt; B</var>, i.e. without an <var>Else</var> branch, is
translated as the normal conjunction <var>A</var>, <var>B</var>.
</p>
</dd>
<dt> <code>repeat [ISO]</code></dt>
<dd><a name="IDX192"></a>
<a name="IDX193"></a>
<a name="IDX194"></a>
<p>Succeeds repeatedly.
</p> 
<p>In the next example, <code>repeat</code> is used as an efficient way to implement
a loop. The next example reads all terms in a file:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"> a :- repeat, read(X), write(X), nl, X=end_of_file, !.
</pre></td></tr></table>
<p>the loop is effectively terminated by the cut-goal, when the test-goal
<code>X=end</code> succeeds. While the test fails, the goals <code>read(X)</code>,
<code>write(X)</code>, and <code>nl</code> are executed repeatedly, because
backtracking is caught by the <code>repeat</code> goal.
</p>
<p>The built-in <code>repeat/1</code> could be defined in Prolog by:
</p><table><tr><td>&nbsp;</td><td><pre class="example"> repeat.
 repeat :- repeat.
</pre></td></tr></table>

</dd>
<dt> <code>call(+<var>P</var>) [ISO]</code></dt>
<dd><a name="IDX195"></a>
<a name="IDX196"></a>
<a name="IDX197"></a>
<p> If <var>P</var> is instantiated to an atom or a compound term, the goal
<code>call(<var>P</var>)</code> is executed as if the value of <code>P</code> was found
instead of the call to <code>call/1</code>, except that any &quot;cut&quot; occurring in
<var>P</var> only cuts alternatives in the execution of <var>P</var>.
</p>
</dd>
<dt> <code>incore(+<var>P</var>)</code></dt>
<dd><a name="IDX198"></a>
<a name="IDX199"></a>
<a name="IDX200"></a>
<p>The same as <code>call/1</code>.
</p>
</dd>
<dt> <code>call_with_args(+<var>Name</var>,...,?<var>Ai</var>,...)</code></dt>
<dd><a name="IDX201"></a>
<a name="IDX202"></a>
<a name="IDX203"></a>
<p>Meta-call where <var>Name</var> is the name of the procedure to be called and
the <var>Ai</var> are the arguments. The number of arguments varies between 0
and 10.
</p>
<p>If <var>Name</var> is a complex term, then <code>call_with_args/n</code> behaves as
<code>call/n</code>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">call(p(X1,...,Xm), Y1,...,Yn) :- p(X1,...,Xm,Y1,...,Yn).
</pre></td></tr></table>


</dd>
<dt> <code>+<var>P</var></code></dt>
<dd><p> The same as <code>call(<var>P</var>)</code>. This feature has been kept to provide
compatibility with C-Prolog. When compiling a goal, YAP
generates a <code>call(<var>X</var>)</code> whenever a variable <var>X</var> is found as
a goal.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"> a(X) :- X.
</pre></td></tr></table>
<p>is converted to:
</p><table><tr><td>&nbsp;</td><td><pre class="example"> a(X) :- call(X).
</pre></td></tr></table>

</dd>
<dt> <code>if(?<var>G</var>,?<var>H</var>,?<var>I</var>)</code></dt>
<dd><a name="IDX204"></a>
<a name="IDX205"></a>
<a name="IDX206"></a>
<p>Call goal <var>H</var> once per each solution of goal <var>H</var>. If goal
<var>H</var> has no solutions, call goal <var>I</var>.
</p>
<p>The built-in <code>if/3</code> is similar to <code>-&gt;/3</code>, with the difference
that it will backtrack over the test goal. Consider the following
small data-base:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">a(1).        b(a).          c(x).
a(2).        b(b).          c(y).
</pre></td></tr></table>

<p>Execution of an <code>if/3</code> query will proceed as follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">   ?- if(a(X),b(Y),c(Z)).

X = 1,
Y = a ? ;

X = 1,
Y = b ? ;

X = 2,
Y = a ? ;

X = 2,
Y = b ? ;

no
</pre></td></tr></table>


<p>The system will backtrack over the two solutions for <code>a/1</code> and the
two solutions for <code>b/1</code>, generating four solutions.
</p>
<p>Cuts are allowed inside the first goal <var>G</var>, but they will only prune
over <var>G</var>.
</p>
<p>If you want <var>G</var> to be deterministic you should use if-then-else, as
it is both more efficient and more portable.
</p>
</dd>
<dt> <code>once(:<var>G</var>) [ISO]</code></dt>
<dd><a name="IDX207"></a>
<a name="IDX208"></a>
<a name="IDX209"></a>
<p>Execute the goal <var>G</var> only once. The predicate is defined by:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"> once(G) :- call(G), !.
</pre></td></tr></table>

<p>Note that cuts inside <code>once/1</code> can only cut the other goals inside
<code>once/1</code>.
</p>
</dd>
<dt> <code>abort</code></dt>
<dd><a name="IDX210"></a>
<a name="IDX211"></a>
<a name="IDX212"></a>
<p>Abandons the execution of the current goal and returns to top level. All
break levels (see <code>break/0</code> below) are terminated. It is mainly
used during debugging or after a serious execution error, to return to
the top-level.
</p>

</dd>
<dt> <code>break</code></dt>
<dd><a name="IDX213"></a>
<a name="IDX214"></a>
<a name="IDX215"></a>
<p>Suspends the execution of the current goal and creates a new execution
level similar to the top level, displaying the following message:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"> [ Break (level &lt;number&gt;) ]
</pre></td></tr></table>
<p>telling the depth of the break level just entered. To return to the
previous level just type the end-of-file character or call the
end_of_file predicate.  This predicate is especially useful during
debugging.
</p>
</dd>
<dt> <code>halt [ISO]</code></dt>
<dd><a name="IDX216"></a>
<a name="IDX217"></a>
<a name="IDX218"></a>
<p>Halts Prolog, and exits to the calling application. In YAP,
<code>halt/0</code> returns the exit code <code>0</code>.
</p>
</dd>
<dt> <code>halt(+ <var>I</var>) [ISO]</code></dt>
<dd><a name="IDX219"></a>
<a name="IDX220"></a>
<a name="IDX221"></a>
<p>Halts Prolog, and exits to the calling application returning the code
given by the integer <var>I</var>.
</p>
</dd>
<dt> <code>catch(+<var>Goal</var>,+<var>Exception</var>,+<var>Action</var>) [ISO]</code></dt>
<dd><a name="IDX222"></a>
<a name="IDX223"></a>
<a name="IDX224"></a>
<p>The goal <code>catch(<var>Goal</var>,<var>Exception</var>,<var>Action</var>)</code> tries to
execute goal <var>Goal</var>. If during its execution, <var>Goal</var> throws an
exception <var>E'</var> and this exception unifies with <var>Exception</var>, the
exception is considered to be caught and <var>Action</var> is executed. If
the exception <var>E'</var> does not unify with <var>Exception</var>, control
again throws the exception.
</p>
<p>The top-level of YAP maintains a default exception handler that
is responsible to capture uncaught exceptions.
</p>
</dd>
<dt> <code>throw(+<var>Ball</var>) [ISO]</code></dt>
<dd><a name="IDX225"></a>
<a name="IDX226"></a>
<a name="IDX227"></a>
<p>The goal <code>throw(<var>Ball</var>)</code> throws an exception. Execution is
stopped, and the exception is sent to the ancestor goals until reaching
a matching <code>catch/3</code>, or until reaching top-level.
</p>
</dd>
<dt> <code>garbage_collect</code></dt>
<dd><a name="IDX228"></a>
<a name="IDX229"></a>
<a name="IDX230"></a>
<p>The goal <code>garbage_collect</code> forces a garbage collection.
</p>
</dd>
<dt> <code>garbage_collect_atoms</code></dt>
<dd><a name="IDX231"></a>
<a name="IDX232"></a>
<a name="IDX233"></a>
<p>The goal <code>garbage_collect</code> forces a garbage collection of the atoms
in the data-base. Currently, only atoms are recovered.
</p>
</dd>
<dt> <code>gc</code></dt>
<dd><a name="IDX234"></a>
<a name="IDX235"></a>
<a name="IDX236"></a>
<p>The goal <code>gc</code> enables garbage collection. The same as
<code>yap_flag(gc,on)</code>.
</p>
</dd>
<dt> <code>nogc</code></dt>
<dd><a name="IDX237"></a>
<a name="IDX238"></a>
<a name="IDX239"></a>
<p>The goal <code>nogc</code> disables garbage collection. The same as
<code>yap_flag(gc,off)</code>.
</p>
</dd>
<dt> <code>grow_heap(+<var>Size</var>)</code></dt>
<dd><a name="IDX240"></a>
<a name="IDX241"></a>
<p>Increase heap size <var>Size</var> kilobytes.
</p>
</dd>
<dt> <code>grow_stack(+<var>Size</var>)</code></dt>
<dd><a name="IDX242"></a>
<a name="IDX243"></a>
<a name="IDX244"></a>
<p>Increase stack size <var>Size</var> kilobytes.
</p>
</dd>
</dl>

<hr size="6">
<a name="Undefined-Procedures"></a>
<a name="SEC38"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC37" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC39" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 6.2 Handling Undefined Procedures </h2>

<p>A predicate in a module is said to be undefined if there are no clauses
defining the predicate, and if the predicate has not been declared to be
dynamic. What YAP does when trying to execute undefined predicates can
be specified in three different ways:
</p><ul>
<li> By setting an YAP flag, through the <code>yap_flag/2</code> or
<code>set_prolog_flag/2</code> built-ins. This solution generalizes the
ISO standard.
</li><li> By using the <code>unknown/2</code> built-in (this solution is
compatible with previous releases of YAP).
</li><li> By defining clauses for the hook predicate
<code>user:unknown_predicate_handler/3</code>. This solution is compatible
with SICStus Prolog.
</li></ul>

<p>In more detail:
</p><dl compact="compact">
<dt> <code>unknown(-<var>O</var>,+<var>N</var>)</code></dt>
<dd><a name="IDX245"></a>
<a name="IDX246"></a>
<a name="IDX247"></a>
<p>Specifies an handler to be called is a program tries to call an
undefined static procedure <var>P</var>.
</p>
<p>The arity of <var>N</var> may be zero or one. If the arity is <code>0</code>, the
new action must be one of <code>fail</code>, <code>warning</code>, or
<code>error</code>. If the arity is <code>1</code>, <var>P</var> is an user-defined
handler and at run-time, the argument to the handler <var>P</var> will be
unified with the undefined goal. Note that <var>N</var> must be defined prior
to calling <code>unknown/2</code>, and that the single argument to <var>N</var> must
be unbound.
</p>
<p>In YAP, the default action is to <code>fail</code> (note that in the ISO
Prolog standard the default action is <code>error</code>).
</p>
<p>After defining <code>undefined/1</code> by:
</p><table><tr><td>&nbsp;</td><td><pre class="example">undefined(A) :- format('Undefined predicate: ~w~n',[A]), fail.
</pre></td></tr></table>
<p>and executing the goal:
</p><table><tr><td>&nbsp;</td><td><pre class="example">unknown(U,undefined(X)).
</pre></td></tr></table>
<p>a call to a predicate for which no clauses were defined will result in
the output of a message of the form:
</p><table><tr><td>&nbsp;</td><td><pre class="example">Undefined predicate: user:xyz(A1,A2)
</pre></td></tr></table>
<p>followed by the failure of that call.
</p>
</dd>
<dt> <code>yap_flag(unknown,+<var>SPEC</var>)</code></dt>
<dd><p>Alternatively, one can use <code>yap_flag/2</code>,
<code>current_prolog_flag/2</code>, or <code>set_prolog_flag/2</code>, to set this
functionality. In this case, the first argument for the built-ins should
be <code>unknown</code>, and the second argument should be either
<code>error</code>, <code>warning</code>, <code>fail</code>, or a goal.
</p>
</dd>
<dt> <code>user:unknown_predicate_handler(+G,+M,?NG)</code></dt>
<dd><a name="IDX248"></a>
<a name="IDX249"></a>
<a name="IDX250"></a>
<p>The user may also define clauses for
<code>user:unknown_predicate_handler/3</code> hook predicate. This
user-defined procedure is called before any system processing for the
undefined procedure, with the first argument <var>G</var> set to the current
goal, and the second <var>M</var> set to the current module. The predicate
<var>G</var> will be called from within the user module.
</p>
<p>If <code>user:unknown_predicate_handler/3</code> succeeds, the system will
execute <var>NG</var>. If  <code>user:unknown_predicate_handler/3</code> fails, the
system will execute default action as specified by <code>unknown/2</code>.
</p></dd>
</dl>

<hr size="6">
<a name="Messages"></a>
<a name="SEC39"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC38" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC40" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 6.3 Message Handling </h2>

<p>The interaction between YAP and the user relies on YAP's ability to
portray messages. These messages range from prompts to error
information. All message processing is performed through the builtin
<code>print_message/2</code>, in two steps:
</p>
<ul>
<li> The message is processed into a list of commands 
</li><li> The commands in the list are sent to the <code>format/3</code> builtin
in sequence.
</li></ul>


<p>The first argument to <code>print_message/2</code> specifies the importance of
the message. The options are:
</p>
<dl compact="compact">
<dt> <code>error</code></dt>
<dd><p>error handling
</p></dd>
<dt> <code>warning</code></dt>
<dd><p>compilation and run-time warnings,
</p></dd>
<dt> <code>informational</code></dt>
<dd><p>generic informational messages
</p></dd>
<dt> <code>help</code> </dt>
<dd><p>help messages (not currently implemented in YAP)
</p></dd>
<dt> <code>query</code></dt>
<dd><p>query 	used in query processing (not currently implemented in YAP)
</p></dd>
<dt>  <code>silent</code></dt>
<dd><p>messages that do not produce output but that can be intercepted by hooks.
</p></dd>
</dl>

<p>The next table shows the main predicates and hooks associated to message
handling in YAP:
</p><dl compact="compact">
<dt> <code>print_message(+<var>Kind</var>, <var>Term</var>)</code></dt>
<dd><a name="IDX251"></a>
<a name="IDX252"></a>
<a name="IDX253"></a>
<p>The predicate print_message/2 is used to print messages, notably from
exceptions in a human-readable format. <var>Kind</var> is one of
<code>informational</code>, <code>banner</code>, <code>warning</code>, <code>error</code>,
<code>help</code> or <code>silent</code>. A human-readable message is printed to
the stream <code>user_error</code>.
</p>
<p>If the Prolog flag <code>verbose</code> is <code>silent</code>, messages with
<var>Kind</var> <code>informational</code>, or <code>banner</code> are treated as
silent.</p>
<p>This predicate first translates the <var>Term</var> into a list of `message
lines' (see <code>print_message_lines/3</code> for details).  Next it will
call the hook <code>message_hook/3</code> to allow the user intercepting the
message.  If <code>message_hook/3</code> fails it will print the message unless
<var>Kind</var> is silent.
</p>
<p>If you need to report errors from your own predicates, we advise you to
stick to the existing error terms if you can; but should you need to
invent new ones, you can define corresponding error messages by
asserting clauses for <code>prolog:message/2</code>. You will need to declare
the predicate as multifile.
</p>

</dd>
<dt> <code>print_message_lines(+<var>Stream</var>, +<var>Prefix</var>, +<var>Lines</var>)</code></dt>
<dd><a name="IDX254"></a>
<a name="IDX255"></a>
<a name="IDX256"></a>
<p>Print a message (see <code>print_message/2</code>) that has been translated to
a list of message elements.  The elements of this list are:
</p>
<dl compact="compact">
<dt> <code><code>&lt;Format&gt;</code>-<code>&lt;Args&gt;</code></code></dt>
<dd><p>        Where <var>Format</var> is an atom and <var>Args</var> is a list
	of format argument.  Handed to <code>format/3</code>.
    </p></dd>
<dt> <code><code>flush</code></code></dt>
<dd><p>	If this appears as the last element, <var>Stream</var> is flushed
	(see <code>flush_output/1</code>) and no final newline is generated.
    </p></dd>
<dt> <code><code>at_same_line</code></code></dt>
<dd><p>        If this appears as first element, no prefix is printed for
	the first line and the line-position is not forced to 0
	(see <code>format/1</code>, <code>~N</code>).
    </p></dd>
<dt> <code><code>&lt;Format&gt;</code></code></dt>
<dd><p>        Handed to <code>format/3</code> as <code>format(Stream, Format, [])</code>.
    </p></dd>
<dt> <code>nl</code></dt>
<dd><p>        A new line is started and if the message is not complete
	the <var>Prefix</var> is printed too.
</p></dd>
</dl>

</dd>
<dt> <code>user:message_hook(+<var>Term</var>, +<var>Kind</var>, +<var>Lines</var>)</code></dt>
<dd><a name="IDX257"></a>
<a name="IDX258"></a>
<a name="IDX259"></a>
<p>Hook predicate that may be define in the module <code>user</code> to intercept
messages from <code>print_message/2</code>. <var>Term</var> and <var>Kind</var> are the
same as passed to <code>print_message/2</code>. <var>Lines</var> is a list of
format statements as described with <code>print_message_lines/3</code>.
</p>
<p>This predicate should be defined dynamic and multifile to allow other
modules defining clauses for it too.
</p>
</dd>
</dl>

<hr size="6">
<a name="Testing-Terms"></a>
<a name="SEC40"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC39" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC41" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 6.4 Predicates on terms </h2>

<dl compact="compact">
<dt> <code>var(<var>T</var>) [ISO]</code></dt>
<dd><a name="IDX260"></a>
<a name="IDX261"></a>
<a name="IDX262"></a>
<p>Succeeds if <var>T</var> is currently a free variable, otherwise fails. 
</p>
</dd>
<dt> <code>atom(<var>T</var>) [ISO]</code></dt>
<dd><a name="IDX263"></a>
<a name="IDX264"></a>
<a name="IDX265"></a>
<p>Succeeds if and only if <var>T</var> is currently instantiated to an  atom.
</p>
</dd>
<dt> <code>atomic(T) [ISO]</code></dt>
<dd><a name="IDX266"></a>
<a name="IDX267"></a>
<a name="IDX268"></a>
<p>Checks whether <var>T</var> is an atomic symbol (atom or number).
</p>
</dd>
<dt> <code>compound(<var>T</var>) [ISO]</code></dt>
<dd><a name="IDX269"></a>
<a name="IDX270"></a>
<a name="IDX271"></a>
<p>Checks whether <var>T</var> is a compound term.
</p>
</dd>
<dt> <code>db_reference(<var>T</var>)</code></dt>
<dd><a name="IDX272"></a>
<a name="IDX273"></a>
<a name="IDX274"></a>
<p>Checks whether <var>T</var> is a database reference.
</p>
</dd>
<dt> <code>float(<var>T</var>) [ISO]</code></dt>
<dd><a name="IDX275"></a>
<a name="IDX276"></a>
<a name="IDX277"></a>
<p>Checks whether <var>T</var> is a floating point number.
</p>
</dd>
<dt> <code>integer(<var>T</var>) [ISO]</code></dt>
<dd><a name="IDX278"></a>
<a name="IDX279"></a>
<a name="IDX280"></a>
<p>Succeeds if and only if <var>T</var> is currently instantiated to an  integer.
</p>
</dd>
<dt> <code>nonvar(<var>T</var>) [ISO]</code></dt>
<dd><a name="IDX281"></a>
<a name="IDX282"></a>
<a name="IDX283"></a>
<p>The opposite of <code>var(<var>T</var>)</code>.
</p>
</dd>
<dt> <code>number(<var>T</var>) [ISO]</code></dt>
<dd><a name="IDX284"></a>
<a name="IDX285"></a>
<a name="IDX286"></a>
<p>Checks whether <code>T</code> is an integer or a float.
</p>
</dd>
<dt> <code>primitive(<var>T</var>)</code></dt>
<dd><a name="IDX287"></a>
<a name="IDX288"></a>
<a name="IDX289"></a>
<p>Checks whether <var>T</var> is an atomic term or a database reference.
</p>
</dd>
<dt> <code>simple(<var>T</var>)</code></dt>
<dd><a name="IDX290"></a>
<a name="IDX291"></a>
<a name="IDX292"></a>
<p>Checks whether <var>T</var> is unbound, an atom, or a number.
</p>
</dd>
<dt> <code>callable(<var>T</var>)</code></dt>
<dd><a name="IDX293"></a>
<a name="IDX294"></a>
<a name="IDX295"></a>
<p>Checks whether <var>T</var> is a callable term, that is, an atom or a
compound term.
</p>
</dd>
<dt> <code>numbervars(<var>T</var>,+<var>N1</var>,-<var>Nn</var>)</code></dt>
<dd><a name="IDX296"></a>
<a name="IDX297"></a>
<a name="IDX298"></a>
<p>Instantiates each variable in term <var>T</var> to a term of the form:
<code>'$VAR'(<var>I</var>)</code>, with <var>I</var> increasing from <var>N1</var> to <var>Nn</var>.
</p>
</dd>
<dt> <code>ground(<var>T</var>)</code></dt>
<dd><a name="IDX299"></a>
<a name="IDX300"></a>
<a name="IDX301"></a>
<p>Succeeds if there are no free variables in the term <var>T</var>.
</p>
</dd>
<dt> <code>arg(+<var>N</var>,+<var>T</var>,<var>A</var>) [ISO]</code></dt>
<dd><a name="IDX302"></a>
<a name="IDX303"></a>
<a name="IDX304"></a>
<p>Succeeds if the argument <var>N</var> of the term <var>T</var> unifies with
<var>A</var>. The arguments are numbered from 1 to the arity of the term.
</p>
<p>The current version will generate an error if <var>T</var> or <var>N</var> are
unbound, if <var>T</var> is not a compound term, of if <var>N</var> is not a positive
integer. Note that previous versions of YAP would fail silently
under these errors.
</p>
</dd>
<dt> <code>functor(<var>T</var>,<var>F</var>,<var>N</var>) [ISO]</code></dt>
<dd><a name="IDX305"></a>
<a name="IDX306"></a>
<a name="IDX307"></a>
<p>The top functor of term <var>T</var> is named <var>F</var> and has  arity <var>N</var>.
</p>
<p>When <var>T</var> is not instantiated, <var>F</var> and <var>N</var> must be. If
<var>N</var> is 0, <var>F</var> must be an atomic symbol, which will be unified
with <var>T</var>. If <var>N</var> is not 0, then <var>F</var> must be an atom and
<var>T</var> becomes instantiated to the most general term having functor
<var>F</var> and arity <var>N</var>. If <var>T</var> is instantiated to a term then
<var>F</var> and <var>N</var> are respectively unified with its top functor name
and arity.
</p>
<p>In the current version of YAP the arity <var>N</var> must be an
integer. Previous versions allowed evaluable expressions, as long as the
expression would evaluate to an integer. This feature is not available
in the ISO Prolog standard.
</p>
</dd>
<dt> <code><var>T</var> =.. <var>L</var> [ISO]</code></dt>
<dd><a name="IDX308"></a>
<a name="IDX309"></a>
<a name="IDX310"></a>
<p>The list <var>L</var> is built with the functor and arguments of the term
<var>T</var>. If <var>T</var> is instantiated to a variable, then <var>L</var> must be
instantiated either to a list whose head is an atom, or to a list
consisting of just a number.
</p>
</dd>
<dt> <code><var>X</var> = <var>Y</var> [ISO]</code></dt>
<dd><a name="IDX311"></a>
<a name="IDX312"></a>
<a name="IDX313"></a>
<p>Tries to unify terms <var>X</var> and <var>Y</var>.
</p>
</dd>
<dt> <code><var>X</var> \= <var>Y</var> [ISO]</code></dt>
<dd><a name="IDX314"></a>
<a name="IDX315"></a>
<a name="IDX316"></a>
<p>Succeeds if terms <var>X</var> and <var>Y</var> are not unifiable.
</p>
</dd>
<dt> <code>unify_with_occurs_check(?T1,?T2) [ISO]</code></dt>
<dd><a name="IDX317"></a>
<a name="IDX318"></a>
<a name="IDX319"></a>
<p>Obtain the most general unifier of terms <var>T1</var> and <var>T2</var>, if there
is one.
</p>
<p>This predicate implements the full unification algorithm. An example:n
</p><table><tr><td>&nbsp;</td><td><pre class="example">unify_with_occurs_check(a(X,b,Z),a(X,A,f(B)).
</pre></td></tr></table>
<p>will succeed with the bindings <code>A = b</code> and <code>Z = f(B)</code>. On the
other hand:
</p><table><tr><td>&nbsp;</td><td><pre class="example">unify_with_occurs_check(a(X,b,Z),a(X,A,f(Z)).
</pre></td></tr></table>
<p>would fail, because <code>Z</code> is not unifiable with <code>f(Z)</code>. Note that
<code>(=)/2</code> would succeed for the previous examples, giving the following
bindings <code>A = b</code> and <code>Z = f(Z)</code>.
</p>

</dd>
<dt> <code>copy_term(?<var>TI</var>,-<var>TF</var>) [ISO]</code></dt>
<dd><a name="IDX320"></a>
<a name="IDX321"></a>
<a name="IDX322"></a>
<p>Term <var>TF</var> is a variant of the original term <var>TI</var>, such that for
each variable <var>V</var> in the term <var>TI</var> there is a new variable <var>V'</var>
in term <var>TF</var>. Notice that:
</p>
<ul>
<li> suspended goals and attributes for attributed variables in
  <var>TI</var> are also duplicated;
</li><li> ground terms are shared between the new and the old term.
</li></ul>

<p>If you do not want any sharing to occur please use
<code>duplicate_term/2</code>.
</p>
</dd>
<dt> <code>duplicate_term(?<var>TI</var>,-<var>TF</var>) [ISO]</code></dt>
<dd><a name="IDX323"></a>
<a name="IDX324"></a>
<a name="IDX325"></a>
<p>Term <var>TF</var> is a variant of the original term <var>TI</var>, such that
for each variable <var>V</var> in the term <var>TI</var> there is a new variable
<var>V'</var> in term <var>TF</var>, and the two terms do not share any
structure. All suspended goals and attributes for attributed variables
in <var>TI</var> are also duplicated.
</p>
<p>Also refer to <code>copy_term/2</code>.
</p></dd>
</dl>

<hr size="6">
<a name="Predicates-on-Atoms"></a>
<a name="SEC41"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC40" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC42" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 6.5 Predicates on Atoms </h2>

<p>The following predicates are used to manipulate atoms:
</p>
<dl compact="compact">
<dt> <code>name(<var>A</var>,<var>L</var>)</code></dt>
<dd><a name="IDX326"></a>
<a name="IDX327"></a>
<a name="IDX328"></a>
<p>The predicate holds when at least one of the arguments is ground
(otherwise, an error message will be displayed). The argument <var>A</var> will
be unified with an atomic symbol and <var>L</var> with the list of the ASCII
codes for the characters of the external representation of <var>A</var>.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"> name(yap,L).
</pre></td></tr></table>
<p>will return:
</p><table><tr><td>&nbsp;</td><td><pre class="example"> L = [121,97,112].
</pre></td></tr></table>
<p>and
</p><table><tr><td>&nbsp;</td><td><pre class="example"> name(3,L).
</pre></td></tr></table>
<p>will return:
</p><table><tr><td>&nbsp;</td><td><pre class="example"> L = [51].
</pre></td></tr></table>

</dd>
<dt> <code>atom_chars(?<var>A</var>,?<var>L</var>) [ISO]</code></dt>
<dd><a name="IDX329"></a>
<a name="IDX330"></a>
<a name="IDX331"></a>
<p>The predicate holds when at least one of the arguments is ground
(otherwise, an error message will be displayed). The argument <var>A</var> must
be unifiable with an atom, and the argument <var>L</var> with the list of the
ASCII codes for the characters of the external representation of <var>A</var>.
</p>
<p>The ISO-Prolog standard dictates that <code>atom_chars/2</code> should unify
the second argument with a list of one-char atoms, and not the character
codes. For compatibility with previous versions of YAP, and
with other Prolog implementations, YAP unifies the second
argument with the character codes, as in <code>atom_codes/2</code>. Use the
<code>set_prolog_flag(to_chars_mode,iso)</code> to obtain ISO standard
compatibility.
</p>
</dd>
<dt> <code>atom_codes(?<var>A</var>,?<var>L</var>) [ISO]</code></dt>
<dd><a name="IDX332"></a>
<a name="IDX333"></a>
<a name="IDX334"></a>
<p>The predicate holds when at least one of the arguments is ground
(otherwise, an error message will be displayed). The argument <var>A</var> will
be unified with an atom and <var>L</var> with the list of the ASCII
codes for the characters of the external representation of <var>A</var>.
</p>
</dd>
<dt> <code>atom_concat(+<var>As</var>,?<var>A</var>)</code></dt>
<dd><a name="IDX335"></a>
<a name="IDX336"></a>
<a name="IDX337"></a>
<p>The predicate holds when the first argument is a list of atoms, and the
second unifies with the atom obtained by concatenating all the atoms in
the first list.
</p>
</dd>
<dt> <code>atomic_concat(+<var>As</var>,?<var>A</var>)</code></dt>
<dd><a name="IDX338"></a>
<a name="IDX339"></a>
<a name="IDX340"></a>
<p>The predicate holds when the first argument is a list of atoms, and
the second unifies with the atom obtained by concatenating all the
atomic terms in the first list. The first argument thus may contain
atoms or numbers.
</p>
</dd>
<dt> <code>atom_length(+<var>A</var>,?<var>I</var>) [ISO]</code></dt>
<dd><a name="IDX341"></a>
<a name="IDX342"></a>
<a name="IDX343"></a>
<p>The predicate holds when the first argument is an atom, and the second
unifies with the number of characters forming that atom.
</p>
</dd>
<dt> <code>atom_concat(?<var>A1</var>,?<var>A2</var>,?<var>A12</var>) [ISO]</code></dt>
<dd><a name="IDX344"></a>
<a name="IDX345"></a>
<a name="IDX346"></a>
<p>The predicate holds when the third argument unifies with an atom, and
the first and second unify with atoms such that their representations
concatenated are the representation for <var>A12</var>.
</p>
<p>If <var>A1</var> and <var>A2</var> are unbound, the built-in will find all the atoms
that concatenated give <var>A12</var>.
</p>
</dd>
<dt> <code>number_chars(?<var>I</var>,?<var>L</var>)</code></dt>
<dd><a name="IDX347"></a>
<a name="IDX348"></a>
<a name="IDX349"></a>

<p>The predicate holds when at least one of the arguments is ground
(otherwise, an error message will be displayed). The argument <var>I</var> must
be unifiable with a number, and the argument <var>L</var> with the list of the
ASCII codes for the characters of the external representation of <var>I</var>.
</p>
<p>The ISO-Prolog standard dictates that <code>number_chars/2</code> should unify
the second argument with a list of one-char atoms, and not the character
codes. For compatibility with previous versions of YAP, and
with other Prolog implementations, YAP unifies the second
argument with the character codes, as in <code>number_codes/2</code>. Use the
<code>set_prolog_flag(to_chars_mode,iso)</code> to obtain ISO standard
compatibility.
</p>
</dd>
<dt> <code>number_codes(?<var>A</var>,?<var>L</var>) [ISO]</code></dt>
<dd><a name="IDX350"></a>
<a name="IDX351"></a>
<a name="IDX352"></a>
<p>The predicate holds when at least one of the arguments is ground
(otherwise, an error message will be displayed). The argument <var>A</var>
will be unified with a number and <var>L</var> with the list of the ASCII
codes for the characters of the external representation of <var>A</var>.
</p>
</dd>
<dt> <code>atom_number(?<var>Atom</var>,?<var>Number</var>)</code></dt>
<dd><a name="IDX353"></a>
<a name="IDX354"></a>
<a name="IDX355"></a>
<p>The predicate holds when at least one of the arguments is ground
(otherwise, an error message will be displayed). If the argument
<var>Atom</var> is an atom, <var>Number</var> must be the number corresponding
to the characters in <var>Atom</var>, otherwise the characters in
<var>Atom</var> must encode a number <var>Number</var>.
</p>
</dd>
<dt> <code>number_atom(?<var>I</var>,?<var>L</var>)</code></dt>
<dd><a name="IDX356"></a>
<a name="IDX357"></a>
<a name="IDX358"></a>

<p>The predicate holds when at least one of the arguments is ground
(otherwise, an error message will be displayed). The argument <var>I</var> must
be unifiable with a number, and the argument <var>L</var> must be unifiable
with an atom representing the number.
</p>
</dd>
<dt> <code>sub_atom(+<var>A</var>,?<var>Bef</var>, ?<var>Size</var>, ?<var>After</var>, ?<var>At_out</var>) [ISO]</code></dt>
<dd><a name="IDX359"></a>
<a name="IDX360"></a>
<a name="IDX361"></a>
<p>True when <var>A</var> and <var>At_out</var> are atoms such that the name of
<var>At_out</var> has size <var>Size</var> and is a sub-string of the name of
<var>A</var>, such that <var>Bef</var> is the number of characters before and
<var>After</var> the number of characters afterwards.
</p>
<p>Note that <var>A</var> must always be known, but <var>At_out</var> can be unbound when
calling this built-in. If all the arguments for <code>sub_atom/5</code> but <var>A</var>
are unbound, the built-in will backtrack through all possible
sub-strings of <var>A</var>.
</p>
</dd>
</dl>

<hr size="6">
<a name="Predicates-on-Characters"></a>
<a name="SEC42"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC41" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC43" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 6.6 Predicates on Atoms </h2>

<p>The following predicates are used to manipulate characters:
</p>
<dl compact="compact">
<dt> <code>char_code(?<var>A</var>,?<var>I</var>) [ISO]</code></dt>
<dd><a name="IDX362"></a>
<a name="IDX363"></a>
<a name="IDX364"></a>
<p>The built-in succeeds with <var>A</var> bound to character represented as an
atom, and <var>I</var> bound to the character code represented as an
integer. At least, one of either <var>A</var> or <var>I</var> must be bound before
the call.
</p>
</dd>
<dt> <code>char_type(?<var>Char</var>, ?<var>Type</var>)</code></dt>
<dd><a name="IDX365"></a>
<a name="IDX366"></a>
<a name="IDX367"></a>
<p>    Tests or generates alternative <var>Types</var> or <var>Chars</var>. The
    character-types are inspired by the standard <code>C</code>
    <code>&lt;ctype.h&gt;</code> primitives.
</p>
<dl compact="compact">
<dt>    <code>alnum</code></dt>
<dd><p>        <var>Char</var> is a letter (upper- or lowercase) or digit.
</p>
</dd>
<dt>    <code>alpha</code></dt>
<dd><p>        <var>Char</var> is a letter (upper- or lowercase).
</p>
</dd>
<dt>    <code>csym</code></dt>
<dd><p>        <var>Char</var> is a letter (upper- or lowercase), digit or the underscore (_). These are valid C- and Prolog symbol characters.
</p>
</dd>
<dt>    <code>csymf</code></dt>
<dd><p>        <var>Char</var> is a letter (upper- or lowercase) or the underscore (_). These are valid first characters for C- and Prolog symbols
</p>
</dd>
<dt>    <code>ascii</code></dt>
<dd><p>        <var>Char</var> is a 7-bits ASCII character (0..127).
</p>
</dd>
<dt>    <code>white</code></dt>
<dd><p>        <var>Char</var> is a space or tab. E.i. white space inside a line.
</p>
</dd>
<dt>    <code>cntrl</code></dt>
<dd><p>        <var>Char</var> is an ASCII control-character (0..31).
</p>
</dd>
<dt>    <code>digit</code></dt>
<dd><p>        <var>Char</var> is a digit.
</p>
</dd>
<dt>    <code>digit(<var>Weigth</var>)</code></dt>
<dd><p>        <var>Char</var> is a digit with value
        <var>Weigth</var>. I.e. <code>char_type(X, digit(6))</code> yields <code>X =
        '6'</code>. Useful for parsing numbers.
</p>
</dd>
<dt>    <code>xdigit(<var>Weigth</var>)</code></dt>
<dd><p>        <var>Char</var> is a haxe-decimal digit with value <var>Weigth</var>. I.e. char_type(a, xdigit(X) yields X = '10'. Useful for parsing numbers.
</p>
</dd>
<dt>    <code>graph</code></dt>
<dd><p>        <var>Char</var> produces a visible mark on a page when printed. Note that the space is not included!
</p>
</dd>
<dt>    <code>lower</code></dt>
<dd><p>        <var>Char</var> is a lower-case letter.
</p>
</dd>
<dt>    <code>lower(Upper)</code></dt>
<dd><p>        <var>Char</var> is a lower-case version of Upper. Only true if <var>Char</var> is lowercase and Upper uppercase.
</p>
</dd>
<dt>    <code>to_lower(Upper)</code></dt>
<dd><p>        <var>Char</var> is a lower-case version of Upper. For non-letters, or letter without case, <var>Char</var> and Lower are the same. See also upcase_atom/2 and downcase_atom/2.
</p>
</dd>
<dt>    <code>upper</code></dt>
<dd><p>        <var>Char</var> is an upper-case letter.
</p>
</dd>
<dt>    <code>upper(Lower)</code></dt>
<dd><p>        <var>Char</var> is an upper-case version of Lower. Only true if <var>Char</var> is uppercase and Lower lowercase.
</p>
</dd>
<dt>    <code>to_upper(Lower)</code></dt>
<dd><p>        <var>Char</var> is an upper-case version of Lower. For non-letters, or letter without case, <var>Char</var> and Lower are the same. See also upcase_atom/2 and downcase_atom/2.
</p>
</dd>
<dt>    <code>punct</code></dt>
<dd><p>        <var>Char</var> is a punctuation character. This is a graph character that is not a letter or digit.
</p>
</dd>
<dt>    <code>space</code></dt>
<dd><p>        <var>Char</var> is some form of layout character (tab, vertical-tab, newline, etc.).
</p>
</dd>
<dt>    <code>end_of_file</code></dt>
<dd><p>        <var>Char</var> is -1.
</p>
</dd>
<dt>    <code>end_of_line</code></dt>
<dd><p>        <var>Char</var> ends a line (ASCII: 10..13).
</p>
</dd>
<dt>    <code>newline</code></dt>
<dd><p>        <var>Char</var> is a the newline character (10).
</p>
</dd>
<dt>    <code>period</code></dt>
<dd><p>        <var>Char</var> counts as the end of a sentence (.,!,?).
</p>
</dd>
<dt>    <code>quote</code></dt>
<dd><p>        <var>Char</var> is a quote-character (&quot;, ', `).
</p>
</dd>
<dt>    <code>paren(Close)</code></dt>
<dd><p>        <var>Char</var> is an open-parenthesis and Close is the corresponding close-parenthesis. 
</p></dd>
</dl>

</dd>
<dt> <code>code_type(?<var>Code</var>, ?<var>Type</var>)</code></dt>
<dd><a name="IDX368"></a>
<a name="IDX369"></a>
<a name="IDX370"></a>
<p>    As <code>char_type/2</code>, but uses character-codes rather than
    one-character atoms. Please note that both predicates are as
    flexible as possible. They handle either representation if the
    argument is instantiated and only will instantiate with an integer
    code or one-character atom depending of the version used. See also
    the prolog-flag double_quotes, atom_chars/2 and atom_codes/2.
</p>
</dd>
</dl>

<hr size="6">
<a name="Comparing-Terms"></a>
<a name="SEC43"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC42" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC44" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 6.7 Comparing Terms </h2>

<p>The following predicates are used to compare and order terms, using the
standard ordering:
</p>
<ul>
<li>
variables come before numbers, numbers come before atoms which in turn
come before compound terms, i.e.: variables @&lt; numbers @&lt; atoms @&lt;
compound terms.
</li><li>
variables are roughly ordered by &quot;age&quot; (the &quot;oldest&quot; variable is put
first);
</li><li>
floating point numbers are sorted in increasing order;
</li><li>
Integers are sorted in increasing order;
</li><li>
atoms are sorted in lexicographic order;
</li><li>
compound terms are ordered first by arity of the main functor, then by
the name of the main functor, and finally by their arguments in
left-to-right order.
</li></ul>

<dl compact="compact">
<dt> <code>compare(<var>C</var>,<var>X</var>,<var>Y</var>)</code></dt>
<dd><a name="IDX371"></a>
<a name="IDX372"></a>
<a name="IDX373"></a>
<p>As a result of comparing <var>X</var> and <var>Y</var>, <var>C</var> may take one of
the following values:
</p>
<ul>
<li>
<code>=</code> if <var>X</var> and <var>Y</var> are identical;
</li><li>
<code>&lt;</code> if <var>X</var> precedes <var>Y</var> in the defined order;
</li><li>
<code>&gt;</code> if <var>Y</var> precedes <var>X</var> in the defined order;
</li></ul>

</dd>
<dt> <code><var>X</var> == <var>Y</var> [ISO]</code></dt>
<dd><a name="IDX374"></a>
<a name="IDX375"></a>
<a name="IDX376"></a>
<p>Succeeds if terms <var>X</var> and <var>Y</var> are strictly identical. The
difference between this predicate and <code>=/2</code> is that, if one of the
arguments is a free variable, it only succeeds when they have already
been unified.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">?- X == Y.
</pre></td></tr></table>
<p>fails, but,
</p><table><tr><td>&nbsp;</td><td><pre class="example">?- X = Y, X == Y.
</pre></td></tr></table>
<p>succeeds.
</p><table><tr><td>&nbsp;</td><td><pre class="example">?- X == 2.
</pre></td></tr></table>
<p>fails, but,
</p><table><tr><td>&nbsp;</td><td><pre class="example">?- X = 2, X == 2.
</pre></td></tr></table>
<p>succeeds.
</p>

</dd>
<dt> <code><var>X</var> \== <var>Y</var> [ISO]</code></dt>
<dd><a name="IDX377"></a>
<a name="IDX378"></a>
<a name="IDX379"></a>
<p>Terms <var>X</var> and <var>Y</var> are not strictly identical.
</p>
</dd>
<dt> <code><var>X</var> @&lt; <var>Y</var> [ISO]</code></dt>
<dd><a name="IDX380"></a>
<a name="IDX381"></a>
<a name="IDX382"></a>
<p>Term <var>X</var> precedes term <var>Y</var> in the standard order.
</p>
</dd>
<dt> <code><var>X</var> @=&lt; <var>Y</var> [ISO]</code></dt>
<dd><a name="IDX383"></a>
<a name="IDX384"></a>
<a name="IDX385"></a>
<p>Term <var>X</var> does not follow term <var>Y</var> in the standard order.
</p>
</dd>
<dt> <code><var>X</var> @&gt; <var>Y</var> [ISO]</code></dt>
<dd><a name="IDX386"></a>
<a name="IDX387"></a>
<a name="IDX388"></a>
<p>Term <var>X</var> follows term <var>Y</var> in the standard order.
</p>
</dd>
<dt> <code><var>X</var> @&gt;= <var>Y</var> [ISO]</code></dt>
<dd><a name="IDX389"></a>
<a name="IDX390"></a>
<a name="IDX391"></a>
<p>Term <var>X</var> does not precede term <var>Y</var> in the standard order.
</p>
</dd>
<dt> <code>sort(+<var>L</var>,-<var>S</var>)</code></dt>
<dd><a name="IDX392"></a>
<a name="IDX393"></a>
<a name="IDX394"></a>
<p>Unifies <var>S</var> with the list obtained by sorting <var>L</var> and  merging
identical (in the sense of <code>==</code>) elements.
</p>
</dd>
<dt> <code>keysort(+<var>L</var>,<var>S</var>)</code></dt>
<dd><a name="IDX395"></a>
<a name="IDX396"></a>
<a name="IDX397"></a>
<p>Assuming L is a list of the form <code><var>Key</var>-<var>Value</var></code>,
<code>keysort(+<var>L</var>,<var>S</var>)</code> unifies <var>S</var> with the list obtained
from <var>L</var>, by sorting its elements according to the value of
<var>Key</var>.
</p><table><tr><td>&nbsp;</td><td><pre class="example">?- keysort([3-a,1-b,2-c,1-a,1-b],S).
</pre></td></tr></table>
<p>would return:
</p><table><tr><td>&nbsp;</td><td><pre class="example">S = [1-b,1-a,1-b,2-c,3-a]
</pre></td></tr></table>

</dd>
<dt> <code>length(?<var>L</var>,?<var>S</var>)</code></dt>
<dd><a name="IDX398"></a>
<a name="IDX399"></a>
<a name="IDX400"></a>
<p>Unify the well-defined list <var>L</var> with its length. The procedure can
be used to find the length of a pre-defined list, or to build a list
of length <var>S</var>.
</p>
</dd>
</dl>

<hr size="6">
<a name="Arithmetic"></a>
<a name="SEC44"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC43" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC45" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 6.8 Arithmetic </h2>
<p>Arithmetic expressions in YAP may use the following operators
or <i>evaluable predicates</i>:
</p>
<dl compact="compact">
<dt> <code>+<var>X</var></code></dt>
<dd><p>The value of <var>X</var> itself.
</p>
</dd>
<dt> <code>-<var>X</var> [ISO]</code></dt>
<dd><p>Symmetric value.
</p>
</dd>
<dt> <code><var>X</var>+<var>Y</var> [ISO]</code></dt>
<dd><p>Sum.
</p>
</dd>
<dt> <code><var>X</var>-<var>Y</var> [ISO]</code></dt>
<dd><p>Difference.
</p>
</dd>
<dt> <code><var>X</var>*<var>Y</var> [ISO]</code></dt>
<dd><p>Product.
</p>
</dd>
<dt> <code><var>X</var>/<var>Y</var> [ISO]</code></dt>
<dd><p>Quotient.
</p>
</dd>
<dt> <code><var>X</var>//<var>Y</var> [ISO]</code></dt>
<dd><p>Integer quotient.
</p>
</dd>
<dt> <code><var>X</var> mod <var>Y</var> [ISO]</code></dt>
<dd><p>Integer remainder.
</p>
</dd>
<dt> <code><var>X</var> rem <var>Y</var></code></dt>
<dd><p>Integer remainder, the same as <code>mod</code>.
</p>
</dd>
<dt> <code>exp(<var>X</var>) [ISO]</code></dt>
<dd><p>Natural exponential.
</p>
</dd>
<dt> <code>log(<var>X</var>) [ISO]</code></dt>
<dd><p>Natural logarithm.
</p>
</dd>
<dt> <code>log10(<var>X</var>)</code></dt>
<dd><p>Decimal logarithm.
</p>
</dd>
<dt> <code>sqrt(<var>X</var>) [ISO]</code></dt>
<dd><p>Square root.
</p>
</dd>
<dt> <code>sin(<var>X</var>) [ISO]</code></dt>
<dd><p>Sine.
</p>
</dd>
<dt> <code>cos(<var>X</var>) [ISO]</code></dt>
<dd><p>Cosine.
</p>
</dd>
<dt> <code>tan(<var>X</var>)</code></dt>
<dd><p>Tangent.
</p>
</dd>
<dt> <code>asin(<var>X</var>)</code></dt>
<dd><p>Arc sine.
</p>
</dd>
<dt> <code>acos(<var>X</var>)</code></dt>
<dd><p>Arc cosine.
</p>
</dd>
<dt> <code>atan(<var>X</var>) [ISO]</code></dt>
<dd><p>Arc tangent.
</p>
</dd>
<dt> <code>atan2(<var>X</var>)</code></dt>
<dd><p>Four-quadrant arc tangent.
</p>
</dd>
<dt> <code>sinh(<var>X</var>)</code></dt>
<dd><p>Hyperbolic sine.
</p>
</dd>
<dt> <code>cosh(<var>X</var>)</code></dt>
<dd><p>Hyperbolic cosine.
</p>
</dd>
<dt> <code>tanh(<var>X</var>)</code></dt>
<dd><p>Hyperbolic tangent.
</p>
</dd>
<dt> <code>asinh(<var>X</var>)</code></dt>
<dd><p>Hyperbolic arc sine.
</p>
</dd>
<dt> <code>acosh(<var>X</var>)</code></dt>
<dd><p>Hyperbolic arc cosine.
</p>
</dd>
<dt> <code>atanh(<var>X</var>)</code></dt>
<dd><p>Hyperbolic arc tangent.
</p>
</dd>
<dt> <code>integer(<var>X</var>)</code></dt>
<dd><p>If <var>X</var> evaluates to a float, the integer between the value of <var>X</var>
and 0 closest to the value of <var>X</var>, else if <var>X</var> evaluates to an
integer, the value of <var>X</var>.
</p>
</dd>
<dt> <code>float(<var>X</var>) [ISO]</code></dt>
<dd><p>If <var>X</var> evaluates to an integer, the corresponding float, else the float
itself.
</p>
</dd>
<dt> <code>float_fractional_part(<var>X</var>) [ISO]</code></dt>
<dd><p>The fractional part of the floating point number <var>X</var>, or <code>0.0</code>
if <var>X</var> is an integer. In the <code>iso</code> language mode,
<var>X</var> must be an integer.
</p>
</dd>
<dt> <code>float_integer_part(<var>X</var>) [ISO]</code></dt>
<dd><p>The float giving the integer part of the floating point number <var>X</var>,
or <var>X</var> if <var>X</var> is an integer. In the <code>iso</code> language mode,
<var>X</var> must be an integer.
</p>
</dd>
<dt> <code>abs(<var>X</var>) [ISO]</code></dt>
<dd><p>The absolute value of <var>X</var>.
</p>
</dd>
<dt> <code>ceiling(<var>X</var>) [ISO]</code></dt>
<dd><p>The float that is the smallest integral value not smaller than <var>X</var>.
</p>
<p>In <code>iso</code> language mode the argument must be a floating
point-number and the result is an integer.
</p>
</dd>
<dt> <code>floor(<var>X</var>) [ISO]</code></dt>
<dd><p>The float that is the greatest integral value not greater than <var>X</var>.
</p>
<p>In <code>iso</code> language mode the argument must be a floating
point-number and the result is an integer.
</p>
</dd>
<dt> <code>round(<var>X</var>) [ISO]</code></dt>
<dd><p>The nearest integral value to <var>X</var>. If <var>X</var> is
equidistant to two integers, it will be rounded to the closest even
integral value.
</p>
<p>In <code>iso</code> language mode the argument must be a floating
point-number, the result is an integer and it the float is equidistant
it is rounded up, that is, to the least integer greater than <var>X</var>.
</p>
</dd>
<dt> <code>sign(<var>X</var>) [ISO]</code></dt>
<dd><p>Return 1 if the <var>X</var> evaluates to a positive integer, 0 it if
evaluates to 0, and -1 if it evaluates to a negative integer. If <var>X</var>
evaluates to a floating-point number return 1.0 for a positive <var>X</var>,
0.0 for 0.0, and -1.0 otherwise.
</p>
</dd>
<dt> <code>truncate(<var>X</var>)</code></dt>
<dd><p>The float that is the integral value between <var>X</var> and 0 closest to
<var>X</var>.
</p>
</dd>
<dt> <code>max(<var>X</var>,<var>Y</var>)</code></dt>
<dd><p>The greater value of <var>X</var> and <var>Y</var>.
</p>
</dd>
<dt> <code>min(<var>X</var>,<var>Y</var>)</code></dt>
<dd><p>The lesser value of <var>X</var> and <var>Y</var>.
</p>
</dd>
<dt> <code><var>X</var> ^ <var>Y</var></code></dt>
<dd><p><var>X</var> raised to the power of <var>Y</var>, (from the C-Prolog syntax).
</p>
</dd>
<dt> <code>exp(<var>X</var>,<var>Y</var>)</code></dt>
<dd><p><var>X</var> raised to the power of <var>Y</var>, (from the Quintus Prolog syntax).
</p>
</dd>
<dt> <code><var>X</var> ** <var>Y</var> [ISO]</code></dt>
<dd><p><var>X</var> raised to the power of <var>Y</var>  (from ISO).
</p>
</dd>
<dt> <code><var>X</var> /\ <var>Y</var> [ISO]</code></dt>
<dd><p>Integer bitwise conjunction.
</p>
</dd>
<dt> <code><var>X</var> \/ <var>Y</var> [ISO]</code></dt>
<dd><p>Integer bitwise disjunction.
</p>
</dd>
<dt> <code><var>X</var> # <var>Y</var> [ISO]</code></dt>
<dd><p>Integer bitwise exclusive disjunction.
</p>
</dd>
<dt> <code><var>X</var> &lt;&lt; <var>Y</var></code></dt>
<dd><p>Integer bitwise left logical shift of <var>X</var> by <var>Y</var> places.
</p>
</dd>
<dt> <code><var>X</var> &gt;&gt; <var>Y</var> [ISO]</code></dt>
<dd><p>Integer bitwise right logical shift of <var>X</var> by <var>Y</var> places.
</p>
</dd>
<dt> <code>\ <var>X</var> [ISO]</code></dt>
<dd><p>Integer bitwise negation.
</p>
</dd>
<dt> <code>gcd(<var>X</var>,<var>Y</var>)</code></dt>
<dd><p>The greatest common divisor of the two integers <var>X</var> and <var>Y</var>.
</p>
</dd>
<dt> <code>msb(<var>X</var>)</code></dt>
<dd><p>The most significant bit of the integer <var>X</var>.
</p>
</dd>
<dt> <code>[<var>X</var>]</code></dt>
<dd><p>Evaluates to <var>X</var> for expression <var>X</var>. Useful because character
strings in Prolog are lists of character codes.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">X is Y*10+C-&quot;0&quot;
</pre></td></tr></table>
<p>is the same as
</p><table><tr><td>&nbsp;</td><td><pre class="example">X is Y*10+C-[48].
</pre></td></tr></table>
<p>which would be evaluated as:
</p><table><tr><td>&nbsp;</td><td><pre class="example">X is Y*10+C-48.
</pre></td></tr></table>

</dd>
</dl>

<p>Besides numbers and the arithmetic operators described above, certain
atoms have a special meaning when present in arithmetic expressions:
</p>
<dl compact="compact">
<dt> <code>pi</code></dt>
<dd><p>The value of <em>pi</em>, the ratio of a circle's circumference to its
diameter.
</p>
</dd>
<dt> <code>e</code></dt>
<dd><p>The base of the natural logarithms.
</p>
</dd>
<dt> <code>inf</code></dt>
<dd><p>Infinity according to the IEEE Floating-Point standard. Note that
evaluating this term will generate a domain error in the <code>iso</code>
language mode.
</p>
</dd>
<dt> <code>nan</code></dt>
<dd><p>Not-a-number according to the IEEE Floating-Point standard. Note that
evaluating this term will generate a domain error in the <code>iso</code>
language mode.
</p>
</dd>
<dt> <code>cputime</code></dt>
<dd><p>CPU time in seconds, since YAP was invoked.
</p>
</dd>
<dt> <code>heapused</code></dt>
<dd><p>Heap space used, in bytes.
</p>
</dd>
<dt> <code>local</code></dt>
<dd><p>Local stack in use, in bytes.
</p>
</dd>
<dt> <code>global</code></dt>
<dd><p>Global stack in use, in bytes.
</p>
</dd>
<dt> <code>random</code></dt>
<dd><p>A &quot;random&quot; floating point number between 0 and 1.
</p>
</dd>
</dl>

<p>The primitive YAP predicates involving arithmetic expressions are:
</p>
<dl compact="compact">
<dt> <code><var>X</var> is +<var>Y</var> [2]</code></dt>
<dd><a name="IDX401"></a>
<a name="IDX402"></a>
<a name="IDX403"></a>
<p>This predicate succeeds iff the result of evaluating the expression
<var>Y</var> unifies with <var>X</var>. This is the predicate normally used to
perform evaluation of arithmetic expressions:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">X is 2+3*4
</pre></td></tr></table>
<p>succeeds with <code>X = 14</code>.
</p>
</dd>
<dt> <code>+<var>X</var> &lt; +<var>Y</var> [ISO]</code></dt>
<dd><a name="IDX404"></a>
<a name="IDX405"></a>
<a name="IDX406"></a>
<p>The value of the expression <var>X</var> is less than the value of expression
<var>Y</var>.
</p>
</dd>
<dt> <code>+<var>X</var> =&lt; +<var>Y</var> [ISO]</code></dt>
<dd><a name="IDX407"></a>
<a name="IDX408"></a>
<a name="IDX409"></a>
<p>The value of the expression <var>X</var> is less than or equal to the value
of expression <var>Y</var>.
</p>

</dd>
<dt> <code>+<var>X</var> &gt; +<var>Y</var> [ISO]</code></dt>
<dd><a name="IDX410"></a>
<a name="IDX411"></a>
<a name="IDX412"></a>
<p>The value of the expression <var>X</var> is greater than the value of
expression <var>Y</var>.
</p>
</dd>
<dt> <code>+<var>X</var> &gt;= +<var>Y</var> [ISO]</code></dt>
<dd><a name="IDX413"></a>
<a name="IDX414"></a>
<a name="IDX415"></a>
<p>The value of the expression <var>X</var> is greater than or equal to the
value of expression <var>Y</var>.
</p>
</dd>
<dt> <code>+<var>X</var> =:= +<var>Y</var> [ISO]</code></dt>
<dd><a name="IDX416"></a>
<a name="IDX417"></a>
<a name="IDX418"></a>
<p>The value of the expression <var>X</var> is equal to the value of expression
<var>Y</var>.
</p>
</dd>
<dt> <code>+<var>X</var> =\= +<var>Y</var> [ISO]</code></dt>
<dd><a name="IDX419"></a>
<a name="IDX420"></a>
<a name="IDX421"></a>
<p>The value of the expression <var>X</var> is different from the value of
expression <var>Y</var>.
</p>
</dd>
<dt> <code>srandom(+<var>X</var>)</code></dt>
<dd><a name="IDX422"></a>
<a name="IDX423"></a>
<a name="IDX424"></a>
<p>Use the argument <var>X</var> as a new seed for YAP's random number
generator. The argument should be an integer, but floats are acceptable.
</p></dd>
</dl>

<p><strong>Notes:</strong>
</p>
<ul>
<li> 
In contrast to previous versions of YAP, YAP4 <em>does not</em> convert
automatically between integers and floats.
</li><li>
arguments to trigonometric functions are expressed in radians.
</li><li>
if a (non-instantiated) variable occurs in an arithmetic expression
YAP will generate an exception. If no error handler is
available, execution will be thrown back to the top-level.
</li></ul>


<hr size="6">
<a name="I_002fO"></a>
<a name="SEC45"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC44" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC46" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 6.9 I/O Predicates </h2>

<p>Some of the I/O predicates described below will in certain conditions
provide error messages and abort only if the file_errors flag is set.
If this flag is cleared the same predicates will just fail. Details on
setting and clearing this flag are given under 7.7.
</p>
<table class="menu" border="0" cellspacing="0">

<p>Subnodes of Input/Output
<a href="#SEC46">6.9.1 Handling Streams and Files</a>&nbsp; Handling Streams and Files
<a href="#SEC47">6.9.2 Handling Streams and Files</a>&nbsp; C-Prolog Compatible File Handling
<a href="#SEC48">6.9.3 Handling Input/Output of Terms</a>&nbsp; Input/Output of terms
<a href="#SEC49">6.9.4 Handling Input/Output of Characters</a>&nbsp; Input/Output of Characters
<a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a>&nbsp; Input/Output using Streams
<a href="#SEC51">6.9.6 Compatible C-Prolog predicates for Terminal I/O</a>&nbsp; C-Prolog compatible Character I/O to terminal
<a href="#SEC52">6.9.7 Controlling Input/Output</a>&nbsp; Controlling your Input/Output
<a href="#SEC53">6.9.8 Using Sockets From YAP</a>&nbsp; Using Sockets from YAP
</p>
</table>

<hr size="6">
<a name="Streams-and-Files"></a>
<a name="SEC46"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC45" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC47" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC45" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 6.9.1 Handling Streams and Files </h3>

<dl compact="compact">
<dt> <code>open(+<var>F</var>,+<var>M</var>,-<var>S</var>) [ISO]</code></dt>
<dd><a name="IDX425"></a>
<a name="IDX426"></a>
<a name="IDX427"></a>
<p>Opens the file with name <var>F</var> in mode <var>M</var> ('read', 'write' or
'append'), returning <var>S</var> unified with the stream name.
</p>
<p>At most, there are 17 streams  opened at the same time. Each stream is
either an input or an output stream but not both. There are always 3
open streams:  <code>user_input</code> for reading, <code>user_output</code> for writing
and <code>user_error</code> for writing. If there is no  ambiguity, the atoms
<code>user_input</code> and <code>user_output</code> may be referred to as  <code>user</code>.
</p>
<p>The <code>file_errors</code> flag controls whether errors are reported when in
mode 'read' or 'append' the file <var>F</var> does not exist or is not
readable, and whether in mode 'write' or 'append' the file is not
writable.
</p>
</dd>
<dt> <code>open(+<var>F</var>,+<var>M</var>,-<var>S</var>,+<var>Opts</var>) [ISO]</code></dt>
<dd><a name="IDX428"></a>
<a name="IDX429"></a>
<a name="IDX430"></a>
<p>Opens the file with name <var>F</var> in mode <var>M</var> ('read',  'write' or
'append'), returning <var>S</var> unified with the stream name, and following
these options:
</p>
<dl compact="compact">
<dt> <code>type(+<var>T</var>)</code></dt>
<dd><p>Specify whether the stream is a <code>text</code> stream (default), or a
<code>binary</code> stream.
</p>
</dd>
<dt> <code>reposition(+<var>Bool</var>)</code></dt>
<dd><p>Specify whether it is possible to reposition the stream (<code>true</code>), or
not (<code>false</code>). By default, YAP enables repositioning for all
files, except terminal files and sockets.
</p>
</dd>
<dt> <code>eof_action(+<var>Action</var>)</code></dt>
<dd><p>Specify the action to take if attempting to input characters from a
stream where we have previously found an <code>end_of_file</code>. The possible
actions are <code>error</code>, that raises an error, <code>reset</code>, that tries to
reset the stream and is used for <code>tty</code> type files, and <code>eof_code</code>,
which generates a new <code>end_of_file</code> (default for non-tty files).
</p>
</dd>
<dt> <code>alias(+<var>Name</var>)</code></dt>
<dd><p>Specify an alias to the stream. The alias <tt>Name</tt> must be an atom. The
alias can be used instead of the stream descriptor for every operation
concerning the stream.
</p>
<p>The operation will fail and give an error if the alias name is already
in use. YAP allows several aliases for the same file, but only
one is returned by <code>stream_property/2</code>
</p>
</dd>
<dt> <code>bom(+<var>Bool</var>)</code></dt>
<dd><p>If present and <code>true</code>, a BOM (<em>Byte Order Mark</em>) was
detected while opening the file for reading or a BOM was written while
opening the stream. See <a href="#SEC24">BOM: Byte Order Mark</a> for details.
</p>
</dd>
<dt> <code>encoding(+<var>Encoding</var>)</code></dt>
<dd><p>Set the encoding used for text.  See <a href="#SEC22">Wide Character Support</a> for an overview of
wide character and encoding issues.
</p>
</dd>
<dt> <code>representation_errors(+<var>Mode</var>)</code></dt>
<dd><p>Change the behaviour when writing characters to the stream that cannot
be represented by the encoding.  The behaviour is one of <code>error</code>
(throw and I/O error exception), <code>prolog</code> (write <code>\u...\</code>
escape code or <code>xml</code> (write <code>&amp;#...;</code> XML character entity).
The initial mode is <code>prolog</code> for the user streams and
<code>error</code> for all other streams. See also <a href="#SEC22">Wide Character Support</a>.
</p>
</dd>
<dt> <code>expand_filename(+<var>Mode</var>)</code></dt>
<dd><p>If <var>Mode</var> is <code>true</code> then do filename expansion, then ask Prolog
to do file name expansion before actually trying to opening the file:
this includes processing <code>~</code> characters and processing <code>$</code>
environment variables at the beginning of the file. Otherwise, just try
to open the file using the given name.
</p>
<p>The default behavior is given by the Prolog flag
<code>open_expands_filename</code>.
</p>
</dd>
</dl>

</dd>
<dt> <code>close(+<var>S</var>) [ISO]</code></dt>
<dd><a name="IDX431"></a>
<a name="IDX432"></a>
<a name="IDX433"></a>
<p>Closes the stream <var>S</var>. If <var>S</var> does not stand for a stream
currently opened an error is reported. The streams <code>user_input</code>,
<code>user_output</code>, and <code>user_error</code> can never be closed.
</p>
<p>By default, give a file name, <code>close/1</code> will also try to close a
corresponding open stream. This feature is not available in ISO or
SICStus languages mode and is deprecated.
</p>
</dd>
<dt> <code>close(+<var>S</var>,+<var>O</var>) [ISO]</code></dt>
<dd><a name="IDX434"></a>
<a name="IDX435"></a>
<a name="IDX436"></a>
<p>Closes the stream <var>S</var>, following options <var>O</var>. 
</p>
<p>The only valid options are <code>force(true)</code> and <code>force(false)</code>.
YAP currently ignores these options.
</p>
</dd>
<dt> <code>time_file(+<var>File</var>,-<var>Time</var>)</code></dt>
<dd><a name="IDX437"></a>
<a name="IDX438"></a>
<a name="IDX439"></a>
<p>Unify the last modification time of <var>File</var> with
<var>Time</var>. <var>Time</var> is a floating point number expressing the seconds
elapsed since Jan 1, 1970.
</p>
</dd>
<dt> <code>absolute_file_name(+<var>Name</var>,+<var>Options</var>, -<var>FullPath</var>)</code></dt>
<dt> <code>absolute_file_name(+<var>Name</var>, -<var>FullPath</var>,+<var>Options</var>)</code></dt>
<dd><a name="IDX440"></a>
<a name="IDX441"></a>
<a name="IDX442"></a>

<p>Converts the given file specification into an absolute path.
<var>Option</var> is a list of options to guide the conversion:
</p>
<dl compact="compact">
<dt> <code>extensions(+<var>ListOfExtensions</var>)</code></dt>
<dd><p>List of file-extensions to try.  Default is &lsquo;<samp>''</samp>&rsquo;.  For each
extension, <code>absolute_file_name/3</code> will first add the extension and then
verify the conditions imposed by the other options.  If the condition
fails, the next extension of the list is tried.  Extensions may be
specified both as <code>.ext</code> or plain <code>ext</code>.
</p>
    </dd>
<dt> <code>relative_to(+<var>FileOrDir</var>)</code></dt>
<dd><p>Resolve the path relative to the given directory or directory the
holding the given file.  Without this option, paths are resolved
relative to the working directory (see working_directory/2) or,
if <var>Spec</var> is atomic and absolute_file_name/[2,3] is executed
in a directive, it uses the current source-file as reference.
</p>
    </dd>
<dt> <code>access(+<var>Mode</var>)</code></dt>
<dd><p>Imposes the condition access_file(<var>File</var>, <var>Mode</var>).  <var>Mode</var>
is on of <code>read</code>, <code>write</code>, <code>append</code>, <code>exist</code> or <code>none</code>.  See also access_file/2.
</p>
    </dd>
<dt> <code>file_type(+<var>Type</var>)</code></dt>
<dd><p>Defines extensions. Current mapping: <code>txt</code> implies <code>['']</code>,
<code>prolog</code> implies <code>['.pl', '']</code>, <code>executable</code> implies
<code>['.so', '']</code>, <code>qlf</code> implies <code>['.qlf', '']</code> and
<code>directory</code> implies <code>['']</code>.  The file-type <code>source</code>
is an alias for <code>prolog</code> for compatibility to SICStus Prolog.
See also prolog_file_type/2.
</p>
    </dd>
<dt> <code>file_errors(<code>fail</code>/<code>error</code>)</code></dt>
<dd><p>If <code>error</code> (default), throw and <code>existence_error</code> exception
if the file cannot be found.  If <code>fail</code>, stay silent.
</p>
    </dd>
<dt> <code>solutions(<code>first</code>/<code>all</code>)</code></dt>
<dd><p>If <code>first</code> (default), the predicates leaves no choice-point.
Otherwise a choice-point will be left and backtracking may yield
more solutions.
</p>
</dd>
</dl>


<p>Compatibility considerations to common argument-order in ISO as well
as SICStus <code>absolute_file_name/3</code> forced us to be flexible here.
If the last argument is a list and the 2nd not, the arguments are
swapped, making the call <code>absolute_file_name</code>(+<var>Spec</var>, -<var>Path</var>,
+<var>Options</var>) valid as well.
</p>
</dd>
<dt> <code>absolute_file_name(+<var>Name</var>,-<var>FullPath</var>)</code></dt>
<dd><a name="IDX443"></a>
<a name="IDX444"></a>
<a name="IDX445"></a>
<p>Give the path a full path <var>FullPath</var> YAP would use to consult a file
named <var>Name</var>.  Unify <var>FullPath</var> with <code>user</code> if the file
name is <code>user</code>.
</p>
</dd>
<dt> <code>file_base_name(+<var>Name</var>,-<var>FileName</var>)</code></dt>
<dd><a name="IDX446"></a>
<a name="IDX447"></a>
<a name="IDX448"></a>
<p>Give the path a full path <var>FullPath</var> extract the <var>FileName</var>.
</p>
</dd>
<dt> <code>current_stream(<var>F</var>,<var>M</var>,<var>S</var>)</code></dt>
<dd><a name="IDX449"></a>
<a name="IDX450"></a>
<a name="IDX451"></a>
<p>Defines the relation: The stream <var>S</var> is opened on the file <var>F</var>
in mode <var>M</var>. It might be used to obtain all open streams (by
backtracking) or to access the stream for a file <var>F</var> in mode
<var>M</var>, or to find properties for a stream <var>S</var>.
</p>
</dd>
<dt> <code>is_stream(<var>S</var>)</code></dt>
<dd><a name="IDX452"></a>
<a name="IDX453"></a>
<a name="IDX454"></a>
<p>Succeeds if <var>S</var> is a currently open stream.
</p>
</dd>
<dt> <code>flush_output [ISO]</code></dt>
<dd><a name="IDX455"></a>
<a name="IDX456"></a>
<a name="IDX457"></a>
<p>Send all data in the output buffer to current output stream.
</p>
</dd>
<dt> <code>flush_output(+<var>S</var>) [ISO]</code></dt>
<dd><a name="IDX458"></a>
<a name="IDX459"></a>
<a name="IDX460"></a>
<p>Send all data in the output buffer to stream <var>S</var>.
</p>
</dd>
<dt> <code>set_input(+<var>S</var>)</code></dt>
<dd><a name="IDX461"></a>
<a name="IDX462"></a>
<a name="IDX463"></a>
<p>Set stream <var>S</var> as the current input stream. Predicates like <code>read/1</code>
and <code>get/1</code> will start using stream <var>S</var>.
</p>
</dd>
<dt> <code>set_output(+<var>S</var>)</code></dt>
<dd><a name="IDX464"></a>
<a name="IDX465"></a>
<a name="IDX466"></a>
<p>Set stream <var>S</var> as the current output stream. Predicates like
<code>write/1</code> and <code>put/1</code> will start using stream <var>S</var>.
</p>
</dd>
<dt> <code>stream_select(+<var>STREAMS</var>,+<var>TIMEOUT</var>,-<var>READSTREAMS</var>)</code></dt>
<dd><a name="IDX467"></a>
<a name="IDX468"></a>
<a name="IDX469"></a>
<p>Given a list of open <var>STREAMS</var> opened in read mode and a <var>TIMEOUT</var>
return a list of streams who are now available for reading. 
</p>
<p>If the <var>TIMEOUT</var> is instantiated to <code>off</code>,
<code>stream_select/3</code> will wait indefinitely for a stream to become
open. Otherwise the timeout must be of the form <code>SECS:USECS</code> where
<code>SECS</code> is an integer gives the number of seconds to wait for a timeout
and <code>USECS</code> adds the number of micro-seconds.
</p>
<p>This built-in is only defined if the system call <code>select</code> is
available in the system.
</p>
</dd>
<dt> <code>current_input(-<var>S</var>) [ISO]</code></dt>
<dd><a name="IDX470"></a>
<a name="IDX471"></a>
<a name="IDX472"></a>
<p>Unify <var>S</var> with the current input stream.
</p>
</dd>
<dt> <code>current_output(-<var>S</var>) [ISO]</code></dt>
<dd><a name="IDX473"></a>
<a name="IDX474"></a>
<a name="IDX475"></a>
<p>Unify <var>S</var> with the current output stream.
</p>
</dd>
<dt> <code>at_end_of_stream [ISO]</code></dt>
<dd><a name="IDX476"></a>
<a name="IDX477"></a>
<a name="IDX478"></a>
<p>Succeed if the current stream has stream position end-of-stream or
past-end-of-stream.
</p>
</dd>
<dt> <code>at_end_of_stream(+<var>S</var>) [ISO]</code></dt>
<dd><a name="IDX479"></a>
<a name="IDX480"></a>
<a name="IDX481"></a>
<p>Succeed if the stream <var>S</var> has stream position end-of-stream or
past-end-of-stream. Note that <var>S</var> must be a readable stream.
</p>
</dd>
<dt> <code>set_stream_position(+<var>S</var>, +<var>POS</var>) [ISO]</code></dt>
<dd><a name="IDX482"></a>
<a name="IDX483"></a>
<a name="IDX484"></a>
<p>Given a stream position <var>POS</var> for a stream <var>S</var>, set the current
stream position for <var>S</var> to be <var>POS</var>.
</p>
</dd>
<dt> <code>stream_property(?<var>Stream</var>,?<var>Prop</var>) [ISO]</code></dt>
<dd><a name="IDX485"></a>
<a name="IDX486"></a>
<a name="IDX487"></a>

<p>Obtain the properties for the open streams. If the first argument is
unbound, the procedure will backtrack through all open
streams. Otherwise, the first argument must be a stream term (you may
use <code>current_stream</code> to obtain a current stream given a file name).
</p>
<p>The following properties are recognized:
</p>
<dl compact="compact">
<dt> <code>file_name(<var>P</var>)</code></dt>
<dd><p>An atom giving the file name for the current stream. The file names are
<code>user_input</code>, <code>user_output</code>, and <code>user_error</code> for the
standard streams.
</p>
</dd>
<dt> <code>mode(<var>P</var>)</code></dt>
<dd><p>The mode used to open the file. It may be one of <code>append</code>,
<code>read</code>, or <code>write</code>.
</p>
</dd>
<dt> <code>input</code></dt>
<dd><p>The stream is readable.
</p>
</dd>
<dt> <code>output</code></dt>
<dd><p>The stream is writable.
</p>
</dd>
<dt> <code>alias(<var>A</var>)</code></dt>
<dd><p>ISO-Prolog primitive for stream aliases. <tt>YAP</tt> returns one of the
existing aliases for the stream.
</p>
</dd>
<dt> <code>position(<var>P</var>)</code></dt>
<dd><p>A term describing the position in the stream.
</p>
</dd>
<dt> <code>end_of_stream(<var>E</var>)</code></dt>
<dd><p>Whether the stream is <code>at</code> the end of stream, or it has found the
end of stream and is <code>past</code>, or whether it has <code>not</code> yet
reached the end of stream.
</p>
</dd>
<dt> <code>eof_action(<var>A</var>)</code></dt>
<dd><p>The action to take when trying to read after reaching the end of
stream. The action may be one of <code>error</code>, generate an error,
<code>eof_code</code>, return character code <code>-1</code>, or <code>reset</code> the
stream.
</p>
</dd>
<dt> <code>reposition(<var>B</var>)</code></dt>
<dd><p>Whether the stream can be repositioned or not, that is, whether it is
seekable.
</p>
</dd>
<dt> <code>type(<var>T</var>)</code></dt>
<dd><p>Whether the stream is a <code>text</code> stream or a <code>binary</code> stream.
</p>
</dd>
<dt> <code>bom(+<var>Bool</var>)</code></dt>
<dd><p>If present and <code>true</code>, a BOM (<em>Byte Order Mark</em>) was
detected while opening the file for reading or a BOM was written while
opening the stream. See <a href="#SEC24">BOM: Byte Order Mark</a> for details.
</p>
</dd>
<dt> <code>encoding(+<var>Encoding</var>)</code></dt>
<dd><p>Query the encoding used for text.  See <a href="#SEC22">Wide Character Support</a> for an
overview of wide character and encoding issues in YAP.
</p>
</dd>
<dt> <code>representation_errors(+<var>Mode</var>)</code></dt>
<dd><p>Behaviour when writing characters to the stream that cannot be
represented by the encoding.  The behaviour is one of <code>error</code>
(throw and I/O error exception), <code>prolog</code> (write <code>\u...\</code>
escape code or <code>xml</code> (write <code>&amp;#...;</code> XML character entity).
The initial mode is <code>prolog</code> for the user streams and
<code>error</code> for all other streams. See also <a href="#SEC22">Wide Character Support</a> and
<code>open/4</code>.
</p>
</dd>
</dl>

</dd>
<dt> <code>current_line_number(-<var>LineNumber</var>)</code></dt>
<dd><a name="IDX488"></a>
<a name="IDX489"></a>
<a name="IDX490"></a>
<p>Unify <var>LineNumber</var> with the line number for the current stream.
</p>
</dd>
<dt> <code>current_line_number(+<var>Stream</var>,-<var>LineNumber</var>)</code></dt>
<dd><a name="IDX491"></a>
<a name="IDX492"></a>
<a name="IDX493"></a>
<p>Unify <var>LineNumber</var> with the line number for the <var>Stream</var>. 
</p>
</dd>
<dt> <code>line_count(+<var>Stream</var>,-<var>LineNumber</var>)</code></dt>
<dd><a name="IDX494"></a>
<a name="IDX495"></a>
<a name="IDX496"></a>
<p>Unify <var>LineNumber</var> with the line number for the <var>Stream</var>.
</p>
</dd>
<dt> <code>character_count(+<var>Stream</var>,-<var>CharacterCount</var>)</code></dt>
<dd><a name="IDX497"></a>
<a name="IDX498"></a>
<a name="IDX499"></a>
<p>Unify <var>CharacterCount</var> with the number of characters written to or
read to <var>Stream</var>.
</p>
</dd>
<dt> <code>line_position(+<var>Stream</var>,-<var>LinePosition</var>)</code></dt>
<dd><a name="IDX500"></a>
<a name="IDX501"></a>
<a name="IDX502"></a>
<p>Unify <var>LinePosition</var> with the position on current text stream
<var>Stream</var>.
</p>
</dd>
<dt> <code>stream_position(+<var>Stream</var>,-<var>StreamPosition</var>)</code></dt>
<dd><a name="IDX503"></a>
<a name="IDX504"></a>
<a name="IDX505"></a>
<p>Unify <var>StreamPosition</var> with the packaged information of position on
current stream <var>Stream</var>. Use <code>stream_position_data/3</code> to
retrieve information on charater or line count.
</p>
</dd>
<dt> <code>stream_position_data(+<var>Field</var>,+<var>StreamPsition</var>,-<var>Info</var>)</code></dt>
<dd><a name="IDX506"></a>
<a name="IDX507"></a>
<a name="IDX508"></a>
<p>Given the packaged stream position term <var>StreamPosition</var>, unify
<var>Info</var> with <var>Field</var> <code>line_count</code>, <code>byte_count</code>, or
<code>char_count</code>.
</p>
</dd>
</dl>

<hr size="6">
<a name="C_002dProlog-File-Handling"></a>
<a name="SEC47"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC46" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC48" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC45" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 6.9.2 Handling Streams and Files </h3>

<dl compact="compact">
<dt> <code>tell(+<var>S</var>)</code></dt>
<dd><a name="IDX509"></a>
<a name="IDX510"></a>
<a name="IDX511"></a>
<p>If <var>S</var> is a currently opened stream for output, it becomes the
current output stream. If <var>S</var> is an atom it is taken to be a
filename.  If there is no output stream currently associated with it,
then it is opened for output, and the new output stream created becomes
the current output stream. If it is not possible to open the file, an
error occurs.  If there is a single opened output stream currently
associated with the file, then it becomes the current output stream; if
there are more than one in that condition, one of them is chosen.
</p>
<p>Whenever <var>S</var> is a stream not currently opened for output, an error
may be reported, depending on the state of the file_errors flag. The
predicate just fails, if <var>S</var> is neither a stream nor an atom.
</p>
</dd>
<dt> <code>telling(-<var>S</var>)</code></dt>
<dd><a name="IDX512"></a>
<a name="IDX513"></a>
<a name="IDX514"></a>
<p>The current output stream is unified with <var>S</var>.
</p>
</dd>
<dt> <code>told</code></dt>
<dd><a name="IDX515"></a>
<a name="IDX516"></a>
<a name="IDX517"></a>
<p>Closes the current output stream, and the user's terminal becomes again
the current output stream. It is important to remember to close streams
after having finished using them, as the maximum number of
simultaneously opened streams is 17.
</p>
</dd>
<dt> <code>see(+<var>S</var>)</code></dt>
<dd><a name="IDX518"></a>
<a name="IDX519"></a>
<a name="IDX520"></a>
<p>If <var>S</var> is a currently opened input stream then it is assumed to be
the current input stream. If <var>S</var> is an atom it is taken as a
filename. If there is no input stream currently associated with it, then
it is opened for input, and the new input stream thus created becomes
the current input stream. If it is not possible to open the file, an
error occurs.  If there is a single opened input stream currently
associated with the file, it becomes the current input stream; if there
are more than one in that condition, then one of them is chosen.
</p>
<p>When <var>S</var> is a stream not currently opened for input, an error may be
reported, depending on the state of the <code>file_errors</code> flag. If
<var>S</var> is neither a stream nor an atom the predicates just fails.
</p>
</dd>
<dt> <code>seeing(-<var>S</var>)</code></dt>
<dd><a name="IDX521"></a>
<a name="IDX522"></a>
<a name="IDX523"></a>
<p>The current input stream is unified with <var>S</var>.
</p>
</dd>
<dt> <code>seen</code></dt>
<dd><a name="IDX524"></a>
<a name="IDX525"></a>
<a name="IDX526"></a>
<p>Closes the current input stream (see 6.7.).
</p>
</dd>
</dl>

<hr size="6">
<a name="I_002fO-of-Terms"></a>
<a name="SEC48"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC47" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC49" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC45" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 6.9.3 Handling Input/Output of Terms </h3>

<dl compact="compact">
<dt> <code>read(-<var>T</var>) [ISO]</code></dt>
<dd><a name="IDX527"></a>
<a name="IDX528"></a>
<a name="IDX529"></a>
<p>Reads the next term from the current input stream, and unifies it with
<var>T</var>. The term must be followed by a dot ('.') and any blank-character
as previously defined. The syntax of the term must match the current
declarations for operators (see op). If the end-of-stream is reached, 
<var>T</var> is unified with the atom <code>end_of_file</code>. Further reads from of 
the same stream may cause an error failure (see <code>open/3</code>).
</p>
</dd>
<dt> <code>read_term(-<var>T</var>,+<var>Options</var>) [ISO]</code></dt>
<dd><a name="IDX530"></a>
<a name="IDX531"></a>
<a name="IDX532"></a>
<p>Reads term <var>T</var> from the current input stream with execution
controlled by the following options:
</p>
<dl compact="compact">
<dt>  <code>term_position(-<var>Position</var>)</code></dt>
<dd><a name="IDX533"></a>
<p>Unify <var>Position</var> with a term describing the position of the stream
at the start of parse. Use <code>stream_position_data/3</code> to obtain extra
information.
</p>
</dd>
<dt>  <code>singletons(-<var>Names</var>)</code></dt>
<dd><a name="IDX534"></a>
<p>Unify <var>Names</var> with a list of the form <var>Name=Var</var>, where
<var>Name</var> is the name of a non-anonymous singleton variable in the
original term, and <code>Var</code> is the variable's representation in
YAP.
</p>
</dd>
<dt>  <code>syntax_errors(+<var>Val</var>)</code></dt>
<dd><a name="IDX535"></a>
<p>Control action to be taken after syntax errors. See <code>yap_flag/2</code>
for detailed information.
</p>
</dd>
<dt>  <code>variable_names(-<var>Names</var>)</code></dt>
<dd><a name="IDX536"></a>
<p>Unify <var>Names</var> with a list of the form <var>Name=Var</var>, where <var>Name</var> is
the name of a non-anonymous variable in the original term, and <var>Var</var>
is the variable's representation in YAP.
</p>
</dd>
<dt>  <code>variables(-<var>Names</var>)</code></dt>
<dd><a name="IDX537"></a>
<p>Unify <var>Names</var> with a list of the variables in term <var>T</var>.
</p>
</dd>
</dl>

</dd>
<dt> <code>char_conversion(+<var>IN</var>,+<var>OUT</var>) [ISO]</code></dt>
<dd><a name="IDX538"></a>
<a name="IDX539"></a>
<a name="IDX540"></a>
<p>While reading terms convert unquoted occurrences of the character
<var>IN</var> to the character <var>OUT</var>. Both <var>IN</var> and <var>OUT</var> must be
bound to single characters atoms.
</p>
<p>Character conversion only works if the flag <code>char_conversion</code> is
on. This is default in the <code>iso</code> and <code>sicstus</code> language
modes. As an example, character conversion can be used for instance to
convert characters from the ISO-LATIN-1 character set to ASCII.
</p>
<p>If <var>IN</var> is the same character as <var>OUT</var>, <code>char_conversion/2</code>
will remove this conversion from the table.
</p>
</dd>
<dt> <code>current_char_conversion(?<var>IN</var>,?<var>OUT</var>) [ISO]</code></dt>
<dd><a name="IDX541"></a>
<a name="IDX542"></a>
<a name="IDX543"></a>
<p>If <var>IN</var> is unbound give all current character
translations. Otherwise, give the translation for <var>IN</var>, if one
exists.
</p>
</dd>
<dt> <code>write(<var>T</var>) [ISO]</code></dt>
<dd><a name="IDX544"></a>
<a name="IDX545"></a>
<a name="IDX546"></a>
<p>The term <var>T</var> is written to the current output stream according to
the operator declarations in force.
</p>
</dd>
<dt> <code>display(+<var>T</var>)</code></dt>
<dd><a name="IDX547"></a>
<a name="IDX548"></a>
<a name="IDX549"></a>
<p>Displays term <var>T</var> on the current output stream. All Prolog terms are
written in standard parenthesized prefix notation.
</p>
</dd>
<dt> <code>write_canonical(+<var>T</var>) [ISO]</code></dt>
<dd><a name="IDX550"></a>
<a name="IDX551"></a>
<a name="IDX552"></a>
<p>Displays term <var>T</var> on the current output stream. Atoms are quoted
when necessary, and operators are ignored, that is, the term is written
in standard parenthesized prefix notation.
</p>
</dd>
<dt> <code>write_term(+<var>T</var>, +<var>Opts</var>) [ISO]</code></dt>
<dd><a name="IDX553"></a>
<a name="IDX554"></a>
<a name="IDX555"></a>
<p>Displays term <var>T</var> on the current output stream, according to the
following options:
</p>
<dl compact="compact">
<dt> <code>quoted(+<var>Bool</var>)</code></dt>
<dd><p>If <code>true</code>, quote atoms if this would be necessary for the atom to
be recognized as an atom by YAP's parser. The default value is
<code>false</code>.
</p>
</dd>
<dt> <code>ignore_ops(+<var>Bool</var>)</code></dt>
<dd><p>If <code>true</code>, ignore operator declarations when writing the term. The
default value is <code>false</code>.
</p>
</dd>
<dt> <code>numbervars(+<var>Bool</var>)</code></dt>
<dd><p>If <code>true</code>, output terms of the form
<code>'$VAR'(N)</code>, where <var>N</var> is an integer, as a sequence of capital
letters. The default value is <code>false</code>.
</p>
</dd>
<dt> <code>portrayed(+<var>Bool</var>)</code></dt>
<dd><p>If <code>true</code>, use <tt>portray/1</tt> to portray bound terms. The default
value is <code>false</code>.
</p>
</dd>
<dt> <code>max_depth(+<var>Depth</var>)</code></dt>
<dd><p>If <code>Depth</code> is a positive integer, use <tt>Depth</tt> as
the maximum depth to portray a term. The default is <code>0</code>, that is,
unlimited depth.
</p>
</dd>
</dl>

</dd>
<dt> <code>writeq(<var>T</var>) [ISO]</code></dt>
<dd><a name="IDX556"></a>
<a name="IDX557"></a>
<a name="IDX558"></a>
<p> Writes the term <var>T</var>, quoting names to make the result acceptable to
the predicate 'read' whenever necessary.
</p>
</dd>
<dt> <code>print(<var>T</var>)</code></dt>
<dd><a name="IDX559"></a>
<a name="IDX560"></a>
<a name="IDX561"></a>
<p>Prints the term <var>T</var> to the current output stream using <code>write/1</code>
unless T is bound and a call to the user-defined  predicate
<code>portray/1</code> succeeds. To do pretty  printing of terms the user should
define suitable clauses for <code>portray/1</code> and use <code>print/1</code>.
</p>
</dd>
<dt> <code>format(+<var>T</var>,+<var>L</var>)</code></dt>
<dd><a name="IDX562"></a>
<a name="IDX563"></a>
<a name="IDX564"></a>
<p>Print formatted output to the current output stream. The arguments in
list <var>L</var> are output according to the string or atom <var>T</var>.
</p>
<p>A control sequence is introduced by a <code>w</code>. The following control
sequences are available in YAP:
</p>
<dl compact="compact">
<dt> <code>'~~'</code></dt>
<dd><p>Print a single tilde.
</p>
</dd>
<dt> <code>'~a'</code></dt>
<dd><p>The next argument must be an atom, that will be printed as if by <code>write</code>.
</p>
</dd>
<dt> <code>'~Nc'</code></dt>
<dd><p>The next argument must be an integer, that will be printed as a
character code. The number <var>N</var> is the number of times to print the
character (default 1).
</p>
</dd>
<dt> <code>'~Ne'</code></dt>
<dt> <code>'~NE'</code></dt>
<dt> <code>'~Nf'</code></dt>
<dt> <code>'~Ng'</code></dt>
<dt> <code>'~NG'</code></dt>
<dd><p>The next argument must be a floating point number. The float <var>F</var>, the number
<var>N</var> and the control code <code>c</code> will be passed to <code>printf</code> as:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">    printf(&quot;%s.Nc&quot;, F)
</pre></td></tr></table>

<p>As an example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">?- format(&quot;~8e, ~8E, ~8f, ~8g, ~8G~w&quot;,
          [3.14,3.14,3.14,3.14,3.14,3.14]).
3.140000e+00, 3.140000E+00, 3.140000, 3.14, 3.143.14
</pre></td></tr></table>

</dd>
<dt> <code>'~Nd'</code></dt>
<dd><p>The next argument must be an integer, and <var>N</var> is the number of digits
after the decimal point. If <var>N</var> is <code>0</code> no decimal points will be
printed. The default is <var>N = 0</var>.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">?- format(&quot;~2d, ~d&quot;,[15000, 15000]).
150.00, 15000
</pre></td></tr></table>

</dd>
<dt> <code>'~ND'</code></dt>
<dd><p>Identical to <code>'~Nd'</code>, except that commas are used to separate groups
of three digits.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">?- format(&quot;~2D, ~D&quot;,[150000, 150000]).
1,500.00, 150,000
</pre></td></tr></table>

</dd>
<dt> <code>'~i'</code></dt>
<dd><p>Ignore the next argument in the list of arguments:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">?- format('The ~i met the boregrove',[mimsy]).
The  met the boregrove
</pre></td></tr></table>

</dd>
<dt> <code>'~k'</code></dt>
<dd><p>Print the next argument with <code>write_canonical</code>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">?- format(&quot;Good night ~k&quot;,a+[1,2]).
Good night +(a,[1,2])
</pre></td></tr></table>

</dd>
<dt> <code>'~Nn'</code></dt>
<dd><p>Print <var>N</var> newlines (where <var>N</var> defaults to 1).
</p>
</dd>
<dt> <code>'~NN'</code></dt>
<dd><p>Print <var>N</var> newlines if at the beginning of the line (where <var>N</var>
defaults to 1).
</p>
</dd>
<dt> <code>'~Nr'</code></dt>
<dd><p>The next argument must be an integer, and <var>N</var> is interpreted as a
radix, such that <code>2 &lt;= N &lt;= 36</code> (the default is 8).
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">?- format(&quot;~2r, 0x~16r, ~r&quot;,
          [150000, 150000, 150000]).
100100100111110000, 0x249f0, 444760
</pre></td></tr></table>

<p>Note that the letters <code>a-z</code> denote digits larger than 9.
</p>
</dd>
<dt> <code>'~NR'</code></dt>
<dd><p>Similar to '~NR'. The next argument must be an integer, and <var>N</var> is
interpreted as a radix, such that <code>2 &lt;= N &lt;= 36</code> (the default is 8).
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">?- format(&quot;~2r, 0x~16r, ~r&quot;,
          [150000, 150000, 150000]).
100100100111110000, 0x249F0, 444760
</pre></td></tr></table>

<p>The only difference is that letters <code>A-Z</code> denote digits larger than 9.
</p>
</dd>
<dt> <code>'~p'</code></dt>
<dd><p>Print the next argument with <code>print/1</code>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">?- format(&quot;Good night ~p&quot;,a+[1,2]).
Good night a+[1,2]
</pre></td></tr></table>

</dd>
<dt> <code>'~q'</code></dt>
<dd><p>Print the next argument with <code>writeq/1</code>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">?- format(&quot;Good night ~q&quot;,'Hello'+[1,2]).
Good night 'Hello'+[1,2]
</pre></td></tr></table>

</dd>
<dt> <code>'~Ns'</code></dt>
<dd><p>The next argument must be a list of character codes. The system then
outputs their representation as a string, where <var>N</var> is the maximum
number of characters for the string (<var>N</var> defaults to the length of the
string).
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">?- format(&quot;The ~s are ~4s&quot;,[&quot;woods&quot;,&quot;lovely&quot;]).
The woods are love
</pre></td></tr></table>

</dd>
<dt> <code>'~w'</code></dt>
<dd><p>Print the next argument with <code>write/1</code>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">?- format(&quot;Good night ~w&quot;,'Hello'+[1,2]).
Good night Hello+[1,2]
</pre></td></tr></table>

</dd>
</dl>
<p>The number of arguments, <code>N</code>, may be given as an integer, or it
may be given as an extra argument. The next example shows a small
procedure to write a variable number of <code>a</code> characters:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">write_many_as(N) :-
        format(&quot;~*c&quot;,[N,0'a]).
</pre></td></tr></table>

<p>The <code>format/2</code> built-in also allows for formatted output.  One can
specify column boundaries and fill the intermediate space by a padding
character: 
</p>
<dl compact="compact">
<dt> <code>'~N|'</code></dt>
<dd><p>Set a column boundary at position <var>N</var>, where <var>N</var> defaults to the
current position.
</p>
</dd>
<dt> <code>'~N+'</code></dt>
<dd><p>Set a column boundary at <var>N</var> characters past the current position, where
<var>N</var> defaults to <code>8</code>.
</p>

</dd>
<dt> <code>'~Nt'</code></dt>
<dd><p>Set padding for a column, where <var>N</var> is the fill code (default is
&lt;SPC&gt;).
</p>
</dd>
</dl>

<p>The next example shows how to align columns and padding. We first show
left-alignment:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">
<code>
   ?- format(&quot;~n*Hello~16+*~n&quot;,[]).
*Hello          *
</code>
</pre></td></tr></table>

<p>Note that we reserve 16 characters for the column.
</p>
<p>The following example shows how to do right-alignment:
</p>

<table><tr><td>&nbsp;</td><td><pre class="example"><code>
   ?- format(&quot;*~tHello~16+*~n&quot;,[]).
*          Hello*
</code>

</pre></td></tr></table>


<p>The <code>~t</code> escape sequence forces filling before <code>Hello</code>. 
</p>
<p>We next show how to do centering:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><code>
   ?- format(&quot;*~tHello~t~16+*~n&quot;,[]).
*     Hello     *
</code>
</pre></td></tr></table>


<p>The two <code>~t</code> escape sequence force filling both before and after
<code>Hello</code>. Space is then evenly divided between the right and the
left sides.
</p>
</dd>
<dt> <code>format(+<var>S</var>,+<var>T</var>,+<var>L</var>)</code></dt>
<dd><a name="IDX565"></a>
<a name="IDX566"></a>
<a name="IDX567"></a>
<p>Print formatted output to stream <var>S</var>.
</p>

</dd>
</dl>

<hr size="6">
<a name="I_002fO-of-Characters"></a>
<a name="SEC49"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC48" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC50" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC45" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 6.9.4 Handling Input/Output of Characters </h3>

<dl compact="compact">
<dt> <code>put(+<var>N</var>)</code></dt>
<dd><a name="IDX568"></a>
<a name="IDX569"></a>
<a name="IDX570"></a>
<p>Outputs to the current output stream the character whose ASCII code is
<var>N</var>. The character <var>N</var> must be a legal ASCII character code, an
expression yielding such a code, or a list in which case only the first
element is used.
</p>
</dd>
<dt> <code>put_byte(+<var>N</var>) [ISO]</code></dt>
<dd><a name="IDX571"></a>
<a name="IDX572"></a>
<a name="IDX573"></a>
<p>Outputs to the current output stream the character whose code is
<var>N</var>. The current output stream must be a binary stream.
</p>
</dd>
<dt> <code>put_char(+<var>N</var>) [ISO]</code></dt>
<dd><a name="IDX574"></a>
<a name="IDX575"></a>
<a name="IDX576"></a>
<p>Outputs to the current output stream the character who is used to build
the representation of atom <code>A</code>. The current output stream must be a
text stream.
</p>
</dd>
<dt> <code>put_code(+<var>N</var>) [ISO]</code></dt>
<dd><a name="IDX577"></a>
<a name="IDX578"></a>
<a name="IDX579"></a>
<p>Outputs to the current output stream the character whose ASCII code is
<var>N</var>. The current output stream must be a text stream. The character
<var>N</var> must be a legal ASCII character code, an expression yielding such
a code, or a list in which case only the first element is used.
</p>
</dd>
<dt> <code>get(-<var>C</var>)</code></dt>
<dd><a name="IDX580"></a>
<a name="IDX581"></a>
<a name="IDX582"></a>
<p>The next non-blank character from the current input stream is unified
with <var>C</var>. Blank characters are the ones whose ASCII codes are not
greater than 32. If there are no more non-blank characters in the
stream, <var>C</var> is unified with -1. If <code>end_of_stream</code> has already
been reached in the previous reading, this call will give an error message.
</p>
</dd>
<dt> <code>get0(-<var>C</var>)</code></dt>
<dd><a name="IDX583"></a>
<a name="IDX584"></a>
<a name="IDX585"></a>
<p>The next character from the current input stream is consumed, and then
unified with <var>C</var>. There are no restrictions on the possible
values of the ASCII code for the character, but the character will be
internally converted by YAP.
</p>
</dd>
<dt> <code>get_byte(-<var>C</var>) [ISO]</code></dt>
<dd><a name="IDX586"></a>
<a name="IDX587"></a>
<a name="IDX588"></a>
<p>If <var>C</var> is unbound, or is a character code, and the current stream is a
binary stream, read the next byte from the current stream and unify its
code with <var>C</var>.
</p>
</dd>
<dt> <code>get_char(-<var>C</var>) [ISO]</code></dt>
<dd><a name="IDX589"></a>
<a name="IDX590"></a>
<a name="IDX591"></a>
<p>If <var>C</var> is unbound, or is an atom representation of a character, and
the current stream is a text stream, read the next character from the
current stream and unify its atom representation with <var>C</var>.
</p>
</dd>
<dt> <code>get_code(-<var>C</var>) [ISO]</code></dt>
<dd><a name="IDX592"></a>
<a name="IDX593"></a>
<a name="IDX594"></a>
<p>If <var>C</var> is unbound, or is the code for a character, and
the current stream is a text stream, read the next character from the
current stream and unify its code with <var>C</var>.
</p>
</dd>
<dt> <code>peek_byte(-<var>C</var>) [ISO]</code></dt>
<dd><a name="IDX595"></a>
<a name="IDX596"></a>
<a name="IDX597"></a>
<p>If <var>C</var> is unbound, or is a character code, and the current stream is a
binary stream, read the next byte from the current stream and unify its
code with <var>C</var>, while leaving the current stream position unaltered.
</p>
</dd>
<dt> <code>peek_char(-<var>C</var>) [ISO]</code></dt>
<dd><a name="IDX598"></a>
<a name="IDX599"></a>
<a name="IDX600"></a>
<p>If <var>C</var> is unbound, or is an atom representation of a character, and
the current stream is a text stream, read the next character from the
current stream and unify its atom representation with <var>C</var>, while
leaving the current stream position unaltered.
</p>
</dd>
<dt> <code>peek_code(-<var>C</var>) [ISO]</code></dt>
<dd><a name="IDX601"></a>
<a name="IDX602"></a>
<a name="IDX603"></a>
<p>If <var>C</var> is unbound, or is the code for a character, and
the current stream is a text stream, read the next character from the
current stream and unify its code with <var>C</var>, while
leaving the current stream position unaltered.
</p>
</dd>
<dt> <code>skip(+<var>N</var>)</code></dt>
<dd><a name="IDX604"></a>
<a name="IDX605"></a>
<a name="IDX606"></a>
<p>Skips input characters until the next occurrence of the character with
ASCII code <var>N</var>. The argument to this predicate can take the same forms
as those for <code>put</code> (see 6.11).
</p>
</dd>
<dt> <code>tab(+<var>N</var>)</code></dt>
<dd><a name="IDX607"></a>
<a name="IDX608"></a>
<a name="IDX609"></a>
<p>Outputs <var>N</var> spaces to the current output stream.
</p>
</dd>
<dt> <code>nl [ISO]</code></dt>
<dd><a name="IDX610"></a>
<a name="IDX611"></a>
<a name="IDX612"></a>
<p>Outputs a new line to the current output stream.
</p>
</dd>
</dl>

<hr size="6">
<a name="I_002fO-for-Streams"></a>
<a name="SEC50"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC49" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC51" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC45" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 6.9.5 Input/Output Predicates applied to Streams </h3>

<dl compact="compact">
<dt> <code>read(+<var>S</var>,-<var>T</var>) [ISO]</code></dt>
<dd><a name="IDX613"></a>
<a name="IDX614"></a>
<a name="IDX615"></a>
<p>Reads term <var>T</var> from the stream <var>S</var> instead of from the current input
stream.
</p>
</dd>
<dt> <code>read_term(+<var>S</var>,-<var>T</var>,+<var>Options</var>) [ISO]</code></dt>
<dd><a name="IDX616"></a>
<a name="IDX617"></a>
<a name="IDX618"></a>
<p>Reads term <var>T</var> from stream <var>S</var> with execution controlled by the
same options as <code>read_term/2</code>.
</p>
</dd>
<dt> <code>write(+<var>S</var>,<var>T</var>) [ISO]</code></dt>
<dd><a name="IDX619"></a>
<a name="IDX620"></a>
<a name="IDX621"></a>
<p>Writes term <var>T</var> to stream <var>S</var> instead of to the current output
stream.
</p>
</dd>
<dt> <code>write_canonical(+<var>S</var>,+<var>T</var>) [ISO]</code></dt>
<dd><a name="IDX622"></a>
<a name="IDX623"></a>
<a name="IDX624"></a>
<p>Displays term <var>T</var> on the stream <var>S</var>. Atoms are quoted when
necessary, and operators are ignored.
</p>
</dd>
<dt> <code>write_term(+<var>S</var>, +<var>T</var>, +<var>Opts</var>) [ISO]</code></dt>
<dd><a name="IDX625"></a>
<a name="IDX626"></a>
<a name="IDX627"></a>
<p>Displays term <var>T</var> on the current output stream, according to the same
options used by <code>write_term/3</code>.
</p>
</dd>
<dt> <code>writeq(+<var>S</var>,<var>T</var>) [ISO]</code></dt>
<dd><a name="IDX628"></a>
<a name="IDX629"></a>
<a name="IDX630"></a>
<p>As <code>writeq/1</code>, but the output is sent to the stream <var>S</var>.
</p>
</dd>
<dt> <code>display(+<var>S</var>,<var>T</var>)</code></dt>
<dd><a name="IDX631"></a>
<a name="IDX632"></a>
<a name="IDX633"></a>
<p>Like <code>display/1</code>, but using stream <var>S</var> to display the term.
</p>
</dd>
<dt> <code>print(+<var>S</var>,<var>T</var>)</code></dt>
<dd><a name="IDX634"></a>
<a name="IDX635"></a>
<a name="IDX636"></a>
<p>Prints term <var>T</var> to the stream <var>S</var> instead of to the current output
stream.
</p>
</dd>
<dt> <code>put(+<var>S</var>,+<var>N</var>)</code></dt>
<dd><a name="IDX637"></a>
<a name="IDX638"></a>
<a name="IDX639"></a>
<p>As <code>put(N)</code>, but to stream <var>S</var>.
</p>
</dd>
<dt> <code>put_byte(+<var>S</var>,+<var>N</var>) [ISO]</code></dt>
<dd><a name="IDX640"></a>
<a name="IDX641"></a>
<a name="IDX642"></a>
<p>As <code>put_byte(N)</code>, but to binary stream <var>S</var>.
</p>
</dd>
<dt> <code>put_char(+<var>S</var>,+<var>A</var>) [ISO]</code></dt>
<dd><a name="IDX643"></a>
<a name="IDX644"></a>
<a name="IDX645"></a>
<p>As <code>put_char(A)</code>, but to text stream <var>S</var>.
</p>
</dd>
<dt> <code>put_code(+<var>S</var>,+<var>N</var>) [ISO]</code></dt>
<dd><a name="IDX646"></a>
<a name="IDX647"></a>
<a name="IDX648"></a>
<p>As <code>put_code(N)</code>, but to text stream <var>S</var>.
</p>
</dd>
<dt> <code>get(+<var>S</var>,-<var>C</var>)</code></dt>
<dd><a name="IDX649"></a>
<a name="IDX650"></a>
<a name="IDX651"></a>
<p>The same as <code>get(C)</code>, but from stream <var>S</var>.
</p>
</dd>
<dt> <code>get0(+<var>S</var>,-<var>C</var>)</code></dt>
<dd><a name="IDX652"></a>
<a name="IDX653"></a>
<a name="IDX654"></a>
<p>The same as <code>get0(C)</code>, but from stream <var>S</var>.
</p>
</dd>
<dt> <code>get_byte(+<var>S</var>,-<var>C</var>) [ISO]</code></dt>
<dd><a name="IDX655"></a>
<a name="IDX656"></a>
<a name="IDX657"></a>
<p>If <var>C</var> is unbound, or is a character code, and the stream <var>S</var> is a
binary stream, read the next byte from that stream and unify its
code with <var>C</var>.
</p>
</dd>
<dt> <code>get_char(+<var>S</var>,-<var>C</var>) [ISO]</code></dt>
<dd><a name="IDX658"></a>
<a name="IDX659"></a>
<a name="IDX660"></a>
<p>If <var>C</var> is unbound, or is an atom representation of a character, and
the stream <var>S</var> is a text stream, read the next character from that
stream and unify its representation as an atom with <var>C</var>.
</p>
</dd>
<dt> <code>get_code(+<var>S</var>,-<var>C</var>) [ISO]</code></dt>
<dd><a name="IDX661"></a>
<a name="IDX662"></a>
<a name="IDX663"></a>
<p>If <var>C</var> is unbound, or is a character code, and the stream <var>S</var> is a
text stream, read the next character from that stream and unify its
code with <var>C</var>.
</p>
</dd>
<dt> <code>peek_byte(+<var>S</var>,-<var>C</var>) [ISO]</code></dt>
<dd><a name="IDX664"></a>
<a name="IDX665"></a>
<a name="IDX666"></a>
<p>If <var>C</var> is unbound, or is a character code, and <var>S</var> is a binary
stream, read the next byte from the current stream and unify its code
with <var>C</var>, while leaving the current stream position unaltered.
</p>
</dd>
<dt> <code>peek_char(+<var>S</var>,-<var>C</var>) [ISO]</code></dt>
<dd><a name="IDX667"></a>
<a name="IDX668"></a>
<a name="IDX669"></a>
<p>If <var>C</var> is unbound, or is an atom representation of a character, and
the stream <var>S</var> is a text stream, read the next character from that
stream and unify its representation as an atom with <var>C</var>, while leaving
the current stream position unaltered.
</p>
</dd>
<dt> <code>peek_code(+<var>S</var>,-<var>C</var>) [ISO]</code></dt>
<dd><a name="IDX670"></a>
<a name="IDX671"></a>
<a name="IDX672"></a>
<p>If <var>C</var> is unbound, or is an atom representation of a character, and
the stream <var>S</var> is a text stream, read the next character from that
stream and unify its representation as an atom with <var>C</var>, while leaving
the current stream position unaltered.
</p>
</dd>
<dt> <code>skip(+<var>S</var>,-<var>C</var>)</code></dt>
<dd><a name="IDX673"></a>
<a name="IDX674"></a>
<a name="IDX675"></a>
<p>Like <code>skip/1</code>, but using stream <var>S</var> instead of the current
input stream.
</p>
</dd>
<dt> <code>tab(+<var>S</var>,+<var>N</var>)</code></dt>
<dd><a name="IDX676"></a>
<a name="IDX677"></a>
<a name="IDX678"></a>
<p>The same as <code>tab/1</code>, but using stream <var>S</var>.
</p>
</dd>
<dt> <code>nl(+<var>S</var>)</code></dt>
<dd><a name="IDX679"></a>
<a name="IDX680"></a>
<a name="IDX681"></a>
<p>Outputs a new line to stream <var>S</var>.
</p>
</dd>
</dl>

<hr size="6">
<a name="C_002dProlog-to-Terminal"></a>
<a name="SEC51"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC50" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC52" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC45" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 6.9.6 Compatible C-Prolog predicates for Terminal I/O </h3>

<dl compact="compact">
<dt> <code>ttyput(+<var>N</var>)</code></dt>
<dd><a name="IDX682"></a>
<a name="IDX683"></a>
<a name="IDX684"></a>
<p>As <code>put(N)</code> but always to <code>user_output</code>.
</p>
</dd>
<dt> <code>ttyget(-<var>C</var>)</code></dt>
<dd><a name="IDX685"></a>
<a name="IDX686"></a>
<a name="IDX687"></a>
<p>The same as <code>get(C)</code>, but from stream <code>user_input</code>.
</p>
</dd>
<dt> <code>ttyget0(-<var>C</var>)</code></dt>
<dd><a name="IDX688"></a>
<a name="IDX689"></a>
<a name="IDX690"></a>
<p>The same as <code>get0(C)</code>, but from stream <code>user_input</code>.
</p>
</dd>
<dt> <code>ttyskip(-<var>C</var>)</code></dt>
<dd><a name="IDX691"></a>
<a name="IDX692"></a>
<a name="IDX693"></a>
<p>Like <code>skip/1</code>, but always using stream <code>user_input</code>.
stream.
</p>
</dd>
<dt> <code>ttytab(+<var>N</var>)</code></dt>
<dd><a name="IDX694"></a>
<a name="IDX695"></a>
<a name="IDX696"></a>
<p>The same as <code>tab/1</code>, but using stream <code>user_output</code>.
</p>
</dd>
<dt> <code>ttynl</code></dt>
<dd><a name="IDX697"></a>
<a name="IDX698"></a>
<a name="IDX699"></a>
<p>Outputs a new line to stream <code>user_output</code>.
</p>
</dd>
</dl>

<hr size="6">
<a name="I_002fO-Control"></a>
<a name="SEC52"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC51" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC53" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC45" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 6.9.7 Controlling Input/Output </h3>

<dl compact="compact">
<dt> <code>exists(+<var>F</var>)</code></dt>
<dd><a name="IDX700"></a>
<a name="IDX701"></a>
<a name="IDX702"></a>
<p>Checks if file <var>F</var> exists in the current directory.
</p>
</dd>
<dt> <code>nofileerrors</code></dt>
<dd><a name="IDX703"></a>
<a name="IDX704"></a>
<a name="IDX705"></a>
<p>Switches off the file_errors flag, so that the predicates <code>see/1</code>,
<code>tell/1</code>, <code>open/3</code> and <code>close/1</code> just fail, instead of producing
an error message and aborting whenever the specified file cannot be
opened or closed.
</p>
</dd>
<dt> <code>fileerrors</code></dt>
<dd><a name="IDX706"></a>
<a name="IDX707"></a>
<a name="IDX708"></a>
<p>Switches on the file_errors flag so that in certain error conditions
I/O predicates will produce an appropriated message and abort.
</p>
</dd>
<dt> <code>write_depth(<var>T</var>,<var>L</var>,<var>A</var>)</code></dt>
<dd><a name="IDX709"></a>
<a name="IDX710"></a>
<a name="IDX711"></a>
<p>Unifies <var>T</var> with the value of the maximum depth of a term to be
written, <var>L</var> with the maximum length of a list to write, and <var>A</var>
with the maximum number of arguments of a compound term to write. The
setting will be used by <code>write/1</code> or <code>write/2</code>. The default
value for all arguments is 0, meaning unlimited depth and length.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">?- write_depth(3,5,5).
yes
?- write(a(b(c(d(e(f(g))))))).
a(b(c(....)))
yes
?- write([1,2,3,4,5,6,7,8]).
[1,2,3,4,5,...]
yes
?- write(a(1,2,3,4,5,6,7,8)).
a(1,2,3,4,5,...)
yes
</pre></td></tr></table>

</dd>
<dt> <code>write_depth(<var>T</var>,<var>L</var>)</code></dt>
<dd><a name="IDX712"></a>
<a name="IDX713"></a>
<p>Same as <code>write_depth(<var>T</var>,<var>L</var>,_)</code>. Unifies <var>T</var> with the
value of the maximum depth of a term to be
written, and <var>L</var> with the maximum length of a list to write. The
setting will be used by <code>write/1</code> or <code>write/2</code>. The default
value for all arguments is 0, meaning unlimited depth and length.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">?- write_depth(3,5,5).
yes
?- write(a(b(c(d(e(f(g))))))).
a(b(c(....)))
yes
?- write([1,2,3,4,5,6,7,8]).
[1,2,3,4,5,...]
yes
</pre></td></tr></table>

</dd>
<dt> <code>always_prompt_user</code></dt>
<dd><a name="IDX714"></a>
<a name="IDX715"></a>
<a name="IDX716"></a>
<p>Force the system to prompt the user even if the <code>user_input</code> stream
is not a terminal. This command is useful if you want to obtain
interactive control from a pipe or a socket.
</p>
</dd>
</dl>

<hr size="6">
<a name="Sockets"></a>
<a name="SEC53"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC52" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC54" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC45" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 6.9.8 Using Sockets From YAP </h3>

<p>YAP includes a SICStus Prolog compatible socket interface. This
is a low level interface that provides direct access to the major socket
system calls. These calls can be used both to open a new connection in
the network or connect to a networked server. Socket connections are
described as read/write streams, and standard I/O built-ins can be used
to write on or read from sockets. The following calls are available:
</p>
<dl compact="compact">
<dt> <code>socket(+<var>DOMAIN</var>,+<var>TYPE</var>,+<var>PROTOCOL</var>,-<var>SOCKET</var>)</code></dt>
<dd><a name="IDX717"></a>
<a name="IDX718"></a>
<a name="IDX719"></a>
<p>Corresponds to the BSD system call <code>socket</code>. Create a socket for
domain <var>DOMAIN</var> of type <var>TYPE</var> and protocol
<var>PROTOCOL</var>. Both <var>DOMAIN</var> and <var>TYPE</var> should be atoms,
whereas <var>PROTOCOL</var> must be an integer. The new socket object is
accessible through a descriptor bound to the variable <var>SOCKET</var>.
</p>
<p>The current implementation of YAP only accepts two socket
domains: <code>'AF_INET'</code> and <code>'AF_UNIX'</code>. Socket types depend on the
underlying operating system, but at least the following types are
supported: <code>'SOCK_STREAM'</code> and <code>'SOCK_DGRAM'</code>.
</p>
</dd>
<dt> <code>socket(+<var>DOMAIN</var>,-<var>SOCKET</var>)</code></dt>
<dd><a name="IDX720"></a>
<a name="IDX721"></a>
<a name="IDX722"></a>

<p>Call <code>socket/4</code> with <var>TYPE</var> bound to <code>'SOCK_STREAM'</code> and
<var>PROTOCOL</var> bound to <code>0</code>.
</p>
</dd>
<dt> <code>socket_close(+<var>SOCKET</var>)</code></dt>
<dd><a name="IDX723"></a>
<a name="IDX724"></a>
<a name="IDX725"></a>

<p>Close socket <var>SOCKET</var>. Note that sockets used in
<code>socket_connect</code> (that is, client sockets) should not be closed with
<code>socket_close</code>, as they will be automatically closed when the
corresponding stream is closed with <code>close/1</code> or <code>close/2</code>.
</p>
</dd>
<dt> <code>socket_bind(+<var>SOCKET</var>, ?<var>PORT</var>)</code></dt>
<dd><a name="IDX726"></a>
<a name="IDX727"></a>
<a name="IDX728"></a>

<p>Interface to system call <code>bind</code>, as used for servers: bind socket
to a port. Port information depends on the domain:
</p><dl compact="compact">
<dt> <code>'AF_UNIX'(+<var>FILENAME</var>)</code></dt>
<dt> <code>'AF_FILE'(+<var>FILENAME</var>)</code></dt>
<dd><p>use file name <var>FILENAME</var> for UNIX or local sockets.
</p>
</dd>
<dt> <code>'AF_INET'(?<var>HOST</var>,?PORT)</code></dt>
<dd><p>If <var>HOST</var> is bound to an atom, bind to host <var>HOST</var>, otherwise
if unbound bind to local host (<var>HOST</var> remains unbound). If port
<var>PORT</var> is bound to an integer, try to bind to the corresponding
port. If variable <var>PORT</var> is unbound allow operating systems to
choose a port number, which is unified with <var>PORT</var>.
</p>
</dd>
</dl>

</dd>
<dt> <code>socket_connect(+<var>SOCKET</var>, +<var>PORT</var>, -<var>STREAM</var>)</code></dt>
<dd><a name="IDX729"></a>
<a name="IDX730"></a>
<a name="IDX731"></a>

<p>Interface to system call <code>connect</code>, used for clients: connect
socket <var>SOCKET</var> to <var>PORT</var>. The connection results in the
read/write stream <var>STREAM</var>.
</p>
<p>Port information depends on the domain:
</p><dl compact="compact">
<dt> <code>'AF_UNIX'(+<var>FILENAME</var>)</code></dt>
<dt> <code>'AF_FILE'(+<var>FILENAME</var>)</code></dt>
<dd><p>connect to socket at file <var>FILENAME</var>.
</p>
</dd>
<dt> <code>'AF_INET'(+<var>HOST</var>,+<var>PORT</var>)</code></dt>
<dd><p>Connect to socket at host <var>HOST</var> and port <var>PORT</var>.
</p></dd>
</dl>

</dd>
<dt> <code>socket_listen(+<var>SOCKET</var>, +<var>LENGTH</var>)</code></dt>
<dd><a name="IDX732"></a>
<a name="IDX733"></a>
<a name="IDX734"></a>
<p>Interface to system call <code>listen</code>, used for servers to indicate
willingness to wait for connections at socket <var>SOCKET</var>. The
integer <var>LENGTH</var> gives the queue limit for incoming connections,
and should be limited to <code>5</code> for portable applications. The socket
must be of type <code>SOCK_STREAM</code> or <code>SOCK_SEQPACKET</code>.
</p>
</dd>
<dt> <code>socket_accept(+<var>SOCKET</var>, -<var>STREAM</var>)</code></dt>
<dd><a name="IDX735"></a>
<a name="IDX736"></a>
<a name="IDX737"></a>

</dd>
<dt> <code>socket_accept(+<var>SOCKET</var>, -<var>CLIENT</var>, -<var>STREAM</var>)</code></dt>
<dd><a name="IDX738"></a>
<a name="IDX739"></a>
<a name="IDX740"></a>
<p>Interface to system call <code>accept</code>, used for servers to wait for
connections at socket <var>SOCKET</var>. The stream descriptor <var>STREAM</var>
represents the resulting connection.  If the socket belongs to the
domain <code>'AF_INET'</code>, <var>CLIENT</var> unifies with an atom containing
the IP address for the client in numbers and dots notation.
</p>
</dd>
<dt> <code>socket_accept(+<var>SOCKET</var>, -<var>STREAM</var>)</code></dt>
<dd><a name="IDX741"></a>
<a name="IDX742"></a>
<a name="IDX743"></a>
<p>Accept a connection but do not return client information.
</p>
</dd>
<dt> <code>socket_buffering(+<var>SOCKET</var>, -<var>MODE</var>, -<var>OLD</var>, +<var>NEW</var>)</code></dt>
<dd><a name="IDX744"></a>
<a name="IDX745"></a>
<a name="IDX746"></a>
<p>Set buffering for <var>SOCKET</var> in <code>read</code> or <code>write</code>
<var>MODE</var>. <var>OLD</var> is unified with the previous status, and <var>NEW</var>
receives the new status which may be one of <code>unbuf</code> or
<code>fullbuf</code>.
</p>
</dd>
<dt> <code>socket_select(+<var>SOCKETS</var>, -<var>NEWSTREAMS</var>, +<var>TIMEOUT</var>, +<var>STREAMS</var>, -<var>READSTREAMS</var>)</code></dt>
<dd><a name="IDX747"></a>
<a name="IDX748"></a>
<a name="IDX749"></a>
<p>Interface to system call <code>select</code>, used for servers to wait for
connection requests or for data at sockets. The variable
<var>SOCKETS</var> is a list of form <var>KEY-SOCKET</var>, where <var>KEY</var> is
an user-defined identifier and <var>SOCKET</var> is a socket descriptor. The
variable <var>TIMEOUT</var> is either <code>off</code>, indicating execution will
wait until something is available, or of the form <var>SEC-USEC</var>, where
<var>SEC</var> and <var>USEC</var> give the seconds and microseconds before
<code>socket_select/5</code> returns. The variable <var>SOCKETS</var> is a list of
form <var>KEY-STREAM</var>, where <var>KEY</var> is an user-defined identifier
and <var>STREAM</var> is a stream descriptor
</p>
<p>Execution of <code>socket_select/5</code> unifies <var>READSTREAMS</var> from
<var>STREAMS</var> with readable data, and <var>NEWSTREAMS</var> with a list of
the form <var>KEY-STREAM</var>, where <var>KEY</var> was the key for a socket
with pending data, and <var>STREAM</var> the stream descriptor resulting
from accepting the connection.  
</p>
</dd>
<dt> <code>current_host(?<var>HOSTNAME</var>)</code></dt>
<dd><p>Unify <var>HOSTNAME</var> with an atom representing the fully qualified
hostname for the current host. Also succeeds if <var>HOSTNAME</var> is bound
to the unqualified hostname.
</p>
</dd>
<dt> <code>hostname_address(?<var>HOSTNAME</var>,?<var>IP_ADDRESS</var>)</code></dt>
<dd><p><var>HOSTNAME</var> is an host name and <var>IP_ADDRESS</var> its IP
address in number and dots notation.
</p>

</dd>
</dl>

<hr size="6">
<a name="Database"></a>
<a name="SEC54"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC53" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC55" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 6.10 Using the Clausal Data Base </h2>

<p>Predicates in YAP may be dynamic or static. By default, when
consulting or reconsulting, predicates are assumed to be static:
execution is faster and the code will probably use less space.
Static predicates impose some restrictions: in general there can be no 
addition or removal of  clauses for a procedure if it is being used in the
current execution.
</p>
<p>Dynamic predicates allow programmers to change the Clausal Data Base with
the same flexibility as in C-Prolog. With dynamic predicates it is
always possible to add or remove clauses during execution and the
semantics will be the same as for C-Prolog. But the programmer should be
aware of the fact that asserting or retracting are still expensive operations, 
and therefore he should try to avoid them whenever possible.
</p>
<dl compact="compact">
<dt> <code>dynamic +<var>P</var></code></dt>
<dd><a name="IDX750"></a>
<a name="IDX751"></a>
<a name="IDX752"></a>
<p>Declares predicate <var>P</var> or list of predicates [<var>P1</var>,...,<var>Pn</var>]
as a dynamic predicate. <var>P</var> must be written in form:
<var>name/arity</var>.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">:- dynamic god/1.
</pre></td></tr></table>

<p>a more convenient form can be used:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">:- dynamic son/3, father/2, mother/2.
</pre></td></tr></table>

<p>or, equivalently,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">:- dynamic [son/3, father/2, mother/2].
</pre></td></tr></table>

<p>Note:
</p>
<p>a predicate is assumed to be dynamic when 
asserted before being defined.
</p>
</dd>
<dt> <code>dynamic_predicate(+<var>P</var>,+<var>Semantics</var>)</code></dt>
<dd><a name="IDX753"></a>
<a name="IDX754"></a>
<a name="IDX755"></a>
<p>Declares predicate <var>P</var> or list of predicates [<var>P1</var>,...,<var>Pn</var>]
as a dynamic predicate following either <code>logical</code> or
<code>immediate</code> semantics.
</p>
<table class="menu" border="0" cellspacing="0">

<p>Subnodes of Database
<a href="#SEC55">6.10.1 Modification of the Data Base</a>&nbsp; Asserting and Retracting
<a href="#SEC56">6.10.2 Looking at the Data Base</a>&nbsp; Finding out what is in the Data Base
<a href="#SEC57">6.10.3 Using Data Base References</a>&nbsp; Using Data Base References
<a href="#SEC58">6.11 Internal Data Base</a>&nbsp; YAP's Internal Database
<a href="#SEC59">6.12 The Blackboard</a>&nbsp; Storing and Fetching Terms in the BlackBoard
</p>
</table>

</dd>
</dl>

<hr size="6">
<a name="Modifying-the-Database"></a>
<a name="SEC55"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC54" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC56" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC54" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 6.10.1 Modification of the Data Base </h3>

<p>These predicates can be used either for static or for dynamic
predicates:
</p>
<dl compact="compact">
<dt> <code>assert(+<var>C</var>)</code></dt>
<dd><a name="IDX756"></a>
<a name="IDX757"></a>
<a name="IDX758"></a>
<p> Adds clause <var>C</var> to the program. If the predicate is undefined,
declare it as dynamic.
</p>
<p> Most Prolog systems only allow asserting clauses for dynamic
predicates. This is also as specified in the ISO standard. YAP allows
asserting clauses for static predicates, as long as the predicate is not
in use and the language flag is <tt>cprolog</tt>. Note that this feature is
deprecated, if you want to assert clauses for static procedures you
should use <code>assert_static/1</code>.
</p>
</dd>
<dt> <code>asserta(+<var>C</var>) [ISO]</code></dt>
<dd><a name="IDX759"></a>
<a name="IDX760"></a>
<a name="IDX761"></a>
<p> Adds clause <var>C</var> to the beginning of the program. If the predicate is
undefined, declare it as dynamic.
</p>
</dd>
<dt> <code>assertz(+<var>C</var>) [ISO]</code></dt>
<dd><a name="IDX762"></a>
<a name="IDX763"></a>
<a name="IDX764"></a>
<p> Adds clause <var>C</var> to the end of the program. If the predicate is
undefined, declare it as dynamic.
</p>
<p> Most Prolog systems only allow asserting clauses for dynamic
predicates. This is also as specified in the ISO standard. YAP allows
asserting clauses for static predicates. The current version of YAP
supports this feature, but this feature is deprecated and support may go
away in future versions.
</p>
</dd>
<dt> <code>abolish(+<var>PredSpec</var>) [ISO]</code></dt>
<dd><a name="IDX765"></a>
<a name="IDX766"></a>
<a name="IDX767"></a>
<p>   Deletes the predicate given by <var>PredSpec</var> from the database. If
<var>PredSpec</var> is an unbound variable, delete all predicates for the
current module. The
specification must include the name and arity, and it may include module
information. Under <tt>iso</tt> language mode this built-in will only abolish
dynamic procedures. Under other modes it will abolish any procedures. 
</p>
</dd>
<dt> <code>abolish(+<var>P</var>,+<var>N</var>)</code></dt>
<dd><a name="IDX768"></a>
<a name="IDX769"></a>
<a name="IDX770"></a>
<p> Deletes the predicate with name <var>P</var> and arity <var>N</var>. It will remove
both static and dynamic predicates.
</p>
</dd>
<dt> <code>assert_static(:<var>C</var>)</code></dt>
<dd><a name="IDX771"></a>
<a name="IDX772"></a>
<a name="IDX773"></a>
<p>Adds clause <var>C</var> to a static procedure. Asserting a static clause
for a predicate while choice-points for the predicate are available has
undefined results.
</p>
</dd>
<dt> <code>asserta_static(:<var>C</var>)</code></dt>
<dd><a name="IDX774"></a>
<a name="IDX775"></a>
<a name="IDX776"></a>
<p> Adds clause <var>C</var> to the beginning of a static procedure. 
</p>
</dd>
<dt> <code>assertz_static(:<var>C</var>)</code></dt>
<dd><a name="IDX777"></a>
<a name="IDX778"></a>
<a name="IDX779"></a>
<p> Adds clause <var>C</var> to the end of a static procedure.  Asserting a
static clause for a predicate while choice-points for the predicate are
available has undefined results.
</p>
</dd>
</dl>

<p>The following predicates can be used for dynamic predicates and for
static predicates, if source mode was on when they were compiled:
</p>
<dl compact="compact">
<dt> <code>clause(+<var>H</var>,<var>B</var>) [ISO]</code></dt>
<dd><a name="IDX780"></a>
<a name="IDX781"></a>
<a name="IDX782"></a>
<p>  A clause whose head matches <var>H</var> is searched for in the
program. Its head and body are respectively unified with <var>H</var> and
<var>B</var>. If the clause is a unit clause, <var>B</var> is unified with
<var>true</var>.
</p>
<p>This predicate is applicable to static procedures compiled with
<code>source</code> active, and to all dynamic procedures.
</p>
</dd>
<dt> <code>clause(+<var>H</var>,<var>B</var>,-<var>R</var>)</code></dt>
<dd><a name="IDX783"></a>
<a name="IDX784"></a>
<a name="IDX785"></a>
<p>The same as <code>clause/2</code>, plus <var>R</var> is unified with the
reference to the clause in the database. You can use <code>instance/2</code>
to access the reference's value. Note that you may not use
<code>erase/1</code> on the reference on static procedures.
</p>
</dd>
<dt> <code>nth_clause(+<var>H</var>,<var>I</var>,-<var>R</var>)</code></dt>
<dd><a name="IDX786"></a>
<a name="IDX787"></a>
<a name="IDX788"></a>
<p>Find the <var>I</var>th clause in the predicate defining <var>H</var>, and give
a reference to the clause. Alternatively, if the reference <var>R</var> is
given the head <var>H</var> is unified with a description of the predicate
and <var>I</var> is bound to its position.
</p>
</dd>
</dl>

<p>The following predicates can only be used for dynamic predicates:
</p>
<dl compact="compact">
<dt> <code>retract(+<var>C</var>) [ISO]</code></dt>
<dd><a name="IDX789"></a>
<a name="IDX790"></a>
<a name="IDX791"></a>
<p>Erases the first clause in the program that matches <var>C</var>. This
predicate may also be used for the static predicates that have been
compiled when the source mode was <code>on</code>. For more information on
<code>source/0</code> (see section <a href="#SEC27">Changing the Compiler's Behavior</a>).
</p>
</dd>
<dt> <code>retractall(+<var>G</var>)</code></dt>
<dd><a name="IDX792"></a>
<a name="IDX793"></a>
<a name="IDX794"></a>
<p>Retract all the clauses whose head matches the goal <var>G</var>. Goal
<var>G</var> must be a call to a dynamic predicate.
</p>
</dd>
</dl>

<hr size="6">
<a name="Looking-at-the-Database"></a>
<a name="SEC56"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC55" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC57" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC54" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 6.10.2 Looking at the Data Base </h3>

<dl compact="compact">
<dt> <code>listing</code></dt>
<dd><a name="IDX795"></a>
<a name="IDX796"></a>
<a name="IDX797"></a>
<p>Lists in the current output stream all the clauses for which source code
is available (these include all clauses for dynamic predicates and
clauses for static predicates compiled when source mode was <code>on</code>).
</p>
</dd>
<dt> <code>listing(+<var>P</var>)</code></dt>
<dd><a name="IDX798"></a>
<a name="IDX799"></a>
<a name="IDX800"></a>
<p>Lists predicate <var>P</var> if its source code is available.
</p>
</dd>
<dt> <code>portray_clause(+<var>C</var>)</code></dt>
<dd><a name="IDX801"></a>
<a name="IDX802"></a>
<a name="IDX803"></a>
<p>Write clause <var>C</var> as if written by <code>listing/0</code>.
</p>
</dd>
<dt> <code>portray_clause(+<var>S</var>,+<var>C</var>)</code></dt>
<dd><a name="IDX804"></a>
<a name="IDX805"></a>
<a name="IDX806"></a>
<p>Write clause <var>C</var> on stream <var>S</var> as if written by <code>listing/0</code>.
</p>
</dd>
<dt> <code>current_atom(<var>A</var>)</code></dt>
<dd><a name="IDX807"></a>
<a name="IDX808"></a>
<a name="IDX809"></a>
<p>Checks whether <var>A</var> is a currently defined atom. It is used to find all
currently defined atoms by backtracking.
</p>
</dd>
<dt> <code>current_predicate(<var>F</var>) [ISO]</code></dt>
<dd><a name="IDX810"></a>
<a name="IDX811"></a>
<a name="IDX812"></a>
<p><var>F</var> is the predicate indicator for a currently defined user or
library predicate. <var>F</var> is of the form <var>Na/Ar</var>, where the atom
<var>Na</var> is the name of the predicate, and <var>Ar</var> its arity.
</p>
</dd>
<dt> <code>current_predicate(<var>A</var>,<var>P</var>)</code></dt>
<dd><a name="IDX813"></a>
<a name="IDX814"></a>
<a name="IDX815"></a>
<p>Defines the relation: <var>P</var> is a currently defined predicate whose
name is the atom <var>A</var>.
</p>
</dd>
<dt> <code>system_predicate(<var>A</var>,<var>P</var>)</code></dt>
<dd><a name="IDX816"></a>
<a name="IDX817"></a>
<a name="IDX818"></a>
<p>Defines the relation:  <var>P</var> is a built-in predicate whose name
is the atom <var>A</var>.
</p>
</dd>
<dt> <code>predicate_property(<var>P</var>,<var>Prop</var>)</code></dt>
<dd><a name="IDX819"></a>
<a name="IDX820"></a>
<a name="IDX821"></a>
<p>For the predicates obeying the specification <var>P</var> unify <var>Prop</var>
with a property of <var>P</var>. These properties may be:
</p><dl compact="compact">
<dt> <code>built_in</code></dt>
<dd><p>true for built-in predicates,
</p></dd>
<dt> <code>dynamic</code></dt>
<dd><p>true if the predicate is dynamic
</p></dd>
<dt> <code>static</code></dt>
<dd><p>true if the predicate is static
</p></dd>
<dt> <code>meta_predicate(<var>M</var>)</code></dt>
<dd><p>true if the predicate has a meta_predicate declaration <var>M</var>.
</p></dd>
<dt> <code>multifile</code></dt>
<dd><p>true if the predicate was declared to be multifile
</p></dd>
<dt> <code>imported_from(<var>Mod</var>)</code></dt>
<dd><p>true if the predicate was imported from module <var>Mod</var>.
</p></dd>
<dt> <code>exported</code></dt>
<dd><p>true if the predicate is exported in the current module.
</p></dd>
<dt> <code>public</code></dt>
<dd><p>true if the predicate is public; note that all dynamic predicates are
public.
</p></dd>
<dt> <code>tabled</code></dt>
<dd><p>true if the predicate is tabled; note that only static predicates can
be tabled in YAP.
</p></dd>
<dt> <code>source</code></dt>
<dd><p>true if source for the predicate is available.
</p></dd>
<dt> <code>number_of_clauses(<var>ClauseCount</var>)</code></dt>
<dd><p>Number of clauses in the predicate definition. Always one if external
or built-in.
</p></dd>
</dl>

</dd>
</dl>

<hr size="6">
<a name="Database-References"></a>
<a name="SEC57"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC56" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC58" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC54" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 6.10.3 Using Data Base References </h3>

<p>Data Base references are a fast way of accessing terms. The predicates
<code>erase/1</code> and <code>instance/1</code> also apply to these references and may
sometimes be used instead of <code>retract/1</code> and <code>clause/2</code>.
</p>
<dl compact="compact">
<dt> <code>assert(+<var>C</var>,-<var>R</var>)</code></dt>
<dd><a name="IDX822"></a>
<a name="IDX823"></a>
<a name="IDX824"></a>
<p> The same as <code>assert(C)</code> (see section <a href="#SEC55">Modification of the Data Base</a>) but
unifies <var>R</var> with the  database reference that identifies the new
clause, in a one-to-one way. Note that <code>asserta/2</code> only works for dynamic
predicates. If the predicate is undefined, it will automatically be
declared dynamic.
</p>
</dd>
<dt> <code>asserta(+<var>C</var>,-<var>R</var>)</code></dt>
<dd><a name="IDX825"></a>
<a name="IDX826"></a>
<a name="IDX827"></a>
<p> The same as <code>asserta(C)</code> but unifying <var>R</var> with
the  database reference that identifies the new clause, in a 
one-to-one way. Note that <code>asserta/2</code> only works for dynamic
predicates. If the predicate is undefined, it will automatically be
declared dynamic.
</p>
</dd>
<dt> <code>assertz(+<var>C</var>,-<var>R</var>)</code></dt>
<dd><a name="IDX828"></a>
<a name="IDX829"></a>
<a name="IDX830"></a>
<p> The same as <code>assertz(C)</code> but unifying <var>R</var> with
the  database reference that identifies the new clause, in a 
one-to-one way. Note that <code>asserta/2</code> only works for dynamic
predicates. If the predicate is undefined, it will automatically be
declared dynamic.
</p>
</dd>
<dt> <code>retract(+<var>C</var>,-<var>R</var>)</code></dt>
<dd><a name="IDX831"></a>
<a name="IDX832"></a>
<a name="IDX833"></a>
<p> Erases from the program the clause <var>C</var> whose 
database reference is <var>R</var>. The predicate must be dynamic.
</p>

</dd>
</dl>

<hr size="6">
<a name="Internal-Database"></a>
<a name="SEC58"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC57" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC59" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 6.11 Internal Data Base </h2>
<p>Some programs need global information for, e.g. counting or collecting 
data obtained by backtracking. As a rule, to keep this information, the
internal data base should be used instead of asserting and retracting
clauses (as most novice programmers  do), .
In YAP (as in some other Prolog systems) the internal data base (i.d.b. 
for short) is faster, needs less space and provides a better insulation of 
program and data than using asserted/retracted clauses.
The i.d.b. is implemented as a set of terms, accessed by keys that 
unlikely what happens in (non-Prolog) data bases are not part of the 
term. Under each key a list of terms is kept. References are provided so that 
terms can be identified: each term in the i.d.b. has a unique reference 
(references are also available for clauses of dynamic predicates).
</p>
<dl compact="compact">
<dt> <code>recorda(+<var>K</var>,<var>T</var>,-<var>R</var>)</code></dt>
<dd><a name="IDX834"></a>
<a name="IDX835"></a>
<a name="IDX836"></a>
<p>Makes term <var>T</var> the first record under key <var>K</var> and  unifies <var>R</var>
with its reference.
</p>
</dd>
<dt> <code>recordz(+<var>K</var>,<var>T</var>,-<var>R</var>)</code></dt>
<dd><a name="IDX837"></a>
<a name="IDX838"></a>
<a name="IDX839"></a>
<p>Makes term <var>T</var> the last record under key <var>K</var> and unifies <var>R</var>
with its reference.
</p>
</dd>
<dt> <code>recorda_at(+<var>R0</var>,<var>T</var>,-<var>R</var>)</code></dt>
<dd><a name="IDX840"></a>
<a name="IDX841"></a>
<a name="IDX842"></a>
<p>Makes term <var>T</var> the record preceding record with reference
<var>R0</var>, and unifies <var>R</var> with its reference.
</p>
</dd>
<dt> <code>recordz_at(+<var>R0</var>,<var>T</var>,-<var>R</var>)</code></dt>
<dd><a name="IDX843"></a>
<a name="IDX844"></a>
<a name="IDX845"></a>
<p>Makes term <var>T</var> the record following record with reference
<var>R0</var>, and unifies <var>R</var> with its reference.
</p>
</dd>
<dt> <code>recordaifnot(+<var>K</var>,<var>T</var>,-<var>R</var>)</code></dt>
<dd><a name="IDX846"></a>
<a name="IDX847"></a>
<a name="IDX848"></a>
<p>If a term equal to <var>T</var> up to variable renaming is stored under key
<var>K</var> fail. Otherwise, make term <var>T</var> the first record under key
<var>K</var> and unify <var>R</var> with its reference.
</p>
</dd>
<dt> <code>recordzifnot(+<var>K</var>,<var>T</var>,-<var>R</var>)</code></dt>
<dd><a name="IDX849"></a>
<a name="IDX850"></a>
<a name="IDX851"></a>
<p>If a term equal to <var>T</var> up to variable renaming is stored under key
<var>K</var> fail. Otherwise, make term <var>T</var> the first record under key
<var>K</var> and unify <var>R</var> with its reference.
</p>
</dd>
<dt> <code>recorded(+<var>K</var>,<var>T</var>,<var>R</var>)</code></dt>
<dd><a name="IDX852"></a>
<a name="IDX853"></a>
<a name="IDX854"></a>
<p>Searches in the internal database under the key <var>K</var>, a term that
unifies with <var>T</var> and whose reference matches <var>R</var>. This
built-in may be used in one of two ways:
</p><ul>
<li> <var>K</var> may be given, in this case the built-in will return all
elements of the internal data-base that match the key.
</li><li> <var>R</var> may be given, if so returning the key and element that
match the reference.
</li></ul>

</dd>
<dt> <code>nth_instance(?<var>K</var>,?<var>Index</var>,<var>T</var>,?<var>R</var>)</code></dt>
<dd><a name="IDX855"></a>
<a name="IDX856"></a>
<a name="IDX857"></a>
<p>Fetches the <var>Index</var>nth entry in the internal database under the
key <var>K</var>. Entries are numbered from one. If the key <var>K</var> are the
<var>Index</var> are bound, a reference is unified with <var>R</var>. Otherwise,
the reference <var>R</var> must be given, and the term the system will find
the matching key and index. 
</p>
</dd>
<dt> <code>erase(+<var>R</var>)</code></dt>
<dd><a name="IDX858"></a>
<a name="IDX859"></a>
<a name="IDX860"></a>
<p>The term referred to by <var>R</var> is erased from the internal database. If
reference <var>R</var> does not exist in the database, <code>erase</code> just fails.
</p>
</dd>
<dt> <code>erased(+<var>R</var>)</code></dt>
<dd><a name="IDX861"></a>
<a name="IDX862"></a>
<a name="IDX863"></a>
<p>Succeeds if the object whose database reference is <var>R</var> has been
erased.
</p>
</dd>
<dt> <code>instance(+<var>R</var>,-<var>T</var>)</code></dt>
<dd><a name="IDX864"></a>
<a name="IDX865"></a>
<a name="IDX866"></a>
<p>If <var>R</var> refers to a clause or a recorded term, <var>T</var> is unified
with its most general instance. If <var>R</var> refers to an unit clause
<var>C</var>, then <var>T</var> is unified with <code><var>C</var> :- true</code>. When
<var>R</var> is not a reference to an existing clause or to a recorded term,
this goal fails.
</p>
</dd>
<dt> <code>eraseall(+<var>K</var>)</code></dt>
<dd><a name="IDX867"></a>
<a name="IDX868"></a>
<a name="IDX869"></a>
<p>All terms belonging to the key <code>K</code> are erased from the internal
database. The predicate always succeeds.
</p>
</dd>
<dt> <code>current_key(?<var>A</var>,?<var>K</var>)</code></dt>
<dd><a name="IDX870"></a>
<a name="IDX871"></a>
<a name="IDX872"></a>
<p>Defines the relation: <var>K</var> is a currently defined database key whose
name is the atom <var>A</var>. It can be used to generate all the keys for
the internal data-base.
</p>
</dd>
<dt> <code>key_statistics(+<var>K</var>,-<var>Entries</var>,-<var>Size</var>,-<var>IndexSize</var>)</code></dt>
<dd><a name="IDX873"></a>
<a name="IDX874"></a>
<a name="IDX875"></a>
<p>Returns several statistics for a key <var>K</var>. Currently, it says how
many entries we have for that key, <var>Entries</var>, what is the
total size spent on entries, <var>Size</var>, and what is the amount of
space spent in indices.
</p>
</dd>
<dt> <code>key_statistics(+<var>K</var>,-<var>Entries</var>,-<var>TotalSize</var>)</code></dt>
<dd><a name="IDX876"></a>
<a name="IDX877"></a>
<a name="IDX878"></a>
<p>Returns several statistics for a key <var>K</var>. Currently, it says how
many entries we have for that key, <var>Entries</var>, what is the
total size spent on this key.
</p>
</dd>
<dt> <code>get_value(+<var>A</var>,-<var>V</var>)</code></dt>
<dd><a name="IDX879"></a>
<a name="IDX880"></a>
<a name="IDX881"></a>
<p>In YAP, atoms can be associated with constants. If one such
association exists for atom <var>A</var>, unify the second argument with the
constant. Otherwise, unify <var>V</var> with <code>[]</code>.
</p>
<p>This predicate is YAP specific.
</p>
</dd>
<dt> <code>set_value(+<var>A</var>,+<var>C</var>)</code></dt>
<dd><a name="IDX882"></a>
<a name="IDX883"></a>
<a name="IDX884"></a>
<p>Associate atom <var>A</var> with constant <var>C</var>.
</p>
<p>The <code>set_value</code> and <code>get_value</code> built-ins give a fast alternative to
the internal data-base. This is a simple form of implementing a global
counter.
</p><table><tr><td>&nbsp;</td><td><pre class="example">       read_and_increment_counter(Value) :-
                get_value(counter, Value),
                Value1 is Value+1,
                set_value(counter, Value1).
</pre></td></tr></table>
<p>This predicate is YAP specific.
</p>
</dd>
<dt> <code>recordzifnot(+<var>K</var>,<var>T</var>,-<var>R</var>)</code></dt>
<dd><a name="IDX885"></a>
<a name="IDX886"></a>
<a name="IDX887"></a>
<p>If a variant of <var>T</var> is stored under key <var>K</var> fail. Otherwise, make
term <var>T</var> the last record under key <var>K</var> and unify <var>R</var> with its
reference.
</p>
<p>This predicate is YAP specific.
</p>
</dd>
<dt> <code>recordaifnot(+<var>K</var>,<var>T</var>,-<var>R</var>)</code></dt>
<dd><a name="IDX888"></a>
<a name="IDX889"></a>
<a name="IDX890"></a>
<p>If a variant of <var>T</var> is stored under key <var>K</var> fail. Otherwise, make
term <var>T</var> the first record under key <var>K</var> and unify <var>R</var> with its
reference.
</p>
<p>This predicate is YAP specific.
</p>
</dd>
</dl>

<p>There is a strong analogy between the i.d.b. and the way dynamic 
predicates are stored. In fact, the main i.d.b. predicates might be 
implemented using dynamic predicates:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">recorda(X,T,R) :- asserta(idb(X,T),R).
recordz(X,T,R) :- assertz(idb(X,T),R).
recorded(X,T,R) :- clause(idb(X,T),R).
</pre></td></tr></table>
<p> We can take advantage of this, the other way around, as it is quite 
easy to write a simple Prolog interpreter, using the i.d.b.:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">asserta(G) :- recorda(interpreter,G,_).
assertz(G) :- recordz(interpreter,G,_).
retract(G) :- recorded(interpreter,G,R), !, erase(R).
call(V) :- var(V), !, fail.
call((H :- B)) :- !, recorded(interpreter,(H :- B),_), call(B).
call(G) :- recorded(interpreter,G,_).
</pre></td></tr></table>
<p>In YAP, much attention has been given to the implementation of the 
i.d.b., especially to the problem of accelerating the access to terms kept in 
a large list under the same key. Besides using the key, YAP uses an internal 
lookup function, transparent to the user, to find only the terms that might 
unify. For instance, in a data base containing the terms
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">b
b(a)
c(d)
e(g)
b(X)
e(h)
</pre></td></tr></table>

<p>stored under the key k/1, when executing the query 
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">:- recorded(k(_),c(_),R).
</pre></td></tr></table>

<p><code>recorded</code> would proceed directly to the third term, spending almost the 
time as if <code>a(X)</code> or <code>b(X)</code> was being searched.
 The lookup function uses the functor of the term, and its first three
arguments (when they exist). So, <code>recorded(k(_),e(h),_)</code> would go
directly to the last term, while <code>recorded(k(_),e(_),_)</code> would find
first the fourth term, and then, after backtracking, the last one.
</p>
<p> This mechanism may be useful to implement a sort of hierarchy, where 
the functors of the terms (and eventually the first arguments) work as 
secondary keys.
</p>
<p> In the YAP's i.d.b. an optimized representation is used for 
terms without free variables. This results in a faster retrieval of terms 
and better space usage. Whenever possible, avoid variables in terms in terms stored in the  i.d.b.
</p>

<hr size="6">
<a name="BlackBoard"></a>
<a name="SEC59"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC58" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC60" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 6.12 The Blackboard </h2>

<p>YAP implements a blackboard in the style of the SICStus Prolog
blackboard. The blackboard uses the same underlying mechanism as the
internal data-base but has several important differences:
</p><ul>
<li> It is module aware, in contrast to the internal data-base.
</li><li> Keys can only be atoms or integers, and not compound terms.
</li><li> A single term can be stored per key.
</li><li> An atomic update operation is provided; this is useful for
parallelism.
</li></ul>


<dl compact="compact">
<dt> <code>bb_put(+<var>Key</var>,?<var>Term</var>)</code></dt>
<dd><a name="IDX891"></a>
<a name="IDX892"></a>
<a name="IDX893"></a>
<p>Store term table <var>Term</var> in the blackboard under key <var>Key</var>. If a
previous term was stored under key <var>Key</var> it is simply forgotten.
</p>
</dd>
<dt> <code>bb_get(+<var>Key</var>,?<var>Term</var>)</code></dt>
<dd><a name="IDX894"></a>
<a name="IDX895"></a>
<a name="IDX896"></a>
<p>Unify <var>Term</var> with a term stored in the blackboard under key
<var>Key</var>, or fail silently if no such term exists.
</p>
</dd>
<dt> <code>bb_delete(+<var>Key</var>,?<var>Term</var>)</code></dt>
<dd><a name="IDX897"></a>
<a name="IDX898"></a>
<a name="IDX899"></a>
<p>Delete any term stored in the blackboard under key <var>Key</var> and unify
it with <var>Term</var>. Fail silently if no such term exists.
</p>
</dd>
<dt> <code>bb_update(+<var>Key</var>,?<var>Term</var>,?<var>New</var>)</code></dt>
<dd><a name="IDX900"></a>
<a name="IDX901"></a>
<a name="IDX902"></a>
<p>Atomically  unify a term stored in the blackboard under key <var>Key</var>
with <var>Term</var>, and if the unification succeeds replace it by
<var>New</var>. Fail silently if no such term exists or if unification fails.
</p>
</dd>
</dl>

<hr size="6">
<a name="Sets"></a>
<a name="SEC60"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC59" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC61" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 6.13 Collecting Solutions to a Goal </h2>

<p>When there are several solutions to a goal, if the user wants to collect all
the solutions he may be led to use the data base, because backtracking will
forget previous solutions.
</p>
<p>YAP allows the programmer to choose from several system
predicates instead of writing his own routines.  <code>findall/3</code> gives you
the fastest, but crudest solution. The other built-in predicates
post-process the result of the query in several different ways:
</p>
<dl compact="compact">
<dt> <code>findall(<var>T</var>,+<var>G</var>,-<var>L</var>) [ISO]</code></dt>
<dd><a name="IDX903"></a>
<a name="IDX904"></a>
<a name="IDX905"></a>
<p>Unifies <var>L</var> with a list that contains all the instantiations of the
term <var>T</var> satisfying the goal <var>G</var>.
</p>
<p>With the following program:
</p><table><tr><td>&nbsp;</td><td><pre class="example">a(2,1).
a(1,1).
a(2,2).
</pre></td></tr></table>
<p>the answer to the query
</p><table><tr><td>&nbsp;</td><td><pre class="example">findall(X,a(X,Y),L).
</pre></td></tr></table>
<p>would be:
</p><table><tr><td>&nbsp;</td><td><pre class="example">X = _32
Y = _33
L = [2,1,2];
no
</pre></td></tr></table>

</dd>
<dt> <code>findall(<var>T</var>,+<var>G</var>,+<var>L</var>,-<var>L0</var>)</code></dt>
<dd><a name="IDX906"></a>
<a name="IDX907"></a>
<a name="IDX908"></a>
<p>Similar to <code>findall/3</code>, but appends all answers to list <var>L0</var>.
</p>
</dd>
<dt> <code>all(<var>T</var>,+<var>G</var>,-<var>L</var>)</code></dt>
<dd><a name="IDX909"></a>
<a name="IDX910"></a>
<a name="IDX911"></a>
<p>Similar to <code>findall(<var>T</var>,<var>G</var>,<var>L</var>)</code> but eliminate
repeated elements. Thus, assuming the same clauses as in the above
example, the reply to the query
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">all(X,a(X,Y),L).
</pre></td></tr></table>
<p>would be:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">X = _32
Y = _33
L = [2,1];
no
</pre></td></tr></table>

<p>Note that <code>all/3</code> will fail if no answers are found.
</p>
</dd>
<dt> <code>bagof(<var>T</var>,+<var>G</var>,-<var>L</var>) [ISO]</code></dt>
<dd><a name="IDX912"></a>
<a name="IDX913"></a>
<a name="IDX914"></a>
<p>For each set of possible instances of the free variables occurring in
<var>G</var> but not in <var>T</var>, generates the list <var>L</var> of the instances of
<var>T</var> satisfying <var>G</var>. Again, assuming the same clauses as in the
examples above, the reply to the query
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">bagof(X,a(X,Y),L).

would be:
X = _32
Y = 1
L = [2,1];
X = _32
Y = 2
L = [2];
no
</pre></td></tr></table>

</dd>
<dt> <code>setof(<var>X</var>,+<var>P</var>,-<var>B</var>) [ISO]</code></dt>
<dd><a name="IDX915"></a>
<a name="IDX916"></a>
<a name="IDX917"></a>
<p>Similar to <code>bagof(<var>T</var>,<var>G</var>,<var>L</var>)</code> but sorting list
<var>L</var> and keeping only one copy of each element.  Again, assuming the
same clauses as in the examples above, the reply to the query
</p><table><tr><td>&nbsp;</td><td><pre class="example">setof(X,a(X,Y),L).
</pre></td></tr></table>
<p>would be:
</p><table><tr><td>&nbsp;</td><td><pre class="example">X = _32
Y = 1
L = [1,2];
X = _32
Y = 2
L = [2];
no
</pre></td></tr></table>

</dd>
</dl>

<hr size="6">
<a name="Grammars"></a>
<a name="SEC61"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC60" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC62" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 6.14 Grammar Rules </h2>

<p>Grammar rules in Prolog are both a convenient way to express definite
clause grammars and  an extension of the well known context-free grammars.
</p>
<p>A grammar rule is of the form:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><i> head --&gt; body </i>
</pre></td></tr></table>
<p>where both <i>head</i> and <i>body</i> are sequences of one or more items
linked by the standard conjunction operator ','.
</p>
<p><em>Items can be:</em>
</p>
<ul>
<li>
a <em>non-terminal</em> symbol may be either a complex term or an atom.
</li><li>
a <em>terminal</em> symbol may be any Prolog symbol. Terminals are
written as Prolog lists.
</li><li>
an <em>empty body</em> is written as the empty list '[ ]'.
</li><li>
<em>extra conditions</em> may be inserted as Prolog procedure calls, by being
written inside curly brackets '{' and '}'.
</li><li>
the left side of a rule consists of a nonterminal and an optional list
of terminals.
</li><li>
alternatives may be stated in the right-hand side of the rule by using
the disjunction operator ';'.
</li><li>
the <em>cut</em> and <em>conditional</em> symbol ('-&gt;') may be inserted in the 
right hand side of a grammar rule
</li></ul>

<p>Grammar related built-in predicates:
</p>
<dl compact="compact">
<dt> <code>expand_term(<var>T</var>,-<var>X</var>)</code></dt>
<dd><a name="IDX918"></a>
<a name="IDX919"></a>
<a name="IDX920"></a>
<a name="IDX921"></a>
<a name="IDX922"></a>
<a name="IDX923"></a>
<p>This predicate is used by YAP for preprocessing each top level
term read when consulting a file and before asserting or executing it.
It rewrites a term <var>T</var> to a term <var>X</var> according to the following
rules: first try to use the user defined predicate
<code>term_expansion/2</code>. If this call fails then the translating process
for DCG rules is applied, together with the arithmetic optimizer
whenever the compilation of arithmetic expressions is in progress.
</p>
</dd>
<dt> <code>user:goal_expansion(+<var>G</var>,+<var>M</var>,-<var>NG</var>)</code></dt>
<dd><a name="IDX924"></a>
<a name="IDX925"></a>
<a name="IDX926"></a>
<p>YAP now supports <code>goal_expansion/3</code>. This is an user-defined
procedure that is called after term expansion when compiling or
asserting goals for each sub-goal in a clause. The first argument is
bound to the goal and the second to the module under which the goal
<var>G</var> will execute. If <code>goal_expansion/3</code> succeeds the new
sub-goal <var>NG</var> will replace <var>G</var> and will be processed in the same
way. If <code>goal_expansion/3</code> fails the system will use the default
rules.
</p>
</dd>
<dt> <code>phrase(+<var>P</var>,<var>L</var>,<var>R</var>)</code></dt>
<dd><a name="IDX927"></a>
<a name="IDX928"></a>
<a name="IDX929"></a>
<p>This predicate succeeds when the difference list <code><var>L</var>-<var>R</var></code>
is a phrase of type <var>P</var>.
</p>
</dd>
<dt> <code>phrase(+<var>P</var>,<var>L</var>)</code></dt>
<dd><a name="IDX930"></a>
<a name="IDX931"></a>
<a name="IDX932"></a>
<p>This predicate succeeds when <var>L</var> is a phrase of type <var>P</var>. The
same as <code>phrase(P,L,[])</code>.
</p>
<p>Both this predicate and the previous are used as a convenient way to
start execution of grammar rules.
</p>
</dd>
<dt> <code>'C'(<var>S1</var>,<var>T</var>,<var>S2</var>)</code></dt>
<dd><a name="IDX933"></a>
<a name="IDX934"></a>
<a name="IDX935"></a>
<p>This predicate is used by the grammar rules compiler and is defined as
<code>'C'([H|T],H,T)</code>.
</p>
</dd>
</dl>

<hr size="6">
<a name="OS"></a>
<a name="SEC62"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC61" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC63" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 6.15 Access to Operating System Functionality </h2>

<p>The following built-in predicates allow access to underlying
Operating System functionality: 
</p>
<dl compact="compact">
<dt> <code>cd(+<var>D</var>)</code></dt>
<dd><a name="IDX936"></a>
<a name="IDX937"></a>
<a name="IDX938"></a>
<p>Changes the current directory (on UNIX environments).
</p>
</dd>
<dt> <code>environ(+<var>E</var>,-<var>S</var>)</code></dt>
<dd><a name="IDX939"></a>
<a name="IDX940"></a>
<a name="IDX941"></a>
<p>    Given an environment variable <var>E</var> this predicate unifies the second argument <var>S</var> with its value.
</p>
</dd>
<dt> <code>getcwd(-<var>D</var>)</code></dt>
<dd><a name="IDX942"></a>
<a name="IDX943"></a>
<a name="IDX944"></a>
<p>Unify the current directory, represented as an atom, with the argument
<var>D</var>.
</p>
</dd>
<dt> <code>putenv(+<var>E</var>,+<var>S</var>)</code></dt>
<dd><a name="IDX945"></a>
<a name="IDX946"></a>
<a name="IDX947"></a>
<p>Set environment variable <var>E</var> to the value <var>S</var>. If the
environment variable <var>E</var> does not exist, create a new one. Both the
environment variable and the value must be atoms.
</p>
</dd>
<dt> <code>rename(+<var>F</var>,+<var>G</var>)</code></dt>
<dd><a name="IDX948"></a>
<a name="IDX949"></a>
<a name="IDX950"></a>
<p>Renames file <var>F</var> to <var>G</var>.
</p>
</dd>
<dt> <code>sh</code></dt>
<dd><a name="IDX951"></a>
<a name="IDX952"></a>
<a name="IDX953"></a>
<p>Creates a new shell interaction.
</p>
</dd>
<dt> <code>system(+<var>S</var>)</code></dt>
<dd><a name="IDX954"></a>
<a name="IDX955"></a>
<a name="IDX956"></a>
<p>Passes command <var>S</var> to the Bourne shell (on UNIX environments) or the
current command interpreter in WIN32 environments.
</p>
</dd>
<dt> <code>unix(+<var>S</var>)</code></dt>
<dd><a name="IDX957"></a>
<a name="IDX958"></a>
<a name="IDX959"></a>
<p>Access to Unix-like functionality:
</p><dl compact="compact">
<dt> <code>argv/1</code></dt>
<dd><p>Return a list of arguments to the program. These are the arguments that
follow a <code>--</code>, as in the usual Unix convention.
</p></dd>
<dt> <code>cd/0</code></dt>
<dd><p>Change to home directory.
</p></dd>
<dt> <code>cd/1</code></dt>
<dd><p>Change to given directory. Acceptable directory names are strings or
atoms.
</p></dd>
<dt> <code>environ/2</code></dt>
<dd><p>If the first argument is an atom, unify the second argument with the
value of the corresponding environment variable.
</p></dd>
<dt> <code>getcwd/1</code></dt>
<dd><p>Unify the first argument with an atom representing the current directory.
</p></dd>
<dt> <code>putenv/2</code></dt>
<dd><p>Set environment variable <var>E</var> to the value <var>S</var>. If the
environment variable <var>E</var> does not exist, create a new one. Both the
environment variable and the value must be atoms.
</p></dd>
<dt> <code>shell/1</code></dt>
<dd><p>Execute command under current shell. Acceptable commands are strings or
atoms.
</p></dd>
<dt> <code>system/1</code></dt>
<dd><p>Execute command with <code>/bin/sh</code>. Acceptable commands are strings or
atoms.
</p></dd>
<dt> <code>shell/0</code></dt>
<dd><p>Execute a new shell.
</p></dd>
</dl>

</dd>
<dt> <code>alarm(+<var>Seconds</var>,+<var>Callable</var>,+<var>OldAlarm</var>)</code></dt>
<dd><a name="IDX960"></a>
<a name="IDX961"></a>
<a name="IDX962"></a>
<p>Arranges for YAP to be interrupted in <var>Seconds</var> seconds, or in
<var>Seconds.MicroSeconds</var>. When interrupted, YAP will execute
<var>Callable</var> and then return to the previous execution. If
<var>Seconds</var> is <code>0</code>, no new alarm is scheduled. In any event,
any previously set alarm is canceled.
</p>
<p>The variable <var>OldAlarm</var> unifies with the number of seconds remaining
until any previously scheduled alarm was due to be delivered, or with
<code>0</code> if there was no previously scheduled alarm.
</p>
<p>Note that execution of <var>Callable</var> will wait if YAP is
executing built-in predicates, such as Input/Output operations.
</p>
<p>The next example shows how <var>alarm/3</var> can be used to implement a
simple clock:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">loop :- loop.

ticker :- write('.'), flush_output,
          get_value(tick, yes),
          alarm(1,ticker,_).

:- set_value(tick, yes), alarm(1,ticker,_), loop.
</pre></td></tr></table>

<p>The clock, <code>ticker</code>, writes a dot and then checks the flag
<code>tick</code> to see whether it can continue ticking. If so, it calls
itself again. Note that there is no guarantee that the each dot
corresponds a second: for instance, if the YAP is waiting for
user input, <code>ticker</code> will wait until the user types the entry in.
</p>
<p>The next example shows how <code>alarm/3</code> can be used to guarantee that
a certain procedure does not take longer than a certain amount of time:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">loop :- loop.

:-   catch((alarm(10, throw(ball), _),loop),
        ball,
        format('Quota exhausted.~n',[])).
</pre></td></tr></table>
<p>In this case after <code>10</code> seconds our <code>loop</code> is interrupted,
<code>ball</code> is thrown,  and the handler writes <code>Quota exhausted</code>.
Execution then continues from the handler.
</p>
<p>Note that in this case <code>loop/0</code> always executes until the alarm is
sent. Often, the code you are executing succeeds or fails before the
alarm is actually delivered. In this case, you probably want to disable
the alarm when you leave the procedure. The next procedure does exactly so:
</p><table><tr><td>&nbsp;</td><td><pre class="example">once_with_alarm(Time,Goal,DoOnAlarm) :-
   catch(execute_once_with_alarm(Time, Goal), alarm, DoOnAlarm).

execute_once_with_alarm(Time, Goal) :-
        alarm(Time, alarm, _),
        ( call(Goal) -&gt; alarm(0, alarm, _) ; alarm(0, alarm, _), fail).
</pre></td></tr></table>

<p>The procedure has three arguments: the <var>Time</var> before the alarm is
sent; the <var>Goal</var> to execute; and the goal <var>DoOnAlarm</var> to execute
if the alarm is sent. It uses <code>catch/3</code> to handle the case the
<code>alarm</code> is sent. Then it starts the alarm, calls the goal
<var>Goal</var>, and disables the alarm on success or failure.
</p>
</dd>
<dt> <code>on_signal(+<var>Signal</var>,?<var>OldAction</var>,+<var>Callable</var>)</code></dt>
<dd><a name="IDX963"></a>
<a name="IDX964"></a>
<a name="IDX965"></a>
<p>Set the interrupt handler for soft interrupt <var>Signal</var> to be
<var>Callable</var>. <var>OldAction</var> is unified with the previous handler.
</p>
<p>Only a subset of the software interrupts (signals) can have their
handlers manipulated through <code>on_signal/3</code>.
Their POSIX names, YAP names and default behavior is given below.
The &quot;YAP name&quot; of the signal is the atom that is associated with
each signal, and should be used as the first argument to
<code>on_signal/3</code>. It is chosen so that it matches the signal's POSIX
name.
</p>
<p><code>on_signal/3</code> succeeds, unless when called with an invalid
signal name or one that is not supported on this platform. No checks
are made on the handler provided by the user.
</p>
<dl compact="compact">
<dt> <code>sig_up (Hangup)</code></dt>
<dd><p>  SIGHUP in Unix/Linux; Reconsult the initialization files
  ~/.yaprc, ~/.prologrc and ~/prolog.ini.
</p></dd>
<dt> <code>sig_usr1 and sig_usr2 (User signals)</code></dt>
<dd><p>  SIGUSR1 and SIGUSR2 in Unix/Linux; Print a message and halt.
</p></dd>
</dl>

<p>A special case is made, where if <var>Callable</var> is bound to
<code>default</code>, then the default handler is restored for that signal.
</p>
<p>A call in the form <code>on_signal(<var>S</var>,<var>H</var>,<var>H</var>)</code> can be used
to retrieve a signal's current handler without changing it.
</p>
<p>It must be noted that although a signal can be received at all times,
the handler is not executed while YAP is waiting for a query at the
prompt. The signal will be, however, registered and dealt with as soon
as the user makes a query.
</p>
<p>Please also note, that neither POSIX Operating Systems nor YAP guarantee
that the order of delivery and handling is going to correspond with the
order of dispatch.
</p>
</dd>
</dl>

<hr size="6">
<a name="Term-Modification"></a>
<a name="SEC63"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC62" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC64" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 6.16 Term Modification </h2>

<p>It is sometimes useful to change the value of instantiated
variables. Although, this is against the spirit of logic programming, it
is sometimes useful. As in other Prolog systems, YAP has
several primitives that allow updating Prolog terms. Note that these
primitives are also backtrackable.
</p>
<p>The <code>setarg/3</code> primitive allows updating any argument of a Prolog
compound terms. The <code>mutable</code> family of predicates provides
<em>mutable variables</em>. They should be used instead of <code>setarg/3</code>,
as they allow the encapsulation of accesses to updatable
variables. Their implementation can also be more efficient for long
deterministic computations.
</p>
<dl compact="compact">
<dt> <code>setarg(+<var>I</var>,+<var>S</var>,?<var>T</var>)</code></dt>
<dd><a name="IDX966"></a>
<a name="IDX967"></a>
<a name="IDX968"></a>
<p>Set the value of the <var>I</var>th argument of term <var>S</var> to term <var>T</var>. 
</p>
<a name="IDX969"></a>
</dd>
<dt> <code>create_mutable(+<var>D</var>,-<var>M</var>)</code></dt>
<dd><a name="IDX970"></a>
<a name="IDX971"></a>
<a name="IDX972"></a>
<p>Create new mutable variable <var>M</var> with initial value <var>D</var>.
</p>
</dd>
<dt> <code>get_mutable(?<var>D</var>,+<var>M</var>)</code></dt>
<dd><a name="IDX973"></a>
<a name="IDX974"></a>
<a name="IDX975"></a>
<p>Unify the current value of mutable term <var>M</var> with term <var>D</var>.
</p>
</dd>
<dt> <code>is_mutable(?<var>D</var>)</code></dt>
<dd><a name="IDX976"></a>
<a name="IDX977"></a>
<a name="IDX978"></a>
<p>Holds if <var>D</var> is a mutable term.
</p>
</dd>
<dt> <code>get_mutable(?<var>D</var>,+<var>M</var>)</code></dt>
<dd><a name="IDX979"></a>
<a name="IDX980"></a>
<a name="IDX981"></a>
<p>Unify the current value of mutable term <var>M</var> with term <var>D</var>.
</p>
</dd>
<dt> <code>update_mutable(+<var>D</var>,+<var>M</var>)</code></dt>
<dd><a name="IDX982"></a>
<a name="IDX983"></a>
<a name="IDX984"></a>
<p>Set the current value of mutable term <var>M</var> to term <var>D</var>.
</p></dd>
</dl>

<hr size="6">
<a name="Global-Variables"></a>
<a name="SEC64"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC63" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC65" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 6.17 Global Variables </h2>


<p>Global variables are associations between names (atoms) and
terms. They differ in various ways from storing information using
<code>assert/1</code> or <code>recorda/3</code>.
</p>
<ul>
<li> The value lives on the Prolog (global) stack. This implies that
lookup time is independent from the size of the term. This is
particularly interesting for large data structures such as parsed XML
documents or the CHR global constraint store. 

</li><li> They support both global assignment using <code>nb_setval/2</code> and
backtrackable assignment using <code>b_setval/2</code>.

</li><li> Only one value (which can be an arbitrary complex Prolog term)
can be associated to a variable at a time. 

</li><li> Their value cannot be shared among threads. Each thread has its own
namespace and values for global variables.
</li></ul>

<p>Currently global variables are scoped globally. We may consider module
scoping in future versions.  Both <code>b_setval/2</code> and
<code>nb_setval/2</code> implicitly create a variable if the referenced name
does not already refer to a variable.
</p>
<p>Global variables may be initialised from directives to make them
available during the program lifetime, but some considerations are
necessary for saved-states and threads. Saved-states to not store
global variables, which implies they have to be declared with
<code>initialization/1</code> to recreate them after loading the saved
state. Each thread has its own set of global variables, starting with
an empty set. Using <code>thread_initialization/1</code> to define a global
variable it will be defined, restored after reloading a saved state
and created in all threads that are created after the
registration. Finally, global variables can be initialised using the
exception hook called <code>exception/3</code>. The latter technique is used
by CHR.
</p>
<dl compact="compact">
<dt> <code>b_setval(+<var>Name</var>, +<var>Value</var>)</code> </dt>
<dd><a name="IDX985"></a>
<a name="IDX986"></a>
<a name="IDX987"></a>
<p>Associate the term <var>Value</var> with the atom <var>Name</var> or replaces
the currently associated value with <var>Value</var>. If <var>Name</var> does
not refer to an existing global variable a variable with initial value
[] is created (the empty list). On backtracking the assignment is
reversed. 
</p>
</dd>
<dt> <code>b_getval(+<var>Name</var>, -<var>Value</var>)</code> </dt>
<dd><a name="IDX988"></a>
<a name="IDX989"></a>
<a name="IDX990"></a>
<p>Get the value associated with the global variable <var>Name</var> and unify
it with <var>Value</var>. Note that this unification may further
instantiate the value of the global variable. If this is undesirable
the normal precautions (double negation or <var>copy_term/2</var>) must be
taken. The <var>b_getval/2</var> predicate generates errors if <var>Name</var> is not
an atom or the requested variable does not exist. 
</p>
</dd>
<dt> <code>nb_setval(+<var>Name</var>, +<var>Value</var>)</code> </dt>
<dd><a name="IDX991"></a>
<a name="IDX992"></a>
<a name="IDX993"></a>
<p>Associates a copy of <var>Value</var> created with <var>duplicate_term/2</var> with
the atom <var>Name</var>. Note that this can be used to set an initial
value other than <code>[]</code> prior to backtrackable assignment.
</p>
</dd>
<dt> <code>nb_getval(+<var>Name</var>, -<var>Value</var>)</code> </dt>
<dd><a name="IDX994"></a>
<a name="IDX995"></a>
<a name="IDX996"></a>
<p>The <code>nb_getval/2</code> predicate is a synonym for <code>b_getval/2</code>,
introduced for compatibility and symmetry. As most scenarios will use
a particular global variable either using non-backtracable or
backtrackable assignment, using <code>nb_getval/2</code> can be used to
document that the variable is used non-backtracable.
</p>
</dd>
<dt> <code>nb_linkval(+<var>Name</var>, +<var>Value</var>)</code> </dt>
<dd><a name="IDX997"></a>
<a name="IDX998"></a>
<a name="IDX999"></a>
<p>Associates the term <var>Value</var> with the atom <var>Name</var> without
copying it. This is a fast special-purpose variation of <code>nb_setval/2</code>
intended for expert users only because the semantics on backtracking
to a point before creating the link are poorly defined for compound
terms. The principal term is always left untouched, but backtracking
behaviour on arguments is undone if the original assignment was
trailed and left alone otherwise, which implies that the history that
created the term affects the behaviour on backtracking. Please
consider the following example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">demo_nb_linkval :-
        T = nice(N),
        (   N = world,
            nb_linkval(myvar, T),
            fail
        ;   nb_getval(myvar, V),
            writeln(V)
        ).
</pre></td></tr></table>

</dd>
<dt> <code>nb_set_shared_val(+<var>Name</var>, +<var>Value</var>)</code> </dt>
<dd><a name="IDX1000"></a>
<a name="IDX1001"></a>
<a name="IDX1002"></a>
<p>Associates the term <var>Value</var> with the atom <var>Name</var>, but sharing
non-backtrackable terms. This may be useful if you want to rewrite a
global variable so that the new copy will survive backtracking, but
you want to share structure with the previous term.
</p>
<p>The next example shows the differences between the three built-ins:
</p><table><tr><td>&nbsp;</td><td><pre class="example">?- nb_setval(a,a(_)),nb_getval(a,A),nb_setval(b,t(C,A)),nb_getval(b,B).
A = a(_A),
B = t(_B,a(_C)) ? 

?- nb_setval(a,a(_)),nb_getval(a,A),nb_set_shared_val(b,t(C,A)),nb_getval(b,B).

?- nb_setval(a,a(_)),nb_getval(a,A),nb_linkval(b,t(C,A)),nb_getval(b,B).
A = a(_A),
B = t(C,a(_A)) ?
</pre></td></tr></table>

</dd>
<dt> <code>nb_setarg(+{Arg], +<var>Term</var>, +<var>Value</var>)</code></dt>
<dd><a name="IDX1003"></a>
<a name="IDX1004"></a>
<a name="IDX1005"></a>

<p>Assigns the <var>Arg</var>-th argument of the compound term <var>Term</var> with
the given <var>Value</var> as setarg/3, but on backtracking the assignment
is not reversed. If <var>Term</var> is not atomic, it is duplicated using
duplicate_term/2. This predicate uses the same technique as
<code>nb_setval/2</code>. We therefore refer to the description of
<code>nb_setval/2</code> for details on non-backtrackable assignment of
terms. This predicate is compatible to GNU-Prolog
<code>setarg(A,T,V,false)</code>, removing the type-restriction on
<var>Value</var>. See also <code>nb_linkarg/3</code>. Below is an example for
counting the number of solutions of a goal. Note that this
implementation is thread-safe, reentrant and capable of handling
exceptions. Realising these features with a traditional implementation
based on assert/retract or flag/3 is much more complicated.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">    succeeds_n_times(Goal, Times) :-
            Counter = counter(0),
            (   Goal,
                arg(1, Counter, N0),
                N is N0 + 1,
                nb_setarg(1, Counter, N),
                fail
            ;   arg(1, Counter, Times)
            ).
</pre></td></tr></table>

</dd>
<dt> <code>nb_set_shared_arg(+<var>Arg</var>, +<var>Term</var>, +<var>Value</var>)</code> </dt>
<dd><a name="IDX1006"></a>
<a name="IDX1007"></a>
<a name="IDX1008"></a>

<p>As <code>nb_setarg/3</code>, but like <code>nb_linkval/2</code> it does not
duplicate the global sub-terms in <var>Value</var>. Use with extreme care
and consult the documentation of <code>nb_linkval/2</code> before use.
</p>
</dd>
<dt> <code>nb_linkarg(+<var>Arg</var>, +<var>Term</var>, +<var>Value</var>)</code> </dt>
<dd><a name="IDX1009"></a>
<a name="IDX1010"></a>
<a name="IDX1011"></a>

<p>As <code>nb_setarg/3</code>, but like <code>nb_linkval/2</code> it does not
duplicate <var>Value</var>. Use with extreme care and consult the
documentation of <code>nb_linkval/2</code> before use.
</p>

</dd>
<dt> <code>nb_current(?<var>Name</var>, ?<var>Value</var>)</code> </dt>
<dd><a name="IDX1012"></a>
<a name="IDX1013"></a>
<a name="IDX1014"></a>
<p>Enumerate all defined variables with their value. The order of
enumeration is undefined. 
</p>
</dd>
<dt> <code>nb_delete(+<var>Name</var>)</code> </dt>
<dd><a name="IDX1015"></a>
<a name="IDX1016"></a>
<a name="IDX1017"></a>
<p>Delete the named global variable. 
</p></dd>
</dl>

<p>Global variables have been introduced by various Prolog
implementations recently. We follow the implementation of them in
SWI-Prolog, itself based on hProlog by Bart Demoen.
</p>
<p>GNU-Prolog provides a rich set of global variables, including
arrays. Arrays can be implemented easily in YAP and SWI-Prolog using
<code>functor/3</code> and <code>setarg/3</code> due to the unrestricted arity of
compound terms.
</p>

<hr size="6">
<a name="Profiling"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC64" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC66" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<p>&gt;&gt;&gt;&gt;&gt;&gt;&gt; 1.222
</p><a name="SEC65"></a>
<h2 class="section"> 6.18 Profiling Prolog Programs </h2>


<p>YAP includes two profilers. The count profiler keeps information on the
number of times a predicate was called. This information can be used to
detect what are the most commonly called predicates in the program.  The
count profiler can be compiled by setting YAP's flag <code>profiling</code>
to <code>on</code>. The time-profiler is a <code>gprof</code> profiler, and counts
how many ticks are being spent on specific predicates, or on other
system functions such as internal data-base accesses or garbage collects.
</p>
<p>The YAP profiling sub-system is currently under
development. Functionality for this sub-system will increase with newer
implementation.
</p>
<hr size="6">
<a name="SEC66"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC65" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC67" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC65" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 6.18.1 The Count Profiler </h3>

<p><strong>Notes:</strong>
</p>
<p>The count profiler works by incrementing counters at procedure entry or
backtracking. It provides exact information:
</p>
<ul>
<li> Profiling works for both static and dynamic predicates.
</li><li> Currently only information on entries and retries to a predicate
are maintained. This may change in the future.
</li><li> As an example, the following user-level program gives a list of
the most often called procedures in a program. The procedure
<code>list_profile</code> shows all procedures, irrespective of module, and
the procedure <code>list_profile/1</code> shows the procedures being used in
a specific module.
<table><tr><td>&nbsp;</td><td><pre class="example">list_profile :-
        % get number of calls for each profiled procedure
        setof(D-[M:P|D1],(current_module(M),profile_data(M:P,calls,D),profile_data(M:P,retries,D1)),LP),
        % output so that the most often called
        % predicates will come last:
        write_profile_data(LP).

list_profile(Module) :-
        % get number of calls for each profiled procedure
        setof(D-[Module:P|D1],(profile_data(Module:P,calls,D),profile_data(Module:P,retries,D1)),LP),
        % output so that the most often called
        % predicates will come last:
        write_profile_data(LP).

write_profile_data([]).
write_profile_data([D-[M:P|R]|SLP]) :-
        % swap the two calls if you want the most often
        %  called predicates first.
        format('~a:~w: ~32+~t~d~12+~t~d~12+~n', [M,P,D,R]),
        write_profile_data(SLP).
</pre></td></tr></table>
</li></ul>

<p>These are  the current predicates to access and clear profiling data:
</p>
<dl compact="compact">
<dt> <code>profile_data(?<var>Na/Ar</var>, ?<var>Parameter</var>, -<var>Data</var>)</code></dt>
<dd><a name="IDX1018"></a>
<a name="IDX1019"></a>
<a name="IDX1020"></a>
<p>Give current profile data on <var>Parameter</var> for a predicate described
by the predicate indicator <var>Na/Ar</var>. If any of <var>Na/Ar</var> or
<var>Parameter</var> are unbound, backtrack through all profiled predicates
or stored parameters. Current parameters are:
</p>
<dl compact="compact">
<dt> <code>calls</code></dt>
<dd><p>Number of times a procedure was called.
</p>
</dd>
<dt> <code>retries</code></dt>
<dd><p> Number of times a call to the procedure was backtracked to and retried.
</p></dd>
</dl>

</dd>
<dt> <code>profile_reset</code></dt>
<dd><a name="IDX1021"></a>
<a name="IDX1022"></a>
<a name="IDX1023"></a>
<p>Reset all profiling information.
</p>
</dd>
</dl>

<hr size="6">
<a name="SEC67"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC66" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC68" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC65" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 6.18.2 Tick Profiler </h3>
<p>The tick profiler works by interrupting the Prolog code every so often
and checking at each point the code was. The profiler must be able to
retrace the state of the abstract machine at every moment. The major
advantage of this approach is that it gives the actual amount of time
being spent per procedure, or whether garbage collection dominates
execution time. The major drawback is that tracking down the state of
the abstract machine may take significant time, and in the worst case
may slow down the whole execution.
</p>
<p>The following procedures are available:
</p>
<dl compact="compact">
<dt> <code>profinit</code></dt>
<dd><a name="IDX1024"></a>
<a name="IDX1025"></a>
<a name="IDX1026"></a>
<p>Initialise the data-structures for the profiler. Unnecessary for
dynamic profiler.
</p>
</dd>
<dt> <code>profon</code></dt>
<dd><a name="IDX1027"></a>
<a name="IDX1028"></a>
<a name="IDX1029"></a>
<p>Start profiling.
</p>
</dd>
<dt> <code>profoff</code></dt>
<dd><a name="IDX1030"></a>
<a name="IDX1031"></a>
<a name="IDX1032"></a>
<p>Stop profiling.
</p>
</dd>
<dt> <code>showprofres</code></dt>
<dd><a name="IDX1033"></a>
<a name="IDX1034"></a>
<a name="IDX1035"></a>
<p>Show profiling info.
</p>
</dd>
<dt> <code>showprofres(<var>N</var>)</code></dt>
<dd><a name="IDX1036"></a>
<a name="IDX1037"></a>
<a name="IDX1038"></a>
<p>Show profiling info for the top-most <var>N</var> predicates.
</p>
</dd>
</dl>


<hr size="6">
<a name="Call-Counting"></a>
<a name="SEC68"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC67" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 6.19 Counting Calls </h2>

<p>Predicates compiled with YAP's flag <code>call_counting</code> set to
<code>on</code> update counters on the numbers of calls and of
retries. Counters are actually decreasing counters, so that they can be
used as timers.  Three counters are available:
</p><ul>
<li> <code>calls</code>: number of predicate calls since execution started or since
system was reset; 
</li><li> <code>retries</code>: number of retries for predicates called since
execution started or since counters were reset;
</li><li> <code>calls_and_retries</code>: count both on predicate calls and
retries.
</li></ul>
<p>These counters can be used to find out how many calls a certain
goal takes to execute. They can also be used as timers.
</p>
<p>The code for the call counters piggybacks on the profiling
code. Therefore, activating the call counters also activates the profiling
counters.
</p>
<p>These are  the predicates that access and manipulate the call counters:
</p>
<dl compact="compact">
<dt> <code>call_count_data(-<var>Calls</var>, -<var>Retries</var>, -<var>CallsAndRetries</var>)</code></dt>
<dd><a name="IDX1039"></a>
<a name="IDX1040"></a>
<a name="IDX1041"></a>
<p>Give current call count data. The first argument gives the current value
for the <var>Calls</var> counter, next the <var>Retries</var> counter, and last
the <var>CallsAndRetries</var> counter.
</p>
</dd>
<dt> <code>call_count_reset</code></dt>
<dd><a name="IDX1042"></a>
<a name="IDX1043"></a>
<a name="IDX1044"></a>
<p>Reset call count counters. All timers are also reset.
</p>
</dd>
<dt> <code>call_count(?<var>CallsMax</var>, ?<var>RetriesMax</var>, ?<var>CallsAndRetriesMax</var>)</code></dt>
<dd><a name="IDX1045"></a>
<a name="IDX1046"></a>
<a name="IDX1047"></a>
<p>Set call count counter as timers. YAP will generate an exception
if one of the instantiated call counters decreases to 0. YAP will ignore
unbound arguments:
</p><ul>
<li> <var>CallsMax</var>: throw the exception <code>call_counter</code> when the
counter <code>calls</code> reaches 0;
</li><li> <var>RetriesMax</var>: throw the exception <code>retry_counter</code> when the
counter <code>retries</code> reaches 0;
</li><li> <var>CallsAndRetriesMax</var>: throw the exception
<code>call_and_retry_counter</code> when the counter <code>calls_and_retries</code>
reaches 0.
</li></ul>
</dd>
</dl>

<p>Next, we show a simple example of how to use call counters:
</p><table><tr><td>&nbsp;</td><td><pre class="example">   ?- yap_flag(call_counting,on), [-user]. l :- l. end_of_file. yap_flag(call_counting,off).

yes

yes
   ?- catch((call_count(10000,_,_),l),call_counter,format(&quot;limit_exceeded.~n&quot;,[])).

limit_exceeded.

yes
</pre></td></tr></table>
<p>Notice that we first compile the looping predicate <code>l/0</code> with
<code>call_counting</code> <code>on</code>. Next, we <code>catch/3</code> to handle an
exception when <code>l/0</code> performs more than 10000 reductions.
</p>

<hr size="6">
<a name="Arrays"></a>
<a name="SEC69"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC68" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC70" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 6.20 Arrays </h2>

<p>The YAP system includes experimental support for arrays. The
support is enabled with the option <code>YAP_ARRAYS</code>.
</p>
<p>There are two very distinct forms of arrays in YAP. The
<em>dynamic arrays</em> are a different way to access compound terms
created during the execution. Like any other terms, any bindings to
these terms and eventually the terms themselves will be destroyed during
backtracking. Our goal in supporting dynamic arrays is twofold. First,
they provide an alternative to the standard <code>arg/3</code>
built-in. Second, because dynamic arrays may have name that are globally
visible, a dynamic array can be visible from any point in the
program. In more detail, the clause
</p><table><tr><td>&nbsp;</td><td><pre class="example">g(X) :- array_element(a,2,X).
</pre></td></tr></table>
<p>will succeed as long as the programmer has used the built-in <tt>array/2</tt>
to create an array term with at least 3 elements in the current
environment, and the array was associated with the name <code>a</code>.  The
element <code>X</code> is a Prolog term, so one can bind it and any such
bindings will be undone when backtracking. Note that dynamic arrays do
not have a type: each element may be any Prolog term.
</p>
<p>The <em>static arrays</em> are an extension of the database. They provide
a compact way for manipulating data-structures formed by characters,
integers, or floats imperatively. They can also be used to provide
two-way communication between YAP and external programs through
shared memory.
</p>
<p>In order to efficiently manage space elements in a static array must
have a type. Currently, elements of static arrays in YAP should
have one of the following predefined types:
</p>
<ul>
<li>  <code>byte</code>: an 8-bit signed character.
</li><li>  <code>unsigned_byte</code>: an 8-bit unsigned character.
</li><li>  <code>int</code>: Prolog integers. Size would be the natural size for
the machine's architecture.
</li><li>  <code>float</code>: Prolog floating point number. Size would be equivalent
to a double in <code>C</code>.
</li><li>  <code>atom</code>: a Prolog atom.
</li><li>  <code>dbref</code>: an internal database reference.
</li><li>  <code>term</code>: a generic Prolog term. Note that this will term will
not be stored in the array itself, but instead will be stored in the
Prolog internal database.
</li></ul>

<p>Arrays may be <em>named</em> or <em>anonymous</em>. Most arrays will be
<em>named</em>, that is associated with an atom that will be used to find
the array. Anonymous arrays do not have a name, and they are only of
interest if the <code>TERM_EXTENSIONS</code> compilation flag is enabled. In
this case, the unification and parser are extended to replace
occurrences of Prolog terms of the form <code>X[I]</code> by run-time calls to
<code>array_element/3</code>, so that one can use array references instead of
extra calls to <code>arg/3</code>. As an example:
</p><table><tr><td>&nbsp;</td><td><pre class="example">g(X,Y,Z,I,J) :- X[I] is Y[J]+Z[I].
</pre></td></tr></table>
<p>should give the same results as:
</p><table><tr><td>&nbsp;</td><td><pre class="example">G(X,Y,Z,I,J) :-
        array_element(X,I,E1),
        array_element(Y,J,E2),  
        array_element(Z,I,E3),  
        E1 is E2+E3.
</pre></td></tr></table>

<p>Note that the only limitation on array size are the stack size for
dynamic arrays; and, the heap size for static (not memory mapped)
arrays. Memory mapped arrays are limited by available space in the file
system and in the virtual memory space.
</p>
<p>The following predicates manipulate arrays:
</p>
<dl compact="compact">
<dt> <code>array(+<var>Name</var>, +<var>Size</var>)</code></dt>
<dd><a name="IDX1048"></a>
<a name="IDX1049"></a>
<a name="IDX1050"></a>
<p>Creates a new dynamic array. The <var>Size</var> must evaluate to an
integer. The <var>Name</var> may be either an atom (named array) or an
unbound variable (anonymous array).
</p>
<p>Dynamic arrays work as standard compound terms, hence space for the
array is recovered automatically on backtracking.
</p>
</dd>
<dt> <code>static_array(+<var>Name</var>, +<var>Size</var>, +<var>Type</var>)</code></dt>
<dd><a name="IDX1051"></a>
<a name="IDX1052"></a>
<a name="IDX1053"></a>
<p>Create a new static array with name <var>Name</var>. Note that the <var>Name</var>
must be an atom (named array). The <var>Size</var> must evaluate to an
integer.  The <var>Type</var> must be bound to one of types mentioned
previously.
</p>
</dd>
<dt> <code>static_array_location(+<var>Name</var>, -<var>Ptr</var>)</code></dt>
<dd><a name="IDX1054"></a>
<a name="IDX1055"></a>
<a name="IDX1056"></a>
<p>Give the location for  a static array with name
<var>Name</var>.
</p>
</dd>
<dt> <code>static_array_properties(?<var>Name</var>, ?<var>Size</var>, ?<var>Type</var>)</code></dt>
<dd><a name="IDX1057"></a>
<a name="IDX1058"></a>
<a name="IDX1059"></a>
<p>Show the properties size and type of a static array with name
<var>Name</var>. Can also be used to enumerate all current
static arrays. 
</p>
<p>This built-in will silently fail if the there is no static array with
that name.
</p>
</dd>
<dt> <code>static_array_to_term(?<var>Name</var>, ?<var>Term</var>)</code></dt>
<dd><a name="IDX1060"></a>
<a name="IDX1061"></a>
<a name="IDX1062"></a>
<p>Convert a static array with name
<var>Name</var> to a compound term of name <var>Name</var>.
</p>
<p>This built-in will silently fail if the there is no static array with
that name.
</p>
</dd>
<dt> <code>mmapped_array(+<var>Name</var>, +<var>Size</var>, +<var>Type</var>, +<var>File</var>)</code></dt>
<dd><a name="IDX1063"></a>
<a name="IDX1064"></a>
<a name="IDX1065"></a>
<p>Similar to <code>static_array/3</code>, but the array is memory mapped to file
<var>File</var>. This means that the array is initialized from the file, and
that any changes to the array will also be stored in the file. 
</p>
<p>This built-in is only available in operating systems that support the
system call <code>mmap</code>. Moreover, mmapped arrays do not store generic
terms (type <code>term</code>).
</p>
</dd>
<dt> <code>close_static_array(+<var>Name</var>)</code></dt>
<dd><a name="IDX1066"></a>
<a name="IDX1067"></a>
<a name="IDX1068"></a>
<p>Close an existing static array of name <var>Name</var>. The <var>Name</var> must
be an atom (named array). Space for the array will be recovered and
further accesses to the array will return an error. 
</p>
</dd>
<dt> <code>resize_static_array(+<var>Name</var>, -<var>OldSize</var>, +<var>NewSize</var>)</code></dt>
<dd><a name="IDX1069"></a>
<a name="IDX1070"></a>
<a name="IDX1071"></a>
<p>Expand or reduce a static array, The <var>Size</var> must evaluate to an
integer. The <var>Name</var> must be an atom (named array). The <var>Type</var>
must be bound to one of <code>int</code>, <code>dbref</code>, <code>float</code> or
<code>atom</code>.
</p>
<p>Note that if the array is a mmapped array the size of the mmapped file
will be actually adjusted to correspond to the size of the array.
</p>
</dd>
<dt> <code>array_element(+<var>Name</var>, +<var>Index</var>, ?<var>Element</var>)</code></dt>
<dd><a name="IDX1072"></a>
<a name="IDX1073"></a>
<a name="IDX1074"></a>
<p>Unify <var>Element</var> with <var>Name</var>[<var>Index</var>]. It works for both
static and dynamic arrays, but it is read-only for static arrays, while
it can be used to unify with an element of a dynamic array.
</p>
</dd>
<dt> <code>update_array(+<var>Name</var>, +<var>Index</var>, ?<var>Value</var>)</code> </dt>
<dd><a name="IDX1075"></a>
<a name="IDX1076"></a>
<a name="IDX1077"></a>
<p>Attribute value <var>Value</var> to <var>Name</var>[<var>Index</var>]. Type
restrictions must be respected for static arrays. This operation is
available for dynamic arrays if <code>MULTI_ASSIGNMENT_VARIABLES</code> is
enabled (true by default). Backtracking undoes <var>update_array/3</var> for
dynamic arrays, but not for static arrays.
</p>
<p>Note that <code>update_array/3</code> actually uses <code>setarg/3</code> to update
elements of dynamic arrays, and <code>setarg/3</code> spends an extra cell for
every update. For intensive operations we suggest it may be less
expensive to unify each element of the array with a mutable terms and
to use the operations on mutable terms.
</p>
</dd>
<dt> <code>add_to_array_element(+<var>Name</var>, +<var>Index</var>, , +<var>Number</var>, ?<var>NewValue</var>)</code> </dt>
<dd><a name="IDX1078"></a>
<a name="IDX1079"></a>
<a name="IDX1080"></a>
<p>Add <var>Number</var> <var>Name</var>[<var>Index</var>] and unify <var>NewValue</var> with
the incremented value. Observe that <var>Name</var>[<var>Index</var>] must be an
number. If <var>Name</var> is a static array the type of the array must be
<code>int</code> or <code>float</code>. If the type of the array is <code>int</code> you
only may add integers, if it is <code>float</code> you may add integers or
floats. If <var>Name</var> corresponds to a dynamic array the array element
must have been previously bound to a number and <code>Number</code> can be
any kind of number.
</p>
<p>The <code>add_to_array_element/3</code> built-in actually uses
<code>setarg/3</code> to update elements of dynamic arrays. For intensive
operations we suggest it may be less expensive to unify each element
of the array with a mutable terms and to use the operations on mutable
terms.
</p>
</dd>
</dl>

<hr size="6">
<a name="Preds"></a>
<a name="SEC70"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC69" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC71" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 6.21 Predicate Information </h2>

<p>Built-ins that return information on the current predicates and modules:
</p>
<dl compact="compact">
<dt> <code>current_module(<var>M</var>)</code></dt>
<dd><a name="IDX1081"></a>
<a name="IDX1082"></a>
<a name="IDX1083"></a>
<p>Succeeds if <var>M</var> are defined modules. A module is defined as soon as some
predicate defined in the module is loaded, as soon as a goal in the
module is called, or as soon as it becomes the current type-in module.
</p>
</dd>
<dt> <code>current_module(<var>M</var>,<var>F</var>)</code></dt>
<dd><a name="IDX1084"></a>
<a name="IDX1085"></a>
<a name="IDX1086"></a>
<p>Succeeds if <var>M</var> are current modules associated to the file <var>F</var>.
</p>
</dd>
</dl>

<hr size="6">
<a name="Misc"></a>
<a name="SEC71"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC70" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 6.22 Miscellaneous </h2>

<dl compact="compact">
<dt> <code>statistics/0</code></dt>
<dd><a name="IDX1087"></a>
<a name="IDX1088"></a>
<a name="IDX1089"></a>
<p>Send to the current user error stream general information on space used and time
spent by the system.
</p><table><tr><td>&nbsp;</td><td><pre class="example">?- statistics.
memory (total)        4784124 bytes
   program space      3055616 bytes:    1392224 in use,      1663392 free
                                                             2228132  max
   stack space        1531904 bytes:        464 in use,      1531440 free
     global stack:                           96 in use,       616684  max
      local stack:                          368 in use,       546208  max
   trail stack         196604 bytes:          8 in use,       196596 free

       0.010 sec. for 5 code, 2 stack, and 1 trail space overflows
       0.130 sec. for 3 garbage collections which collected 421000 bytes
       0.000 sec. for 0 atom garbage collections which collected 0 bytes
       0.880 sec. runtime
       1.020 sec. cputime
      25.055 sec. elapsed time

</pre></td></tr></table>
<p>The example shows how much memory the system spends. Memory is divided
into Program Space, Stack Space and Trail. In the example we have 3MB
allocated for program spaces, with less than half being actually
used. YAP also shows the maximum amount of heap space having been used
which was over 2MB.
</p>
<p>The stack space is divided into two stacks which grow against each
other. We are in the top level so very little stack is being used. On
the other hand, the system did use a lot of global and local stack
during the previous execution (we refer the reader to a WAM tutorial in
order to understand what are the global and local stacks).
</p>
<p>YAP also shows information on how many memory overflows and garbage
collections the system executed, and statistics on total execution
time. Cputime includes all running time, runtime excludes garbage
collection and stack overflow time.
</p>
</dd>
<dt> <code>statistics(?<var>Param</var>,-<var>Info</var>)</code></dt>
<dd><a name="IDX1090"></a>
<a name="IDX1091"></a>
<a name="IDX1092"></a>
<p>Gives statistical information on the system parameter given by first
argument:
</p>
<dl compact="compact">
<dt> <code>cputime</code></dt>
<dd><a name="IDX1093"></a>
<p><code>[<var>Time since Boot</var>,<var>Time From Last Call to Cputime</var>]</code>
<br> 
This gives the total cputime in milliseconds spent executing Prolog code,
garbage collection and stack shifts time included.
</p>
</dd>
<dt> <code>garbage_collection</code></dt>
<dd><a name="IDX1094"></a>
<p><code>[<var>Number of GCs</var>,<var>Total Global Recovered</var>,<var>Total Time
Spent</var>]</code>
<br>
Number of garbage collections, amount of space recovered in kbytes, and
total time spent doing garbage collection in milliseconds. More detailed
information is available using <code>yap_flag(gc_trace,verbose)</code>.
</p>
</dd>
<dt> <code>global_stack</code></dt>
<dd><a name="IDX1095"></a>
<p><code>[<var>Global Stack Used</var>,<var>Execution Stack Free</var>]</code>
<br>
Space in kbytes currently used in the global stack, and space available for
expansion by the local and global stacks.
</p>
</dd>
<dt> <code>local_stack</code></dt>
<dd><a name="IDX1096"></a>
<p><code>[<var>Local Stack Used</var>,<var>Execution Stack Free</var>]</code>
<br>
Space in kbytes currently used in the local stack, and space available for
expansion by the local and global stacks.
</p>
</dd>
<dt> <code>heap</code></dt>
<dd><a name="IDX1097"></a>
<p><code>[<var>Heap Used</var>,<var>Heap Free</var>]</code>
<br>
Total space in kbytes not recoverable
in backtracking. It includes the program code, internal data base, and,
atom symbol table.
</p>
</dd>
<dt> <code>program</code></dt>
<dd><a name="IDX1098"></a>
<p><code>[<var>Program Space Used</var>,<var>Program Space Free</var>]</code>
<br>
Equivalent to <code>heap</code>.
</p>
</dd>
<dt> <code>runtime</code></dt>
<dd><a name="IDX1099"></a>
<p><code>[<var>Time since Boot</var>,<var>Time From Last Call to Runtime</var>]</code>
<br> 
This gives the total cputime in milliseconds spent executing Prolog
code, not including garbage collections and stack shifts. Note that
until YAP4.1.2 the <code>runtime</code> statistics would return time spent on
garbage collection and stack shifting.
</p>
</dd>
<dt> <code>stack_shifts</code></dt>
<dd><a name="IDX1100"></a>
<p><code>[<var>Number of Heap Shifts</var>,<var>Number of Stack
Shifts</var>,<var>Number of Trail Shifts</var>]</code>
<br>
Number of times YAP had to
expand the heap, the stacks, or the trail. More detailed information is
available using <code>yap_flag(gc_trace,verbose)</code>.
</p>
</dd>
<dt> <code>trail</code></dt>
<dd><a name="IDX1101"></a>
<p><code>[<var>Trail Used</var>,<var>Trail Free</var>]</code>
<br>
Space in kbytes currently being used and still available for the trail.
</p>
</dd>
<dt> <code>walltime</code></dt>
<dd><a name="IDX1102"></a>
<p><code>[<var>Time since Boot</var>,<var>Time From Last Call to Walltime</var>]</code>
<br> 
This gives the clock time in milliseconds since starting Prolog.
</p>
</dd>
</dl>

</dd>
<dt> <code>time(:<var>Goal</var>)</code></dt>
<dd><a name="IDX1103"></a>
<a name="IDX1104"></a>
<a name="IDX1105"></a>
<p>Prints the CPU time and the wall time for the execution of <var>Goal</var>.
Possible choice-points of <var>Goal</var> are removed. Based on the SWI-Prolog 
definition (minus reporting the number of inferences, which YAP currently
does not support).
</p>
</dd>
<dt> <code>yap_flag(?<var>Param</var>,?<var>Value</var>)</code></dt>
<dd><a name="IDX1106"></a>
<a name="IDX1107"></a>
<a name="IDX1108"></a>
<p>Set or read system properties for <var>Param</var>:
</p>
<dl compact="compact">
<dt> <code>argv</code></dt>
<dd><a name="IDX1109"></a>
<br><p> Read-only flag. It unifies with a list of atoms that gives the
arguments to YAP after <code>--</code>.
</p>
</dd>
<dt> <code>bounded [ISO]</code></dt>
<dd><a name="IDX1110"></a>
<br>
<p>Read-only flag telling whether integers are bounded. The value depends
on whether YAP uses the GMP library or not.
</p>
</dd>
<dt>  <code>profiling</code></dt>
<dd><a name="IDX1111"></a>
<br>
<p>If <code>off</code> (default) do not compile call counting information for
procedures. If <code>on</code> compile predicates so that they calls and
retries to the predicate may be counted. Profiling data can be read through the
<code>call_count_data/3</code> built-in.
</p>
</dd>
<dt> <code>char_conversion [ISO]</code></dt>
<dd><a name="IDX1112"></a>
<br>
<p>Writable flag telling whether a character conversion table is used when
reading terms. The default value for this flag is <code>off</code> except in
<code>sicstus</code> and <code>iso</code> language modes, where it is <code>on</code>.
</p>
</dd>
<dt> <code>character_escapes [ISO]</code></dt>
<dd><a name="IDX1113"></a>
<br><p> Writable flag telling whether a character escapes are enables,
<code>on</code>, or disabled, <code>off</code>. The default value for this flag is
<code>on</code>.
</p>

</dd>
<dt> <code>debug [ISO]</code></dt>
<dd><a name="IDX1114"></a>
<br>
<p>If <var>Value</var> is unbound, tell whether debugging is <code>on</code> or
<code>off</code>. If <var>Value</var> is bound to <code>on</code> enable debugging, and if
it is bound to <code>off</code> disable debugging.
</p>
<p>+</p></dd>
<dt> <code>debugger_print_options</code></dt>
<dd><a name="IDX1115"></a>
<br> 
<p>If bound, set the argument to the <code>write_term/3</code> options the
debugger uses to write terms. If unbound, show the current options.
</p>
</dd>
<dt> <code>dialect</code></dt>
<dd><a name="IDX1116"></a>
<br>
<p>Read-only flag that always returns <code>yap</code>.
</p>
</dd>
<dt> <code>discontiguous_warnings</code></dt>
<dd><a name="IDX1117"></a>
<br>
<p>If <var>Value</var> is unbound, tell whether warnings for discontiguous
predicates are <code>on</code> or
<code>off</code>. If <var>Value</var> is bound to <code>on</code> enable these warnings,
and if it is bound to <code>off</code> disable them. The default for YAP is
<code>off</code>, unless we are in <code>sicstus</code> or <code>iso</code> mode.
</p>
</dd>
<dt>  <code>dollar_as_lower_case</code></dt>
<dd><a name="IDX1118"></a>
<br>
<p>If <code>off</code> (default)  consider the character '$' a control character, if
<code>on</code> consider '$' a lower case character.
</p>
</dd>
<dt> <code>double_quotes [ISO]</code></dt>
<dd><a name="IDX1119"></a>
<br>
<p>If <var>Value</var> is unbound, tell whether a double quoted list of characters
token is converted to a list of atoms, <code>chars</code>, to a list of integers,
<code>codes</code>, or to a single atom, <code>atom</code>. If <var>Value</var> is bound, set to
the corresponding behavior. The default value is <code>codes</code>.
</p>
</dd>
<dt>  <code>fast</code></dt>
<dd><a name="IDX1120"></a>
<br>
<p>If <code>on</code> allow fast machine code, if <code>off</code> (default) disable it. Only
available in experimental implementations.
</p>
</dd>
<dt>  <code>fileerrors</code></dt>
<dd><a name="IDX1121"></a>
<br>
<p>If <code>on</code> <code>fileerrors</code> is <code>on</code>, if <code>off</code> (default)
<code>fileerrors</code> is disabled.
</p>
</dd>
<dt> <code>float_format</code></dt>
<dd><a name="IDX1122"></a>
<br><p> C-library <code>printf()</code> format specification used by <code>write/1</code> and
friends to determine how floating point numbers are printed. The
default is <code>%.15g</code>. The specified value is passed to <code>printf()</code>
without further checking. For example, if you want less digits
printed, <code>%g</code> will print all floats using 6 digits instead of the
default 15.
</p>
</dd>
<dt>  <code>gc</code></dt>
<dd><a name="IDX1123"></a>
<br>
<p>If <code>on</code> allow garbage collection (default), if <code>off</code> disable it.
</p>
</dd>
<dt>  <code>gc_margin</code></dt>
<dd><a name="IDX1124"></a>
<br>
<p>Set or show the minimum free stack before starting garbage
collection. The default depends on total stack size. 
</p>
</dd>
<dt>  <code>gc_trace</code></dt>
<dd><a name="IDX1125"></a>
<br><p> If <code>off</code> (default) do not show information on garbage collection
and stack shifts, if <code>on</code> inform when a garbage collection or stack
shift happened, if <code>verbose</code> give detailed information on garbage
collection and stack shifts. Last, if <code>very_verbose</code> give detailed
information on data-structures found during the garbage collection
process, namely, on choice-points.
</p>
</dd>
<dt>  <code>generate_debugging_info</code></dt>
<dd><a name="IDX1126"></a>
<br><p> If <code>true</code> (default) generate debugging information for
procedures, including source mode. If <code>false</code> predicates no
information is generated, although debugging is still possible, and
source mode is disabled.
</p>
</dd>
<dt>  <code>host_type</code></dt>
<dd><a name="IDX1127"></a>
<br><p> Return <code>configure</code> system information, including the machine-id
for which YAP was compiled and Operating System information. 
</p>
</dd>
<dt>  <code>index</code></dt>
<dd><a name="IDX1128"></a>
<br>
<p>If <code>on</code> allow indexing (default), if <code>off</code> disable it.
</p>
</dd>
<dt>  <code>informational_messages</code></dt>
<dd><a name="IDX1129"></a>
<br>
<p>If <code>on</code> allow printing of informational messages, such as the ones
that are printed when consulting. If <code>off</code> disable printing
these messages. It is <code>on</code> by default except if YAP is booted with
the <code>-L</code> flag.
</p>
</dd>
<dt> <code>integer_rounding_function [ISO]</code></dt>
<dd><a name="IDX1130"></a>
<br>
<p>Read-only flag telling the rounding function used for integers. Takes the value
<code>down</code> for the current version of YAP.
</p>
</dd>
<dt> <code>language</code></dt>
<dd><a name="IDX1131"></a>
<br> 
<p>Choose whether YAP is closer to C-Prolog, <code>cprolog</code>, iso-prolog,
<code>iso</code> or SICStus Prolog, <code>sicstus</code>. The current default is
<code>cprolog</code>. This flag affects update semantics, leashing mode,
style_checking, handling calls to undefined procedures, how directives
are interpreted, when to use dynamic, character escapes, and how files
are consulted.
</p>
</dd>
<dt> <code>max_arity [ISO]</code></dt>
<dd><a name="IDX1132"></a>
<br>
<p>Read-only flag telling the maximum arity of a functor. Takes the value
<code>unbounded</code> for the current version of YAP.
</p>
</dd>
<dt> <code>max_integer [ISO]</code></dt>
<dd><a name="IDX1133"></a>
<br>
<p>Read-only flag telling the maximum integer in the
implementation. Depends on machine and Operating System
architecture, and on whether YAP uses the <code>GMP</code> multi-precision
library. If <code>bounded</code> is false, requests for <code>max_integer</code>
will fail.
</p>
</dd>
<dt> <code>max_tagged_integer</code> </dt>
<dd><a name="IDX1134"></a>
<br>
<p>Read-only flag telling the maximum integer we can store as a single
word. Depends on machine and Operating System
architecture. It can be used to find the word size of the current machine.
</p>
</dd>
<dt> <code>min_integer [ISO]</code></dt>
<dd><a name="IDX1135"></a>
<br><p> Read-only flag telling the minimum integer in the
implementation. Depends on machine and Operating System architecture,
and on whether YAP uses the <code>GMP</code> multi-precision library. If
<code>bounded</code> is false, requests for <code>min_integer</code> will fail.
</p>
</dd>
<dt> <code>min_tagged_integer</code> </dt>
<dd><a name="IDX1136"></a>
<br>
<p>Read-only flag telling the minimum integer we can store as a single
word. Depends on machine and Operating System
architecture.
</p>
</dd>
<dt> <code>n_of_integer_keys_in_bb</code></dt>
<dd><a name="IDX1137"></a>
<br>
<p>Read or set the size of the hash table that is used for looking up the
blackboard when the key is an integer.
</p>
</dd>
<dt> <code>n_of_integer_keys_in_db</code></dt>
<dd><a name="IDX1138"></a>
<br>
<p>Read or set the size of the hash table that is used for looking up the
internal data-base when the key is an integer.
</p>
</dd>
<dt> <code>open_expands_filename</code></dt>
<dd><a name="IDX1139"></a>
<br>
<p>If <code>true</code> the <code>open/3</code> builtin performs filename-expansion
before opening a file (SICStus Prolog like). If <code>false</code> it does not
(SWI-Prolog like).
</p>
</dd>
<dt>  <code>profiling</code></dt>
<dd><a name="IDX1140"></a>
<br>
<p>If <code>off</code> (default) do not compile profiling information for
procedures. If <code>on</code> compile predicates so that they will output
profiling information. Profiling data can be read through the
<code>profile_data/3</code> built-in.
</p>
</dd>
<dt> <code>redefine_warnings</code></dt>
<dd><a name="IDX1141"></a>
<br>
<p>If <var>Value</var> is unbound, tell whether warnings for procedures defined
in several different files are <code>on</code> or
<code>off</code>. If <var>Value</var> is bound to <code>on</code> enable these warnings,
and if it is bound to <code>off</code> disable them. The default for YAP is
<code>off</code>, unless we are in <code>sicstus</code> or <code>iso</code> mode.
</p>
</dd>
<dt> <code>shared_object_search_path</code></dt>
<dd><a name="IDX1142"></a>
<p>Name of the environment variable used by the system to search for shared
objects.
</p>
</dd>
<dt> <code>single_var_warnings</code></dt>
<dd><a name="IDX1143"></a>
<br>
<p>If <var>Value</var> is unbound, tell whether warnings for singleton variables
are <code>on</code> or <code>off</code>. If <var>Value</var> is bound to <code>on</code> enable
these warnings, and if it is bound to <code>off</code> disable them. The
default for YAP is <code>off</code>, unless we are in <code>sicstus</code> or
<code>iso</code> mode.
</p>
</dd>
<dt> <code>strict_iso</code></dt>
<dd><a name="IDX1144"></a>
<br>
<p> If <var>Value</var> is unbound, tell whether strict ISO compatibility mode
is <code>on</code> or <code>off</code>. If <var>Value</var> is bound to <code>on</code> set
language mode to <code>iso</code> and enable strict mode. If <var>Value</var> is
bound to <code>off</code> disable strict mode, and keep the current language
mode. The default for YAP is <code>off</code>.
</p>
<p>Under strict ISO prolog mode all calls to non-ISO built-ins generate an
error. Compilation of clauses that would call non-ISO built-ins will
also generate errors. Pre-processing for grammar rules is also
disabled. Module expansion is still performed.
</p>
<p>Arguably, ISO Prolog does not provide all the functionality required
from a modern Prolog system. Moreover, because most Prolog
implementations do not fully implement the standard and because the
standard itself gives the implementor latitude in a few important
questions, such as the unification algorithm and maximum size for
numbers there is not guarantee that programs compliant with this mode
will work the same way in every Prolog and in every platform. We thus
believe this mode is mostly useful when investigating how a program
depends on a Prolog's platform specific features.
</p>
</dd>
<dt>  <code>stack_dump_on_error</code></dt>
<dd><a name="IDX1145"></a>
<br>
<p>If <code>on</code> show a stack dump when YAP finds an error. The default is
<code>off</code>.
</p>
</dd>
<dt>  <code>syntax_errors</code></dt>
<dd><a name="IDX1146"></a>
<br>
<p>Control action to be taken after syntax errors while executing <code>read/1</code>,
<code>read/2</code>, or <code>read_term/3</code>:
</p><dl compact="compact">
<dt> <code>dec10</code></dt>
<dd><br>
<p>Report the syntax error and retry reading the term.
</p> 
</dd>
<dt> <code>fail</code></dt>
<dd><br>
<p>Report the syntax error and fail (default).
</p>
</dd>
<dt> <code>error</code></dt>
<dd><br>
<p>Report the syntax error and generate an error.
</p>
</dd>
<dt> <code>quiet</code></dt>
<dd><br>
<p>Just fail
</p></dd>
</dl>

</dd>
<dt> <code>system_options</code></dt>
<dd><a name="IDX1147"></a>
<br><p> This read only flag tells which options were used to compile
YAP. Currently it informs whether the system supports <code>big_numbers</code>,
<code>coroutining</code>, <code>depth_limit</code>, <code>low_level_tracer</code>,
<code>or-parallelism</code>, <code>rational_trees</code>, <code>readline</code>, <code>tabling</code>,
<code>threads</code>, or the <code>wam_profiler</code>.
</p>
</dd>
<dt> <code>tabling_mode</code></dt>
<dd><br><p> Sets or reads the tabling mode for all tabled predicates. Please
see section <a href="#SEC152">Tabling</a> for the list of options.
</p>
</dd>
<dt> <code>to_chars_mode</code></dt>
<dd><a name="IDX1148"></a>
<br><p> Define whether YAP should follow <code>quintus</code>-like
semantics for the <code>atom_chars/1</code> or <code>number_chars/1</code> built-in,
or whether it should follow the ISO standard (<code>iso</code> option).
</p>
<p>+</p></dd>
<dt> <code>toplevel_hook</code></dt>
<dd><a name="IDX1149"></a>
<br>
<p>+If bound, set the argument to a goal to be executed before entering the
top-level. If unbound show the current goal or <code>true</code> if none is
presented. Only the first solution is considered and the goal is not
backtracked into.
</p>
<p>+</p></dd>
<dt> <code>toplevel_print_options</code></dt>
<dd><a name="IDX1150"></a>
<br>
<p>+If bound, set the argument to the <code>write_term/3</code> options used to write
terms from the top-level. If unbound, show the current options.
</p>
</dd>
<dt> <code>typein_module</code></dt>
<dd><a name="IDX1151"></a>
<br>
<p>If bound, set the current working or type-in module to the argument,
which must be an atom. If unbound, unify the argument with the current
working module.
</p>
</dd>
<dt>  <code>unix</code></dt>
<dd><a name="IDX1152"></a>
<br><p> Read-only boolean flag that unifies with tr <code>true</code> if YAP is
running on an Unix system.  Defined if the C-compiler used to compile
this version of YAP either defines <code>__unix__</code> or <code>unix</code>.
</p>
</dd>
<dt> <code>unknown [ISO]</code></dt>
<dd><a name="IDX1153"></a>
<br>
<p>Corresponds to calling the <code>unknown/2</code> built-in.
</p>
</dd>
<dt> <code>update_semantics</code></dt>
<dd><a name="IDX1154"></a>
<br>
<p>Define whether YAP should follow <code>immediate</code> update
semantics, as in C-Prolog (default), <code>logical</code> update semantics,
as in Quintus Prolog, SICStus Prolog, or in the ISO standard. There is
also an intermediate mode, <code>logical_assert</code>, where dynamic
procedures follow logical semantics but the internal data base still
follows immediate semantics.
</p>
</dd>
<dt> <code>user_error</code></dt>
<dd><a name="IDX1155"></a>
<br>
<p>If the second argument is bound to a stream, set <code>user_error</code> to
this stream. If the second argument is unbound, unify the argument with
the current <code>user_error</code> stream.
</p>
<p>By default, the <code>user_error</code> stream is set to a stream
corresponding to the Unix <code>stderr</code> stream.
</p>
<p>The next example shows how to use this flag:
</p><table><tr><td>&nbsp;</td><td><pre class="example">   ?- open( '/dev/null', append, Error,
           [alias(mauri_tripa)] ).

Error = '$stream'(3) ? ;

no
   ?- set_prolog_flag(user_error, mauri_tripa).

close(mauri_tripa).

yes
   ?- 
</pre></td></tr></table>
<p>We execute three commands. First, we open a stream in write mode and
give it an alias, in this case <code>mauri_tripa</code>. Next, we set
<code>user_error</code> to the stream via the alias. Note that after we did so
prompts from the system were redirected to the stream
<code>mauri_tripa</code>. Last, we close the stream. At this point, YAP
automatically redirects the <code>user_error</code> alias to the original
<code>stderr</code>.
</p>
</dd>
<dt> <code>user_input</code></dt>
<dd><a name="IDX1156"></a>
<br>
<p>If the second argument is bound to a stream, set <code>user_input</code> to
this stream. If the second argument is unbound, unify the argument with
the current <code>user_input</code> stream.
</p>
<p>By default, the <code>user_input</code> stream is set to a stream
corresponding to the Unix <code>stdin</code> stream.
</p>
</dd>
<dt> <code>user_output</code></dt>
<dd><a name="IDX1157"></a>
<br>
<p>If the second argument is bound to a stream, set <code>user_output</code> to
this stream. If the second argument is unbound, unify the argument with
the current <code>user_output</code> stream.
</p>
<p>By default, the <code>user_output</code> stream is set to a stream
corresponding to the Unix <code>stdout</code> stream.
</p>
</dd>
<dt>  <code>verbose</code></dt>
<dd><a name="IDX1158"></a>
<br>
<p>If <code>normal</code> allow printing of informational and banner messages,
such as the ones that are printed when consulting. If <code>silent</code>
disable printing these messages. It is <code>normal</code> by default except if
YAP is booted with the <code>-L</code> flag.
</p>
</dd>
<dt> <code>version</code></dt>
<dd><a name="IDX1159"></a>
<br><p> Read-only flag that returns an atom with the current version of
YAP.
</p>
</dd>
<dt> <code>version_data</code></dt>
<dd><a name="IDX1160"></a>
<br><p> Read-only flag that reads a term of the form
<code>yap</code>(<var>Major</var>,<var>Minor</var>,<var>Patch</var>,<var>Undefined</var>), where
<var>Major</var> is the major version, <var>Minor</var> is the minor version,
and <var>Patch</var> is the patch number.
</p>
</dd>
<dt>  <code>windows</code></dt>
<dd><a name="IDX1161"></a>
<br> 
<p>Read-only boolean flag that unifies with tr <code>true</code> if YAP is
running on an Windows machine.
</p>
</dd>
<dt> <code>write_strings</code></dt>
<dd><a name="IDX1162"></a>
<br><p> Writable flag telling whether the system should write lists of
integers that are writable character codes using the list notation. It
is <code>on</code> if enables or <code>off</code> if disabled. The default value for
this flag is <code>off</code>.
</p>
</dd>
<dt> <code>max_threads</code></dt>
<dd><a name="IDX1163"></a>
<br><p> Read-only flag telling the maximum number of Prolog threads that can 
be created.
</p>
</dd>
</dl>

</dd>
<dt> <code>current_prolog_flag(?<var>Flag</var>,-<var>Value</var>) [ISO]</code></dt>
<dd><a name="IDX1164"></a>
<a name="IDX1165"></a>
<a name="IDX1166"></a>

<p>Obtain the value for a YAP Prolog flag. Equivalent to calling
<code>yap_flag/2</code> with the second argument unbound, and unifying the
returned second argument with <var>Value</var>.
</p>
</dd>
<dt> <code>prolog_flag(?<var>Flag</var>,-<var>OldValue</var>,+<var>NewValue</var>)</code></dt>
<dd><a name="IDX1167"></a>
<a name="IDX1168"></a>
<a name="IDX1169"></a>

<p>Obtain the value for a YAP Prolog flag and then set it to a new
value. Equivalent to first calling <code>current_prolog_flag/2</code> with the
second argument <var>OldValue</var> unbound and then calling
<code>set_prolog_flag/2</code> with the third argument <var>NewValue</var>.
</p>
</dd>
<dt> <code>set_prolog_flag(+<var>Flag</var>,+<var>Value</var>) [ISO]</code></dt>
<dd><a name="IDX1170"></a>
<a name="IDX1171"></a>
<a name="IDX1172"></a>

<p>Set the value for YAP Prolog flag <code>Flag</code>. Equivalent to
calling <code>yap_flag/2</code> with both arguments bound.
</p>
</dd>
<dt> <code>op(+<var>P</var>,+<var>T</var>,+<var>A</var>) [ISO]</code></dt>
<dd><a name="IDX1173"></a>
<a name="IDX1174"></a>
<a name="IDX1175"></a>
<p>Defines the operator <var>A</var> or the list of operators <var>A</var> with type
<var>T</var> (which must be one of <code>xfx</code>, <code>xfy</code>,<code>yfx</code>,
<code>xf</code>, <code>yf</code>, <code>fx</code> or <code>fy</code>) and precedence <var>P</var>
(see appendix iv for a list of predefined operators).
</p>
<p>Note that if there is a preexisting operator with the same name and
type, this operator will be discarded. Also, <code>','</code> may not be defined
as an operator, and it is not allowed to have the same for an infix and
a postfix operator.
</p>
</dd>
<dt> <code>current_op(<var>P</var>,<var>T</var>,<var>F</var>) [ISO]</code></dt>
<dd><a name="IDX1176"></a>
<a name="IDX1177"></a>
<a name="IDX1178"></a>
<p>Defines the relation: <var>P</var> is a currently defined  operator of type
<var>T</var> and precedence <var>P</var>.
</p>
</dd>
<dt> <code>prompt(-<var>A</var>,+<var>B</var>)</code></dt>
<dd><a name="IDX1179"></a>
<a name="IDX1180"></a>
<a name="IDX1181"></a>
<p>Changes YAP input prompt from <var>A</var> to <var>B</var>.
</p>
</dd>
<dt> <code>initialization</code></dt>
<dd><a name="IDX1182"></a>
<a name="IDX1183"></a>
<a name="IDX1184"></a>
<p>Execute the goals defined by initialization/1. Only the first answer is
considered.
</p>
</dd>
<dt> <code>prolog_initialization(<var>G</var>)</code></dt>
<dd><a name="IDX1185"></a>
<a name="IDX1186"></a>
<a name="IDX1187"></a>
<p>Add a goal to be executed on system initialization. This is compatible
with SICStus Prolog's <code>initialization/1</code>.
</p>
</dd>
<dt> <code>version</code></dt>
<dd><a name="IDX1188"></a>
<a name="IDX1189"></a>
<a name="IDX1190"></a>
<p>Write YAP's boot message. 
</p>
</dd>
<dt> <code>version(-<var>Message</var>)</code></dt>
<dd><a name="IDX1191"></a>
<a name="IDX1192"></a>
<a name="IDX1193"></a>
<p>Add a message to be written when yap boots or after aborting. It is not
possible to remove messages.
</p>
</dd>
<dt> <code>prolog_load_context(?<var>Key</var>, ?<var>Value</var>)</code></dt>
<dd><a name="IDX1194"></a>
<a name="IDX1195"></a>
<a name="IDX1196"></a>
<p>Obtain information on what is going on in the compilation process. The
following keys are available:
</p>
<dl compact="compact">
<dt> <code>directory</code></dt>
<dd><a name="IDX1197"></a>
<br> 
<p>Full name for the directory where YAP is currently consulting the
file.
</p>
</dd>
<dt> <code>file</code></dt>
<dd><a name="IDX1198"></a>
<br>
<p>Full name for the file currently being consulted. Notice that included
filed are ignored.
</p>
</dd>
<dt> <code>module</code></dt>
<dd><a name="IDX1199"></a>
<br>
<p>Current source module.
</p>
</dd>
<dt> <code>source</code></dt>
<dd><a name="IDX1200"></a>
<br>
<p>Full name for the file currently being read in, which may be consulted,
reconsulted, or included.
</p>
</dd>
<dt> <code>stream</code></dt>
<dd><a name="IDX1201"></a>
<br>
<p>Stream currently being read in.
</p>
</dd>
<dt> <code>term_position</code></dt>
<dd><a name="IDX1202"></a>
<br>
<p>Stream position at the stream currently being read in.
</p></dd>
</dl>


</dd>
</dl>

<hr size="6">
<a name="Library"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC71" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC73" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC36" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>

<a name="SEC72"></a>
<h1 class="chapter"> 7. Library Predicates </h1>

<p>Library files reside in the library_directory path (set by the
<code>LIBDIR</code> variable in the Makefile for YAP). Currently,
most files in the library are from the Edinburgh Prolog library. 
</p>
<table class="menu" border="0" cellspacing="0">
 
<p>Library, Extensions, Built-ins, Top
<a href="#SEC73">7.1 Apply Macros</a>&nbsp; Apply a Predicate to a list or to sub-terms.
<a href="#SEC74">7.2 Association Lists</a>&nbsp; Binary Tree Implementation of Association Lists.
<a href="#SEC75">7.3 AVL Trees</a>&nbsp; Predicates to add and lookup balanced binary  trees.
<a href="#SEC93">7.21 Call Cleanup</a>&nbsp; Call With registered Cleanup Calls
<a href="#SEC97">7.25 Directed Graphs</a>&nbsp; Directed Graphs Implemented With Red-Black Trees
<a href="#SEC76">7.4 Heaps</a>&nbsp; Labelled binary tree where the key of each node is less
    than or equal to the keys of its children.
<a href="#SEC99">7.27 LAM</a>&nbsp; LAM MPI
<a href="#SEC77">7.5 List Manipulation</a>&nbsp; List Manipulation
<a href="#SEC78">7.6 Matrix Library</a>&nbsp; Matrix Objects
<a href="#SEC79">7.7 MATLAB Package Interface</a>&nbsp; Matlab Interface
<a href="#SEC80">7.8 Non-Backtrackable Data Structures</a>&nbsp; Queues, Heaps, and Beams.
<a href="#SEC81">7.9 Ordered Sets</a>&nbsp; Ordered Set Manipulation
<a href="#SEC82">7.10 Pseudo Random Number Integer Generator</a>&nbsp; Pseudo Random Numbers
<a href="#SEC83">7.11 Queues</a>&nbsp; Queue Manipulation
<a href="#SEC84">7.12 Random Number Generator</a>&nbsp; Random Numbers
<a href="#SEC85">7.13 Read Utilities</a>&nbsp; SWI inspired utilities for fast stream scanning.
<a href="#SEC86">7.14 Red-Black Trees</a>&nbsp; Predicates to add, lookup and delete in red-black binary  trees.
<a href="#SEC87">7.15 Regular Expressions</a>&nbsp; Regular Expression Manipulation
<a href="#SEC88">7.16 Splay Trees</a>&nbsp; Splay Trees
<a href="#SEC89">7.17 Reading From and Writing To Strings</a>&nbsp; Writing To and Reading From Strings
<a href="#SEC90">7.18 Calling The Operating System from YAP</a>&nbsp; System Utilities
<a href="#SEC91">7.19 Utilities On Terms</a>&nbsp; Utilities on Terms
<a href="#SEC94">7.22 Calls With Timeout</a>&nbsp; Call With Timeout
<a href="#SEC95">7.23 Updatable Binary Trees</a>&nbsp; Updatable Binary Trees
<a href="#SEC92">7.20 Trie DataStructure</a>&nbsp; Trie Data Structure
<a href="#SEC96">7.24 Unweighted Graphs</a>&nbsp; Unweighted Graphs
<a href="#SEC98">7.26 Undirected Graphs</a>&nbsp; Undirected Graphs Using DGraphs
</p>

</table>

 
<hr size="6">
<a name="Apply-Macros"></a>
<a name="SEC73"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC72" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC74" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC72" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.1 Apply Macros </h2>

<p>This library provides a set of utilities for applying a predicate to
all elements of a list or to all sub-terms of a term. They allow to
easily perform the most common do-loop constructs in Prolog. To avoid
performance degradation due to apply/2, each call creates an
equivalent Prolog program, without meta-calls, which is executed by
the Prolog engine instead. Note that if the equivalent Prolog program
already exists, it will be simply used. The library is based on code
by Joachim Schimpf.
</p>
<p>The following routines are available once included with the
<code>use_module(library(apply_macros))</code> command.
</p>
<dl compact="compact">
<dt> <code>maplist(+<var>Pred</var>, ?<var>ListIn</var>, ?<var>ListOut</var>)</code></dt>
<dd><a name="IDX1203"></a>
<a name="IDX1204"></a>
<a name="IDX1205"></a>
<p>      Creates <var>ListOut</var> by applying the predicate <var>Pred</var> to all
elements of <var>ListIn</var>.
</p>
</dd>
<dt> <code>checklist(+<var>Pred</var>, +<var>List</var>)</code></dt>
<dd><a name="IDX1206"></a>
<a name="IDX1207"></a>
<a name="IDX1208"></a>
<p>      Succeeds if the predicate <var>Pred</var> succeeds on all elements of <var>List</var>.
</p>
</dd>
<dt> <code>selectlist(+<var>Pred</var>, +<var>ListIn</var>, ?<var>ListOut</var>)</code></dt>
<dd><a name="IDX1209"></a>
<a name="IDX1210"></a>
<a name="IDX1211"></a>
<p>      Creates <var>ListOut</var> of all list elements of <var>ListIn</var> that pass a given test
</p>
</dd>
<dt> <code>convlist(+<var>Pred</var>, +<var>ListIn</var>, ?<var>ListOut</var>)</code></dt>
<dd><a name="IDX1212"></a>
<a name="IDX1213"></a>
<a name="IDX1214"></a>
<p>      A combination of <code>maplist</code> and <code>selectlist</code>: creates <var>ListOut</var> by
applying the predicate <var>Pred</var> to all list elements on which
<var>Pred</var> succeeds
</p>
</dd>
<dt> <code>sumlist(+<var>Pred</var>, +<var>List</var>, ?<var>AccIn</var>, ?<var>AccOut</var>)</code></dt>
<dd><a name="IDX1215"></a>
<a name="IDX1216"></a>
<a name="IDX1217"></a>
<p>      Calls <var>Pred</var> on all elements of List and collects a result in
<var>Accumulator</var>.
</p>
</dd>
<dt> <code>mapargs(+<var>Pred</var>, ?<var>TermIn</var>, ?<var>TermOut</var>)</code></dt>
<dd><a name="IDX1218"></a>
<a name="IDX1219"></a>
<a name="IDX1220"></a>
<p>      Creates <var>TermOut</var> by applying the predicate <var>Pred</var> to all
      arguments of <var>TermIn</var>
</p>
</dd>
<dt> <code>sumargs(+<var>Pred</var>, +<var>Term</var>, ?<var>AccIn</var>, ?<var>AccOut</var>)</code></dt>
<dd><a name="IDX1221"></a>
<a name="IDX1222"></a>
<a name="IDX1223"></a>
<p>  Calls the predicate <var>Pred</var> on all arguments of <var>Term</var> and
collects a  result in <var>Accumulator</var>
</p>
</dd>
<dt> <code>mapnodes(+<var>Pred</var>, +<var>TermIn</var>, ?<var>TermOut</var>)</code> </dt>
<dd><a name="IDX1224"></a>
<a name="IDX1225"></a>
<a name="IDX1226"></a>
<p>      Creates <var>TermOut</var> by applying the predicate <var>Pred</var>
      to all sub-terms of <var>TermIn</var> (depth-first and left-to-right order)
</p>
</dd>
<dt> <code>checknodes(+<var>Pred</var>, +<var>Term</var>)</code> </dt>
<dd><a name="IDX1227"></a>
<a name="IDX1228"></a>
<a name="IDX1229"></a>
<p>      Succeeds if the predicate <var>Pred</var> succeeds on all sub-terms of
      <var>Term</var> (depth-first and left-to-right order)
</p>
</dd>
<dt> <code>sumnodes(+<var>Pred</var>, +<var>Term</var>, ?<var>AccIn</var>, ?<var>AccOut</var>)</code></dt>
<dd><a name="IDX1230"></a>
<a name="IDX1231"></a>
<a name="IDX1232"></a>
<p>      Calls the predicate <var>Pred</var> on all sub-terms of <var>Term</var> and
collect a result in <var>Accumulator</var> (depth-first and left-to-right order)
</p></dd>
</dl>

<p>Examples:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">%given
plus(X,Y,Z) :- Z is X + Y.
plus_if_pos(X,Y,Z) :- Y &gt; 0, Z is X + Y.
vars(X, Y, [X|Y]) :- var(X), !.
vars(_, Y, Y).
trans(TermIn, TermOut) :-
  (compound(TermIn) ; atom(TermIn)),
  TermIn =.. [p|Args],
  TermOut =..[q|Args],
  !.
trans(X,X).

%success

maplist(plus(1), [1,2,3,4], [2,3,4,5]).
checklist(var, [X,Y,Z]).
selectlist(&lt;(0), [-1,0,1], [1]).
convlist(plus_if_pos(1), [-1,0,1], [2]).
sumlist(plus, [1,2,3,4], 1, 11).
mapargs(number_atom,s(1,2,3), s('1','2','3')).
sumargs(vars, s(1,X,2,Y), [], [Y,X]).
mapnodes(trans, p(a,p(b,a),c), q(a,q(b,a),c)).
checknodes(\==(T), p(X,p(Y,X),Z)).
sumnodes(vars, [c(X), p(X,Y), q(Y)], [], [Y,Y,X,X]).
% another one
maplist(mapargs(number_atom),[c(1),s(1,2,3)],[c('1'),s('1','2','3')]).
</pre></td></tr></table>


<hr size="6">
<a name="Association-Lists"></a>
<a name="SEC74"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC73" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC75" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC72" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.2 Association Lists </h2>

<p>The following association list manipulation predicates are available
once included with the <code>use_module(library(assoc))</code> command. The
original library used Richard O'Keefe's implementation, on top of
unbalanced binary trees. The current code utilises code from the
red-black trees library and emulates the SICStus Prolog interface.
</p>
<dl compact="compact">
<dt> <code>assoc_to_list(+<var>Assoc</var>,?<var>List</var>)</code></dt>
<dd><a name="IDX1233"></a>
<a name="IDX1234"></a>
<a name="IDX1235"></a>
<p>Given an association list <var>Assoc</var> unify <var>List</var> with a list of
the form <var>Key-Val</var>, where the elements <var>Key</var> are in ascending
order.
</p>
</dd>
<dt> <code>del_assoc(+<var>Key</var>, +<var>Assoc</var>, ?<var>Val</var>, ?<var>NewAssoc</var>)</code></dt>
<dd><a name="IDX1236"></a>
<a name="IDX1237"></a>
<a name="IDX1238"></a>
<p>Succeeds if <var>NewAssoc</var> is an association list, obtained by removing
the element with <var>Key</var> and <var>Val</var> from the list <var>Assoc</var>.
</p>
</dd>
<dt> <code>del_max_assoc(+<var>Assoc</var>, ?<var>Key</var>, ?<var>Val</var>, ?<var>NewAssoc</var>)</code></dt>
<dd><a name="IDX1239"></a>
<a name="IDX1240"></a>
<a name="IDX1241"></a>
<p>Succeeds if <var>NewAssoc</var> is an association list, obtained by removing
the largest element of the list, with <var>Key</var> and <var>Val</var> from the
list <var>Assoc</var>.
</p>
</dd>
<dt> <code>del_min_assoc(+<var>Assoc</var>, ?<var>Key</var>, ?<var>Val</var>, ?<var>NewAssoc</var>)</code></dt>
<dd><a name="IDX1242"></a>
<a name="IDX1243"></a>
<a name="IDX1244"></a>
<p>Succeeds if <var>NewAssoc</var> is an association list, obtained by removing
the smallest element of the list, with <var>Key</var> and <var>Val</var>
from the list <var>Assoc</var>.
</p>
</dd>
<dt> <code>empty_assoc(+<var>Assoc</var>)</code></dt>
<dd><a name="IDX1245"></a>
<a name="IDX1246"></a>
<a name="IDX1247"></a>
<p>Succeeds if association list <var>Assoc</var> is empty.
</p>
</dd>
<dt> <code>gen_assoc(+<var>Assoc</var>,?<var>Key</var>,?<var>Value</var>)</code></dt>
<dd><a name="IDX1248"></a>
<a name="IDX1249"></a>
<a name="IDX1250"></a>
<p>Given the association list <var>Assoc</var>, unify <var>Key</var> and <var>Value</var>
with two associated elements. It can be used to enumerate all elements
in the association list.
</p>
</dd>
<dt> <code>get_assoc(+<var>Key</var>,+<var>Assoc</var>,?<var>Value</var>)</code></dt>
<dd><a name="IDX1251"></a>
<a name="IDX1252"></a>
<a name="IDX1253"></a>
<p>If <var>Key</var> is one of the elements in the association list <var>Assoc</var>,
return the associated value.
</p>
</dd>
<dt> <code>get_assoc(+<var>Key</var>,+<var>Assoc</var>,?<var>Value</var>,+<var>NAssoc</var>,?<var>NValue</var>)</code></dt>
<dd><a name="IDX1254"></a>
<a name="IDX1255"></a>
<a name="IDX1256"></a>
<p>If <var>Key</var> is one of the elements in the association list <var>Assoc</var>,
return the associated value <var>Value</var> and a new association list
<var>NAssoc</var> where <var>Key</var> is associated with <var>NValue</var>.
</p>
</dd>
<dt> <code>get_prev_assoc(+<var>Key</var>,+<var>Assoc</var>,?<var>Next</var>,?<var>Value</var>)</code></dt>
<dd><a name="IDX1257"></a>
<a name="IDX1258"></a>
<a name="IDX1259"></a>
<p>If <var>Key</var> is one of the elements in the association list <var>Assoc</var>,
return the previous key, <var>Next</var>, and its value, <var>Value</var>.
</p>
</dd>
<dt> <code>get_next_assoc(+<var>Key</var>,+<var>Assoc</var>,?<var>Next</var>,?<var>Value</var>)</code></dt>
<dd><a name="IDX1260"></a>
<a name="IDX1261"></a>
<a name="IDX1262"></a>
<p>If <var>Key</var> is one of the elements in the association list <var>Assoc</var>,
return the next key, <var>Next</var>, and its value, <var>Value</var>.
</p>
</dd>
<dt> <code>is_assoc(+<var>Assoc</var>)</code></dt>
<dd><a name="IDX1263"></a>
<a name="IDX1264"></a>
<a name="IDX1265"></a>
<p>Succeeds if <var>Assoc</var> is an association list, that is, if it is a
red-black tree.
</p>
</dd>
<dt> <code>list_to_assoc(+<var>List</var>,?<var>Assoc</var>)</code></dt>
<dd><a name="IDX1266"></a>
<a name="IDX1267"></a>
<a name="IDX1268"></a>
<p>Given a list <var>List</var> such that each element of <var>List</var> is of the
form <var>Key-Val</var>, and all the <var>Keys</var> are unique, <var>Assoc</var> is
the corresponding association list.
</p>
</dd>
<dt> <code>map_assoc(+<var>Pred</var>,+<var>Assoc</var>)</code></dt>
<dd><a name="IDX1269"></a>
<a name="IDX1270"></a>
<a name="IDX1271"></a>
<p>Succeeds if the unary predicate name <var>Pred</var>(<var>Val</var>) holds for every
element in the association list.
</p>
</dd>
<dt> <code>map_assoc(+<var>Pred</var>,+<var>Assoc</var>,?<var>New</var>)</code></dt>
<dd><a name="IDX1272"></a>
<a name="IDX1273"></a>
<a name="IDX1274"></a>
<p>Given the binary predicate name <var>Pred</var> and the association list
<var>Assoc</var>, <var>New</var> in an association list with keys in <var>Assoc</var>,
and such that if <var>Key-Val</var> is in <var>Assoc</var>, and <var>Key-Ans</var> is in
<var>New</var>, then <var>Pred</var>(<var>Val</var>,<var>Ans</var>) holds.
</p>
</dd>
<dt> <code>max_assoc(+<var>Assoc</var>,-<var>Key</var>,?<var>Value</var>)</code></dt>
<dd><a name="IDX1275"></a>
<a name="IDX1276"></a>
<a name="IDX1277"></a>
<p>Given the association list
<var>Assoc</var>, <var>Key</var> in the largest key in the list, and <var>Value</var>
the associated value.
</p>
</dd>
<dt> <code>min_assoc(+<var>Assoc</var>,-<var>Key</var>,?<var>Value</var>)</code></dt>
<dd><a name="IDX1278"></a>
<a name="IDX1279"></a>
<a name="IDX1280"></a>
<p>Given the association list
<var>Assoc</var>, <var>Key</var> in the smallest key in the list, and <var>Value</var>
the associated value.
</p>
</dd>
<dt> <code>ord_list_to_assoc(+<var>List</var>,?<var>Assoc</var>)</code></dt>
<dd><a name="IDX1281"></a>
<a name="IDX1282"></a>
<a name="IDX1283"></a>
<p>Given an ordered list <var>List</var> such that each element of <var>List</var> is
of the form <var>Key-Val</var>, and all the <var>Keys</var> are unique, <var>Assoc</var> is
the corresponding association list.
</p>
</dd>
<dt> <code>put_assoc(+<var>Key</var>,+<var>Assoc</var>,+<var>Val</var>,+<var>New</var>)</code></dt>
<dd><a name="IDX1284"></a>
<a name="IDX1285"></a>
<a name="IDX1286"></a>
<p>The association list <var>New</var> includes and element of association
<var>key</var> with <var>Val</var>, and all elements of <var>Assoc</var> that did not
have key <var>Key</var>.
</p>
</dd>
</dl>

<hr size="6">
<a name="AVL-Trees"></a>
<a name="SEC75"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC74" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC76" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC72" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.3 AVL Trees </h2>

<p>AVL trees are balanced search binary trees. They are named after their
inventors, Adelson-Velskii and Landis, and they were the first
dynamically balanced trees to be proposed. The YAP AVL tree manipulation
predicates library uses code originally written by Martin van Emdem and
published in the Logic Programming Newsletter, Autumn 1981.  A bug in
this code was fixed by Philip Vasey, in the Logic Programming
Newsletter, Summer 1982. The library currently only includes routines to
insert and lookup elements in the tree. Please try red-black trees if
you need deletion.
</p>
<dl compact="compact">
<dt> <code>avl_new(+<var>T</var>)</code></dt>
<dd><a name="IDX1287"></a>
<a name="IDX1288"></a>
<a name="IDX1289"></a>
<p>Create a new tree.
</p>
</dd>
<dt> <code>avl_insert(+<var>Key</var>,?<var>Value</var>,+<var>T0</var>,-<var>TF</var>)</code></dt>
<dd><a name="IDX1290"></a>
<a name="IDX1291"></a>
<a name="IDX1292"></a>
<p>Add an element with key <var>Key</var> and <var>Value</var> to the AVL tree
<var>T0</var> creating a new AVL tree <var>TF</var>. Duplicated elements are
allowed.
</p>
</dd>
<dt> <code>avl_lookup(+<var>Key</var>,-<var>Value</var>,+<var>T</var>)</code></dt>
<dd><a name="IDX1293"></a>
<a name="IDX1294"></a>
<a name="IDX1295"></a>
<p>Lookup an element with key <var>Key</var> in the AVL tree
<var>T</var>, returning the value <var>Value</var>.
</p>
</dd>
</dl>

<hr size="6">
<a name="Heaps"></a>
<a name="SEC76"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC75" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC77" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC72" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.4 Heaps </h2>

<p>A heap is a labelled binary tree where the key of each node is less than
or equal to the keys of its sons.  The point of a heap is that we can
keep on adding new elements to the heap and we can keep on taking out
the minimum element.  If there are N elements total, the total time is
O(NlgN).  If you know all the elements in advance, you are better off
doing a merge-sort, but this file is for when you want to do say a
best-first search, and have no idea when you start how many elements
there will be, let alone what they are.
</p>
<p>The following heap manipulation routines are available once included
with the <code>use_module(library(heaps))</code> command. 
</p>
<dl compact="compact">
<dt> <code>add_to_heap(+<var>Heap</var>,+<var>key</var>,+<var>Datum</var>,-<var>NewHeap</var>)</code></dt>
<dd><a name="IDX1296"></a>
<a name="IDX1297"></a>
<a name="IDX1298"></a>
<p>Inserts the new <var>Key-Datum</var> pair into the heap. The insertion is not
stable, that is, if you insert several pairs with the same <var>Key</var> it
is not defined which of them will come out first, and it is possible for
any of them to come out first depending on the  history of the heap.
</p>
</dd>
<dt> <code>empty_heap(?<var>Heap</var>)</code></dt>
<dd><a name="IDX1299"></a>
<a name="IDX1300"></a>
<a name="IDX1301"></a>
<p>Succeeds if <var>Heap</var> is an empty heap.
</p>
</dd>
<dt> <code>get_from_heap(+<var>Heap</var>,-<var>key</var>,-<var>Datum</var>,-<var>Heap</var>)</code></dt>
<dd><a name="IDX1302"></a>
<a name="IDX1303"></a>
<a name="IDX1304"></a>
<p>Returns the <var>Key-Datum</var> pair in <var>OldHeap</var> with the smallest
<var>Key</var>, and also a <var>Heap</var> which is the <var>OldHeap</var> with that
pair deleted.
</p>
</dd>
<dt> <code>heap_size(+<var>Heap</var>, -<var>Size</var>)</code></dt>
<dd><a name="IDX1305"></a>
<a name="IDX1306"></a>
<a name="IDX1307"></a>
<p>Reports the number of elements currently in the heap.
</p>
</dd>
<dt> <code>heap_to_list(+<var>Heap</var>, -<var>List</var>)</code></dt>
<dd><a name="IDX1308"></a>
<a name="IDX1309"></a>
<a name="IDX1310"></a>
<p>Returns the current set of <var>Key-Datum</var> pairs in the <var>Heap</var> as a
<var>List</var>, sorted into ascending order of <var>Keys</var>.
</p>
</dd>
<dt> <code>list_to_heap(+<var>List</var>, -<var>Heap</var>)</code></dt>
<dd><a name="IDX1311"></a>
<a name="IDX1312"></a>
<a name="IDX1313"></a>
<p>Takes a list of <var>Key-Datum</var> pairs (such as keysort could be used to sort)
and forms them into a heap.
</p>
</dd>
<dt> <code>min_of_heap(+<var>Heap</var>,  -<var>Key</var>,  -<var>Datum</var>)</code></dt>
<dd><a name="IDX1314"></a>
<a name="IDX1315"></a>
<a name="IDX1316"></a>
<p>Returns the Key-Datum pair at the top of the heap (which is of course
the pair with the smallest Key), but does not remove it from the heap.
</p>
</dd>
<dt> <code>min_of_heap(+<var>Heap</var>,  -<var>Key1</var>,  -<var>Datum1</var>,</code></dt>
<dd><p>-<var>Key2</var>,  -<var>Datum2</var>)
<a name="IDX1317"></a>
<a name="IDX1318"></a>
<a name="IDX1319"></a>
Returns the smallest (Key1) and second smallest (Key2) pairs in the
heap, without deleting them.
</p></dd>
</dl>

<hr size="6">
<a name="Lists"></a>
<a name="SEC77"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC76" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC78" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC72" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.5 List Manipulation </h2>

<p>The following list manipulation routines are available once included
with the <code>use_module(library(lists))</code> command. 
</p>
<dl compact="compact">
<dt> <code>append(?<var>Prefix</var>,?<var>Suffix</var>,?<var>Combined</var>)</code></dt>
<dd><a name="IDX1320"></a>
<a name="IDX1321"></a>
<a name="IDX1322"></a>
<p>True when all three arguments are lists, and the members of
<var>Combined</var> are the members of <var>Prefix</var> followed by the members of <var>Suffix</var>.
It may be used to form <var>Combined</var> from a given <var>Prefix</var>, <var>Suffix</var> or to take
a given <var>Combined</var> apart.
</p>
</dd>
<dt> <code>append(?<var>Lists</var>,?<var>Combined</var>)</code></dt>
<dd><a name="IDX1323"></a>
<a name="IDX1324"></a>
<a name="IDX1325"></a>
<p>Holds if the lists of <var>Lists</var> can be concatenated as a
<var>Combined</var> list.
</p>
</dd>
<dt> <code>delete(+<var>List</var>, ?<var>Element</var>, ?<var>Residue</var>)</code></dt>
<dd><a name="IDX1326"></a>
<a name="IDX1327"></a>
<a name="IDX1328"></a>
<p>True when <var>List</var> is a list, in which <var>Element</var> may or may not
occur, and <var>Residue</var> is a copy of <var>List</var> with all elements
identical to <var>Element</var> deleted.
</p>
</dd>
<dt> <code>flatten(+<var>List</var>, ?<var>FlattenedList</var>)</code></dt>
<dd><a name="IDX1329"></a>
<a name="IDX1330"></a>
<a name="IDX1331"></a>
<p>Flatten a list of lists <var>List</var> into a single list
<var>FlattenedList</var>.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">?- flatten([[1],[2,3],[4,[5,6],7,8]],L).

L = [1,2,3,4,5,6,7,8] ? ;

no
</pre></td></tr></table>

</dd>
<dt> <code>is_list(+<var>List</var>)</code></dt>
<dd><a name="IDX1332"></a>
<a name="IDX1333"></a>
<a name="IDX1334"></a>
<p>True when <var>List</var> is a proper list. That is, <var>List</var>
is bound to the empty list (nil) or a term with functor '.' and arity 2.
</p>
</dd>
<dt> <code>last(+<var>List</var>,?<var>Last</var>)</code></dt>
<dd><a name="IDX1335"></a>
<a name="IDX1336"></a>
<a name="IDX1337"></a>
<p>True when <var>List</var> is a list and <var>Last</var> is identical to its last element.
</p>
</dd>
<dt> <code>list_concat(+<var>Lists</var>,?<var>List</var>)</code></dt>
<dd><a name="IDX1338"></a>
<a name="IDX1339"></a>
<a name="IDX1340"></a>
<p>True when <var>Lists</var> is a list of lists and <var>List</var> is the
concatenation of <var>Lists</var>.
</p>
</dd>
<dt> <code>member(?<var>Element</var>, ?<var>Set</var>)</code></dt>
<dd><a name="IDX1341"></a>
<a name="IDX1342"></a>
<a name="IDX1343"></a>
<p>True when <var>Set</var> is a list, and <var>Element</var> occurs in it.  It may be used
to test for an element or to enumerate all the elements by backtracking.
</p>
</dd>
<dt> <code>memberchk(+<var>Element</var>, +<var>Set</var>)</code></dt>
<dd><a name="IDX1344"></a>
<a name="IDX1345"></a>
<a name="IDX1346"></a>
<p>As <code>member/2</code>, but may only be used to test whether a known
<var>Element</var> occurs in a known Set.  In return for this limited use, it
is more efficient when it is applicable.
</p>
</dd>
<dt> <code>nth0(?<var>N</var>, ?<var>List</var>, ?<var>Elem</var>)</code></dt>
<dd><a name="IDX1347"></a>
<a name="IDX1348"></a>
<a name="IDX1349"></a>
<p>True when <var>Elem</var> is the Nth member of <var>List</var>,
counting the first as element 0.  (That is, throw away the first
N elements and unify <var>Elem</var> with the next.)  It can only be used to
select a particular element given the list and index.  For that
task it is more efficient than <code>member/2</code>
</p>
</dd>
<dt> <code>nth(?<var>N</var>, ?<var>List</var>, ?<var>Elem</var>)</code></dt>
<dd><a name="IDX1350"></a>
<a name="IDX1351"></a>
<a name="IDX1352"></a>
<p>The same as <code>nth0/3</code>, except that it counts from
1, that is <code>nth(1, [H|_], H)</code>.
</p>
</dd>
<dt> <code>nth0(?<var>N</var>, ?<var>List</var>, ?<var>Elem</var>, ?<var>Rest</var>)</code></dt>
<dd><a name="IDX1353"></a>
<a name="IDX1354"></a>
<a name="IDX1355"></a>
<p>Unifies <var>Elem</var> with the Nth element of <var>List</var>,
counting from 0, and <var>Rest</var> with the other elements.  It can be used
to select the Nth element of <var>List</var> (yielding <var>Elem</var> and <var>Rest</var>), or to
insert <var>Elem</var> before the Nth (counting from 1) element of <var>Rest</var>, when
it yields <var>List</var>, e.g. <code>nth0(2, List, c, [a,b,d,e])</code> unifies List with
<code>[a,b,c,d,e]</code>.  <code>nth/4</code> is the same except that it counts from 1.  <code>nth0/4</code>
can be used to insert <var>Elem</var> after the Nth element of <var>Rest</var>.
</p>
</dd>
<dt> <code>nth(?<var>N</var>, ?<var>List</var>, ?<var>Elem</var>, ?<var>Rest</var>)</code></dt>
<dd><a name="IDX1356"></a>
<a name="IDX1357"></a>
<a name="IDX1358"></a>
<p>Unifies <var>Elem</var> with the Nth element of <var>List</var>, counting from 1,
and <var>Rest</var> with the other elements.  It can be used to select the
Nth element of <var>List</var> (yielding <var>Elem</var> and <var>Rest</var>), or to
insert <var>Elem</var> before the Nth (counting from 1) element of
<var>Rest</var>, when it yields <var>List</var>, e.g. <code>nth(1, List, c,
[a,b,d,e])</code> unifies List with <code>[a,b,c,d,e]</code>.  <code>nth/4</code>
can be used to insert <var>Elem</var> after the Nth element of <var>Rest</var>.
</p>
</dd>
<dt> <code>permutation(+<var>List</var>,?<var>Perm</var>)</code></dt>
<dd><a name="IDX1359"></a>
<a name="IDX1360"></a>
<a name="IDX1361"></a>
<p>True when <var>List</var> and <var>Perm</var> are permutations of each other.
</p>
</dd>
<dt> <code>remove_duplicates(+<var>List</var>, ?<var>Pruned</var>)</code></dt>
<dd><a name="IDX1362"></a>
<a name="IDX1363"></a>
<a name="IDX1364"></a>
<p>Removes duplicated elements from <var>List</var>.  Beware: if the <var>List</var> has
non-ground elements, the result may surprise you.
</p>
</dd>
<dt> <code>reverse(+<var>List</var>, ?<var>Reversed</var>)</code></dt>
<dd><a name="IDX1365"></a>
<a name="IDX1366"></a>
<a name="IDX1367"></a>
<p>True when <var>List</var> and <var>Reversed</var> are lists with the same elements
but in opposite orders. 
</p> 
</dd>
<dt> <code>same_length(?<var>List1</var>, ?<var>List2</var>)</code></dt>
<dd><a name="IDX1368"></a>
<a name="IDX1369"></a>
<a name="IDX1370"></a>
<p>True when <var>List1</var> and <var>List2</var> are both lists and have the same number
of elements.  No relation between the values of their elements is
implied.
Modes <code>same_length(-,+)</code> and <code>same_length(+,-)</code> generate either list given
the other; mode <code>same_length(-,-)</code> generates two lists of the same length,
in which case the arguments will be bound to lists of length 0, 1, 2, ...
</p>
</dd>
<dt> <code>select(?<var>Element</var>, ?<var>Set</var>, ?<var>Residue</var>)</code></dt>
<dd><a name="IDX1371"></a>
<a name="IDX1372"></a>
<a name="IDX1373"></a>
<p>True when <var>Set</var> is a list, <var>Element</var> occurs in <var>Set</var>, and <var>Residue</var> is
everything in <var>Set</var> except <var>Element</var> (things stay in the same order).
</p> 
</dd>
<dt> <code>sublist(?<var>Sublist</var>, ?<var>List</var>)</code></dt>
<dd><a name="IDX1374"></a>
<a name="IDX1375"></a>
<a name="IDX1376"></a>
<p>True when both <code>append(_,Sublist,S)</code> and <code>append(S,_,List)</code> hold.
</p> 
</dd>
<dt> <code>suffix(?<var>Suffix</var>, ?<var>List</var>)</code></dt>
<dd><a name="IDX1377"></a>
<a name="IDX1378"></a>
<a name="IDX1379"></a>
<p>Holds when <code>append(_,Suffix,List)</code> holds.
</p>
</dd>
<dt> <code>sum_list(?<var>Numbers</var>, ?<var>Total</var>)</code></dt>
<dd><a name="IDX1380"></a>
<a name="IDX1381"></a>
<a name="IDX1382"></a>
<p>True when <var>Numbers</var> is a list of numbers, and <var>Total</var> is their sum.
</p>
</dd>
<dt> <code>sumlist(?<var>Numbers</var>, ?<var>Total</var>)</code></dt>
<dd><a name="IDX1383"></a>
<a name="IDX1384"></a>
<a name="IDX1385"></a>
<p>True when <var>Numbers</var> is a list of integers, and <var>Total</var> is their
sum. The same as <code>sum_list/2</code>, please do use <code>sum_list/2</code>
instead.
</p>
</dd>
<dt> <code>max_list(?<var>Numbers</var>, ?<var>Max</var>)</code></dt>
<dd><a name="IDX1386"></a>
<a name="IDX1387"></a>
<a name="IDX1388"></a>
<p>True when <var>Numbers</var> is a list of numbers, and <var>Max</var> is the maximum.
</p>
</dd>
<dt> <code>min_list(?<var>Numbers</var>, ?<var>Min</var>)</code></dt>
<dd><a name="IDX1389"></a>
<a name="IDX1390"></a>
<a name="IDX1391"></a>
<p>True when <var>Numbers</var> is a list of numbers, and <var>Min</var> is the minimum.
</p>
</dd>
</dl>

<hr size="6">
<a name="matrix"></a>
<a name="SEC78"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC77" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC79" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC72" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.6 Matrix Library </h2>

<p>This package provides a fast implementation of multi-dimensional
matrices of integers and floats. In contrast to dynamic arrays, these
matrices are multi-dimensional and compact. In contrast to static
arrays. these arrays are allocated in the stack. Matrices are available
by loading the library <code>library(matrix)</code>.
</p>
<p>Notice that the functionality in this library is only partial. Please
contact the YAP maintainers if you need for extra functionality.
</p>
<dl compact="compact">
<dt> <code>matrix_new(+<var>Type</var>,+<var>Dims</var>,-<var>Matrix</var>)</code></dt>
<dd><a name="IDX1392"></a>
<a name="IDX1393"></a>
<a name="IDX1394"></a>

<p>Create a new matrix <var>Matrix</var> of type <var>Type</var>, which may be one of
<code>ints</code> or <code>floats</code>, and with a list of dimensions <var>Dims</var>.
The matrix will be initialised to zeros.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">?- matrix_new(ints,[2,3],Matrix).

Matrix = 0
</pre></td></tr></table>
<p>Notice that currently YAP will always write a matrix as <code>0</code>.
</p>
</dd>
<dt> <code>matrix_new(+<var>Type</var>,+<var>Dims</var>,+<var>List</var>,-<var>Matrix</var>)</code></dt>
<dd><a name="IDX1395"></a>
<a name="IDX1396"></a>
<a name="IDX1397"></a>

<p>Create a new matrix <var>Matrix</var> of type <var>Type</var>, which may be one of
<code>ints</code> or <code>floats</code>, with dimensions <var>Dims</var>, and
initialised from list <var>List</var>.
</p>
</dd>
<dt> <code>matrix_new_set(?<var>Dims</var>,+<var>OldMatrix</var>,+<var>Value</var>,-<var>NewMatrix</var>)</code></dt>
<dd><a name="IDX1398"></a>
<a name="IDX1399"></a>
<a name="IDX1400"></a>

<p>Create a new matrix <var>NewMatrix</var> of type <var>Type</var>, with dimensions
<var>Dims</var>. The elements of <var>NewMatrix</var> are set to <var>Value</var>.
</p>
</dd>
<dt> <code>matrix_dims(+<var>Matrix</var>,-<var>Dims</var>)</code></dt>
<dd><a name="IDX1401"></a>
<a name="IDX1402"></a>
<a name="IDX1403"></a>

<p>Unify <var>Dims</var> with a list of dimensions for <var>Matrix</var>.
</p>
</dd>
<dt> <code>matrix_ndims(+<var>Matrix</var>,-<var>Dims</var>)</code></dt>
<dd><a name="IDX1404"></a>
<a name="IDX1405"></a>
<a name="IDX1406"></a>

<p>Unify <var>NDims</var> with the number of dimensions for <var>Matrix</var>.
</p>
</dd>
<dt> <code>matrix_size(+<var>Matrix</var>,-<var>NElems</var>)</code></dt>
<dd><a name="IDX1407"></a>
<a name="IDX1408"></a>
<a name="IDX1409"></a>

<p>Unify <var>NElems</var> with the number of elements for <var>Matrix</var>.
</p>
</dd>
<dt> <code>matrix_type(+<var>Matrix</var>,-<var>Type</var>)</code></dt>
<dd><a name="IDX1410"></a>
<a name="IDX1411"></a>
<a name="IDX1412"></a>

<p>Unify <var>NElems</var> with the type of the elements in <var>Matrix</var>.
</p>
</dd>
<dt> <code>matrix_to_list(+<var>Matrix</var>,-<var>Elems</var>)</code></dt>
<dd><a name="IDX1413"></a>
<a name="IDX1414"></a>
<a name="IDX1415"></a>

<p>Unify <var>Elems</var> with the list including all the elements in <var>Matrix</var>.
</p>
</dd>
<dt> <code>matrix_get(+<var>Matrix</var>,+<var>Position</var>,-<var>Elem</var>)</code></dt>
<dd><a name="IDX1416"></a>
<a name="IDX1417"></a>
<a name="IDX1418"></a>

<p>Unify <var>Elem</var> with the element of <var>Matrix</var> at position
<var>Position</var>.
</p>
</dd>
<dt> <code>matrix_set(+<var>Matrix</var>,+<var>Position</var>,+<var>Elem</var>)</code></dt>
<dd><a name="IDX1419"></a>
<a name="IDX1420"></a>
<a name="IDX1421"></a>

<p>Set the element of <var>Matrix</var> at position
<var>Position</var> to  <var>Elem</var>.
</p>
</dd>
<dt> <code>matrix_set_all(+<var>Matrix</var>,+<var>Elem</var>)</code></dt>
<dd><a name="IDX1422"></a>
<a name="IDX1423"></a>
<a name="IDX1424"></a>

<p>Set all element of <var>Matrix</var> to <var>Elem</var>.
</p>
</dd>
<dt> <code>matrix_add(+<var>Matrix</var>,+<var>Position</var>,+<var>Operand</var>)</code></dt>
<dd><a name="IDX1425"></a>
<a name="IDX1426"></a>
<a name="IDX1427"></a>

<p>Add <var>Operand</var> to the element of <var>Matrix</var> at position
<var>Position</var>.
</p>
</dd>
<dt> <code>matrix_inc(+<var>Matrix</var>,+<var>Position</var>)</code></dt>
<dd><a name="IDX1428"></a>
<a name="IDX1429"></a>
<a name="IDX1430"></a>

<p>Increment the element of <var>Matrix</var> at position <var>Position</var>.
</p>
</dd>
<dt> <code>matrix_inc(+<var>Matrix</var>,+<var>Position</var>,-<var>Element</var>)</code></dt>
<dd><a name="IDX1431"></a>
<a name="IDX1432"></a>
<a name="IDX1433"></a>

<p>Increment the element of <var>Matrix</var> at position <var>Position</var> and
unify with <var>Element</var>.
</p>
</dd>
<dt> <code>matrix_dec(+<var>Matrix</var>,+<var>Position</var>)</code></dt>
<dd><a name="IDX1434"></a>
<a name="IDX1435"></a>
<a name="IDX1436"></a>

<p>Decrement the element of <var>Matrix</var> at position <var>Position</var>.
</p>
</dd>
<dt> <code>matrix_dec(+<var>Matrix</var>,+<var>Position</var>,-<var>Element</var>)</code></dt>
<dd><a name="IDX1437"></a>
<a name="IDX1438"></a>
<a name="IDX1439"></a>

<p>Decrement the element of <var>Matrix</var> at position <var>Position</var> and
unify with <var>Element</var>.
</p>
</dd>
<dt> <code>matrix_arg_to_offset(+<var>Matrix</var>,+<var>Position</var>,-<var>Offset</var>)</code></dt>
<dd><a name="IDX1440"></a>
<a name="IDX1441"></a>
<a name="IDX1442"></a>

<p>Given matrix <var>Matrix</var> return what is the numerical <var>Offset</var> of
the element at <var>Position</var>.
</p>
</dd>
<dt> <code>matrix_offset_to_arg(+<var>Matrix</var>,-<var>Offset</var>,+<var>Position</var>)</code></dt>
<dd><a name="IDX1443"></a>
<a name="IDX1444"></a>
<a name="IDX1445"></a>

<p>Given a position <var>Position </var> for matrix <var>Matrix</var> return the
corresponding numerical <var>Offset</var> from the beginning of the matrix.
</p>
</dd>
<dt> <code>matrix_max(+<var>Matrix</var>,+<var>Max</var>)</code></dt>
<dd><a name="IDX1446"></a>
<a name="IDX1447"></a>
<a name="IDX1448"></a>

<p>Unify <var>Max</var> with the maximum in matrix  <var>Matrix</var>.
</p>
</dd>
<dt> <code>matrix_maxarg(+<var>Matrix</var>,+<var>Maxarg</var>)</code></dt>
<dd><a name="IDX1449"></a>
<a name="IDX1450"></a>
<a name="IDX1451"></a>

<p>Unify <var>Max</var> with the position of the maximum in matrix  <var>Matrix</var>.
</p>
</dd>
<dt> <code>matrix_min(+<var>Matrix</var>,+<var>Min</var>)</code></dt>
<dd><a name="IDX1452"></a>
<a name="IDX1453"></a>
<a name="IDX1454"></a>

<p>Unify <var>Min</var> with the minimum in matrix  <var>Matrix</var>.
</p>
</dd>
<dt> <code>matrix_minarg(+<var>Matrix</var>,+<var>Minarg</var>)</code></dt>
<dd><a name="IDX1455"></a>
<a name="IDX1456"></a>
<a name="IDX1457"></a>

<p>Unify <var>Min</var> with the position of the minimum in matrix  <var>Matrix</var>.
</p>
</dd>
<dt> <code>matrix_sum(+<var>Matrix</var>,+<var>Sum</var>)</code></dt>
<dd><a name="IDX1458"></a>
<a name="IDX1459"></a>
<a name="IDX1460"></a>

<p>Unify <var>Sum</var> with the sum of all elements in matrix  <var>Matrix</var>.
</p>


</dd>
<dt> <code>matrix_agg_lines(+<var>Matrix</var>,+<var>Aggregate</var>)</code></dt>
<dd><a name="IDX1461"></a>
<a name="IDX1462"></a>
<a name="IDX1463"></a>

<p>If <var>Matrix</var> is a n-dimensional matrix, unify <var>Aggregate</var> with
the n-1 dimensional matrix where each element is obtained by adding all
Matrix elements with same last n-1 index.
</p>
</dd>
<dt> <code>matrix_agg_cols(+<var>Matrix</var>,+<var>Aggregate</var>)</code></dt>
<dd><a name="IDX1464"></a>
<a name="IDX1465"></a>
<a name="IDX1466"></a>

<p>If <var>Matrix</var> is a n-dimensional matrix, unify <var>Aggregate</var> with
the one dimensional matrix where each element is obtained by adding all
Matrix elements with same  first index.
</p>
</dd>
<dt> <code>matrix_op(+<var>Matrix1</var>,+<var>Matrix2</var>,+<var>Op</var>,-<var>Result</var>)</code></dt>
<dd><a name="IDX1467"></a>
<a name="IDX1468"></a>
<a name="IDX1469"></a>

<p><var>Result</var> is the result of applying <var>Op</var> to matrix <var>Matrix1</var>
and <var>Matrix2</var>. Currently, only addition (<code>+</code>) is supported.
</p>
</dd>
<dt> <code>matrix_op_to_all(+<var>Matrix1</var>,+<var>Op</var>,+<var>Operand</var>,-<var>Result</var>)</code></dt>
<dd><a name="IDX1470"></a>
<a name="IDX1471"></a>
<a name="IDX1472"></a>

<p><var>Result</var> is the result of applying <var>Op</var> to all elements of
<var>Matrix1</var>, with <var>Operand</var> as the second argument. Currently,
only addition (<code>+</code>), multiplication (<code>+</code>), and division
(<code>/</code>) are supported.
</p>
</dd>
<dt> <code>matrix_op_to_lines(+<var>Matrix1</var>,+<var>Lines</var>,+<var>Op</var>,-<var>Result</var>)</code></dt>
<dd><a name="IDX1473"></a>
<a name="IDX1474"></a>
<a name="IDX1475"></a>

<p><var>Result</var> is the result of applying <var>Op</var> to all elements of
<var>Matrix1</var>, with the corresponding element in <var>Lines</var> as the
second argument. Currently, only division (<code>/</code>) is supported.
</p>
</dd>
<dt> <code>matrix_op_to_cols(+<var>Matrix1</var>,+<var>Cols</var>,+<var>Op</var>,-<var>Result</var>)</code></dt>
<dd><a name="IDX1476"></a>
<a name="IDX1477"></a>
<a name="IDX1478"></a>

<p><var>Result</var> is the result of applying <var>Op</var> to all elements of
<var>Matrix1</var>, with the corresponding element in <var>Cols</var> as the
second argument. Currently, only addition (<code>+</code>) is
supported. Notice that <var>Cols</var> will have n-1 dimensions.
</p>
</dd>
<dt> <code>matrix_shuffle(+<var>Matrix</var>,+<var>NewOrder</var>,-<var>Shuffle</var>)</code></dt>
<dd><a name="IDX1479"></a>
<a name="IDX1480"></a>
<a name="IDX1481"></a>

<p>Shuffle the dimensions of matrix <var>Matrix</var> according to
<var>NewOrder</var>. The list <var>NewOrder</var> must have all the dimensions of
<var>Matrix</var>, starting from 0.
</p>
</dd>
<dt> <code>matrix_transpose(+<var>Matrix</var>,-<var>Transpose</var>)</code></dt>
<dd><a name="IDX1482"></a>
<a name="IDX1483"></a>
<a name="IDX1484"></a>

<p>Transpose matrix <var>Matrix</var> to  <var>Transpose</var>. Equivalent to:
</p><table><tr><td>&nbsp;</td><td><pre class="example">matrix_transpose(Matrix,Transpose) :-
        matrix_shuffle(Matrix,[1,0],Transpose).
</pre></td></tr></table>

</dd>
<dt> <code>matrix_expand(+<var>Matrix</var>,+<var>NewDimensions</var>,-<var>New</var>)</code></dt>
<dd><a name="IDX1485"></a>
<a name="IDX1486"></a>
<a name="IDX1487"></a>

<p>Expand <var>Matrix</var> to occupy new dimensions. The elements in
<var>NewDimensions</var> are either 0, for an existing dimension, or a
positive integer with the size of the new dimension.
</p>
</dd>
<dt> <code>matrix_select(+<var>Matrix</var>,+<var>Dimension</var>,+<var>Index</var>,-<var>New</var>)</code></dt>
<dd><a name="IDX1488"></a>
<a name="IDX1489"></a>
<a name="IDX1490"></a>

<p>Select from <var>Matrix</var> the elements who have <var>Index</var> at
<var>Dimension</var>.
</p>
</dd>
</dl>

<hr size="6">
<a name="MATLAB"></a>
<a name="SEC79"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC78" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC80" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC72" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.7 MATLAB Package Interface </h2>

<p>The MathWorks MATLAB is a widely used package for array
processing. YAP now includes a straightforward interface to MATLAB. To
actually use it, you need to install YAP calling <code>configure</code> with
the <code>--with-matlab=DIR</code> option, and you need to call
<code>use_module(library(lists))</code> command.
</p>
<dl compact="compact">
<dt> <code>start_matlab(+<var>Options</var>)</code></dt>
<dd><a name="IDX1491"></a>
<a name="IDX1492"></a>
<a name="IDX1493"></a>
<p>Start a matlab session. The argument <var>Options</var> may either be the
empty string/atom or the command to call matlab. The command may fail.
</p>
</dd>
<dt> <code>close_matlab</code></dt>
<dd><a name="IDX1494"></a>
<a name="IDX1495"></a>
<a name="IDX1496"></a>
<p>Stop the current matlab session.
</p>
</dd>
<dt> <code>matlab_on</code></dt>
<dd><a name="IDX1497"></a>
<a name="IDX1498"></a>
<a name="IDX1499"></a>
<p>Holds if a matlab session is on.
</p>
</dd>
<dt> <code>matlab_eval_string(+<var>Command</var>)</code></dt>
<dd><a name="IDX1500"></a>
<a name="IDX1501"></a>
<a name="IDX1502"></a>
<p>Holds if matlab evaluated successfully the command <var>Command</var>.
</p>
</dd>
<dt> <code>matlab_eval_string(+<var>Command</var>, -<var>Answer</var>)</code></dt>
<dd><a name="IDX1503"></a>
<a name="IDX1504"></a>
<a name="IDX1505"></a>
<p>MATLAB will evaluate the command <var>Command</var> and unify <var>Answer</var>
with a string reporting the result.
</p>

</dd>
<dt> <code>matlab_cells(+<var>Size</var>, ?<var>Array</var>)</code></dt>
<dd><a name="IDX1506"></a>
<a name="IDX1507"></a>
<a name="IDX1508"></a>
<p>MATLAB will create an empty vector of cells of size <var>Size</var>, and if
<var>Array</var> is bound to an atom, store the array in the matlab
variable with name <var>Array</var>. Corresponds to the MATLAB command <code>cells</code>.
</p>

</dd>
<dt> <code>matlab_cells(+<var>SizeX</var>, +<var>SizeY</var>, ?<var>Array</var>)</code></dt>
<dd><a name="IDX1509"></a>
<a name="IDX1510"></a>
<a name="IDX1511"></a>
<p>MATLAB will create an empty array of cells of size <var>SizeX</var> and
<var>SizeY</var>, and if <var>Array</var> is bound to an atom, store the array
in the matlab variable with name <var>Array</var>.  Corresponds to the
MATLAB command <code>cells</code>.
</p>
</dd>
<dt> <code>matlab_initialized_cells(+<var>SizeX</var>, +<var>SizeY</var>, +<var>List</var>, ?<var>Array</var>)</code></dt>
<dd><a name="IDX1512"></a>
<a name="IDX1513"></a>
<a name="IDX1514"></a>
<p>MATLAB will create an array of cells of size <var>SizeX</var> and
<var>SizeY</var>, initialized from the list <var>List</var>, and if <var>Array</var>
is bound to an atom, store the array in the matlab variable with name
<var>Array</var>.
</p>
</dd>
<dt> <code>matlab_matrix(+<var>SizeX</var>, +<var>SizeY</var>, +<var>List</var>, ?<var>Array</var>)</code></dt>
<dd><a name="IDX1515"></a>
<a name="IDX1516"></a>
<a name="IDX1517"></a>
<p>MATLAB will create an array of floats of size <var>SizeX</var> and <var>SizeY</var>,
initialized from the list <var>List</var>, and if <var>Array</var> is bound to
an atom, store the array in the matlab variable with name <var>Array</var>.
</p>
</dd>
<dt> <code>matlab_set(+<var>MatVar</var>, +<var>X</var>, +<var>Y</var>, +<var>Value</var>)</code></dt>
<dd><a name="IDX1518"></a>
<a name="IDX1519"></a>
<a name="IDX1520"></a>
<p>Call MATLAB to set element <var>MatVar</var>(<var>X</var>, <var>Y</var>) to
<var>Value</var>. Notice that this command uses the MATLAB array access
convention.
</p>
</dd>
<dt> <code>matlab_get_variable(+<var>MatVar</var>, -<var>List</var>)</code></dt>
<dd><a name="IDX1521"></a>
<a name="IDX1522"></a>
<a name="IDX1523"></a>
<p>Unify MATLAB variable <var>MatVar</var> with the List <var>List</var>.
</p>
</dd>
<dt> <code>matlab_item(+<var>MatVar</var>, +<var>X</var>, ?<var>Val</var>)</code></dt>
<dd><a name="IDX1524"></a>
<a name="IDX1525"></a>
<a name="IDX1526"></a>
<p>Read or set MATLAB <var>MatVar</var>(<var>X</var>) from/to <var>Val</var>. Use
<code>C</code> notation for matrix access (ie, starting from 0).
</p>
</dd>
<dt> <code>matlab_item(+<var>MatVar</var>, +<var>X</var>, +<var>Y</var>, ?<var>Val</var>)</code></dt>
<dd><a name="IDX1527"></a>
<a name="IDX1528"></a>
<a name="IDX1529"></a>
<p>Read or set MATLAB <var>MatVar</var>(<var>X</var>,<var>Y</var>) from/to <var>Val</var>. Use
<code>C</code> notation for matrix access (ie, starting from 0).
</p>
</dd>
<dt> <code>matlab_item1(+<var>MatVar</var>, +<var>X</var>, ?<var>Val</var>)</code></dt>
<dd><a name="IDX1530"></a>
<a name="IDX1531"></a>
<a name="IDX1532"></a>
<p>Read or set MATLAB <var>MatVar</var>(<var>X</var>) from/to <var>Val</var>. Use
MATLAB notation for matrix access (ie, starting from 1).
</p>
</dd>
<dt> <code>matlab_item1(+<var>MatVar</var>, +<var>X</var>, +<var>Y</var>, ?<var>Val</var>)</code></dt>
<dd><a name="IDX1533"></a>
<a name="IDX1534"></a>
<a name="IDX1535"></a>
<p>Read or set MATLAB <var>MatVar</var>(<var>X</var>,<var>Y</var>) from/to <var>Val</var>. Use
MATLAB notation for matrix access (ie, starting from 1).
</p>
</dd>
<dt> <code>matlab_sequence(+<var>Min</var>, +<var>Max</var>, ?<var>Array</var>)</code></dt>
<dd><a name="IDX1536"></a>
<a name="IDX1537"></a>
<a name="IDX1538"></a>
<p>MATLAB will create a sequence going from <var>Min</var> to <var>Max</var>, and
if <var>Array</var> is bound to an atom, store the sequence in the matlab
variable with name <var>Array</var>.
</p>
</dd>
<dt> <code>matlab_vector(+<var>Size</var>, +<var>List</var>, ?<var>Array</var>)</code></dt>
<dd><a name="IDX1539"></a>
<a name="IDX1540"></a>
<a name="IDX1541"></a>
<p>MATLAB will create a vector of floats of size <var>Size</var>, initialized
from the list <var>List</var>, and if <var>Array</var> is bound to an atom,
store the array in the matlab variable with name <var>Array</var>.
</p>
</dd>
<dt> <code>matlab_zeros(+<var>Size</var>, ?<var>Array</var>)</code></dt>
<dd><a name="IDX1542"></a>
<a name="IDX1543"></a>
<a name="IDX1544"></a>
<p>MATLAB will create a vector of zeros of size <var>Size</var>, and if
<var>Array</var> is bound to an atom, store the array in the matlab
variable with name <var>Array</var>. Corresponds to the MATLAB command
<code>zeros</code>.
</p>
</dd>
<dt> <code>matlab_zeros(+<var>SizeX</var>, +<var>SizeY</var>, ?<var>Array</var>)</code></dt>
<dd><a name="IDX1545"></a>
<a name="IDX1546"></a>
<a name="IDX1547"></a>
<p>MATLAB will create an array of zeros of size <var>SizeX</var> and
<var>SizeY</var>, and if <var>Array</var> is bound to an atom, store the array
in the matlab variable with name <var>Array</var>.  Corresponds to the
MATLAB command <code>zeros</code>.
</p>

</dd>
<dt> <code>matlab_zeros(+<var>SizeX</var>, +<var>SizeY</var>, +<var>SizeZ</var>, ?<var>Array</var>)</code></dt>
<dd><a name="IDX1548"></a>
<a name="IDX1549"></a>
<a name="IDX1550"></a>
<p>MATLAB will create an array of zeros of size <var>SizeX</var>, <var>SizeY</var>,
and <var>SizeZ</var>. If <var>Array</var> is bound to an atom, store the array
in the matlab variable with name <var>Array</var>.  Corresponds to the
MATLAB command <code>zeros</code>.
</p>

</dd>
<dt> <code>matlab_zeros(+<var>SizeX</var>, +<var>SizeY</var>, +<var>SizeZ</var>, ?<var>Array</var>)</code></dt>
<dd><a name="IDX1551"></a>
<a name="IDX1552"></a>
<a name="IDX1553"></a>
<p>MATLAB will create an array of zeros of size <var>SizeX</var>, <var>SizeY</var>,
and <var>SizeZ</var>. If <var>Array</var> is bound to an atom, store the array
in the matlab variable with name <var>Array</var>.  Corresponds to the
MATLAB command <code>zeros</code>.
</p>



</dd>
</dl>

<hr size="6">
<a name="Non_002dBacktrackable-Data-Structures"></a>
<a name="SEC80"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC79" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC81" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC72" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.8 Non-Backtrackable Data Structures </h2>

<p>The following routines implement well-known data-structures using global
non-backtrackable variables (implemented on the Prolog stack). The
data-structures currently supported are Queues, Heaps, and Beam for Beam
search. They are allowed through <code>library(nb)</code>. 
</p>
<dl compact="compact">
<dt> <code>nb_queue(-<var>Queue</var>)</code></dt>
<dd><a name="IDX1554"></a>
<a name="IDX1555"></a>
<a name="IDX1556"></a>
<p>Create a <var>Queue</var>.
</p>
</dd>
<dt> <code>nb_queue_close(+<var>Queue</var>, -<var>Head</var>, ?<var>Tail</var>)</code></dt>
<dd><a name="IDX1557"></a>
<a name="IDX1558"></a>
<a name="IDX1559"></a>
<p>Unify the queue  <var>Queue</var> with a difference list
<var>Head</var>-<var>Tail</var>. The queue will now be empty and no further
elements can be added.
</p>
</dd>
<dt> <code>nb_queue_queue(+<var>Queue</var>, +<var>Element</var>)</code></dt>
<dd><a name="IDX1560"></a>
<a name="IDX1561"></a>
<a name="IDX1562"></a>
<p>Add <var>Element</var> to the front of the queue  <var>Queue</var>.
</p>
</dd>
<dt> <code>nb_queue_dequeue(+<var>Queue</var>, -<var>Element</var>)</code></dt>
<dd><a name="IDX1563"></a>
<a name="IDX1564"></a>
<a name="IDX1565"></a>
<p>Remove <var>Element</var> from the front of the queue  <var>Queue</var>. Fail if
the queue is empty.
</p>
</dd>
<dt> <code>nb_queue_peek(+<var>Queue</var>, -<var>Element</var>)</code></dt>
<dd><a name="IDX1566"></a>
<a name="IDX1567"></a>
<a name="IDX1568"></a>
<p><var>Element</var> is the front of the queue  <var>Queue</var>. Fail if
the queue is empty.
</p>
</dd>
<dt> <code>nb_queue_size(+<var>Queue</var>, -<var>Size</var>)</code></dt>
<dd><a name="IDX1569"></a>
<a name="IDX1570"></a>
<a name="IDX1571"></a>
<p>Unify <var>Size</var> with the number of elements in the queue  <var>Queue</var>.
</p>
</dd>
<dt> <code>nb_queue_empty(+<var>Queue</var>)</code></dt>
<dd><a name="IDX1572"></a>
<a name="IDX1573"></a>
<a name="IDX1574"></a>
<p>Succeeds if  <var>Queue</var> is empty.
</p>
</dd>
<dt> <code>nb_heap(+<var>DefaultSize</var>,-<var>Heap</var>)</code></dt>
<dd><a name="IDX1575"></a>
<a name="IDX1576"></a>
<a name="IDX1577"></a>
<p>Create a <var>Heap</var> with default size <var>DefaultSize</var>. Note that size
will expand as needed.
</p>
</dd>
<dt> <code>nb_heap_close(+<var>Heap</var>)</code></dt>
<dd><a name="IDX1578"></a>
<a name="IDX1579"></a>
<a name="IDX1580"></a>
<p>Close the heap <var>Heap</var>: no further elements can be added.
</p>
</dd>
<dt> <code>nb_heap_add(+<var>Heap</var>, +<var>Key</var>, +<var>Value</var>)</code></dt>
<dd><a name="IDX1581"></a>
<a name="IDX1582"></a>
<a name="IDX1583"></a>
<p>Add <var>Key</var>-<var>Value</var> to the heap <var>Heap</var>. The key is sorted on
<var>Key</var> only.
</p>
</dd>
<dt> <code>nb_heap_del(+<var>Heap</var>, -<var>Key</var>, -<var>Value</var>)</code></dt>
<dd><a name="IDX1584"></a>
<a name="IDX1585"></a>
<a name="IDX1586"></a>
<p>Remove element <var>Key</var>-<var>Value</var> with smallest <var>Value</var> in heap
<var>Heap</var>. Fail if the heap is empty.
</p>
</dd>
<dt> <code>nb_heap_peek(+<var>Heap</var>, -<var>Key</var>, -<var>Value</var>))</code></dt>
<dd><a name="IDX1587"></a>
<a name="IDX1588"></a>
<a name="IDX1589"></a>
<p><var>Key</var>-<var>Value</var> is the element with smallest <var>Key</var> in the heap
<var>Heap</var>. Fail if the heap is empty.
</p>
</dd>
<dt> <code>nb_heap_size(+<var>Heap</var>, -<var>Size</var>)</code></dt>
<dd><a name="IDX1590"></a>
<a name="IDX1591"></a>
<a name="IDX1592"></a>
<p>Unify <var>Size</var> with the number of elements in the heap  <var>Heap</var>.
</p>
</dd>
<dt> <code>nb_heap_empty(+<var>Heap</var>)</code></dt>
<dd><a name="IDX1593"></a>
<a name="IDX1594"></a>
<a name="IDX1595"></a>
<p>Succeeds if  <var>Heap</var> is empty.
</p>
</dd>
<dt> <code>nb_beam(+<var>DefaultSize</var>,-<var>Beam</var>)</code></dt>
<dd><a name="IDX1596"></a>
<a name="IDX1597"></a>
<a name="IDX1598"></a>
<p>Create a <var>Beam</var> with default size <var>DefaultSize</var>. Note that size
is fixed throughout.
</p>
</dd>
<dt> <code>nb_beam_close(+<var>Beam</var>)</code></dt>
<dd><a name="IDX1599"></a>
<a name="IDX1600"></a>
<a name="IDX1601"></a>
<p>Close the beam <var>Beam</var>: no further elements can be added.
</p>
</dd>
<dt> <code>nb_beam_add(+<var>Beam</var>, +<var>Key</var>, +<var>Value</var>)</code></dt>
<dd><a name="IDX1602"></a>
<a name="IDX1603"></a>
<a name="IDX1604"></a>
<p>Add <var>Key</var>-<var>Value</var> to the beam <var>Beam</var>. The key is sorted on
<var>Key</var> only.
</p>
</dd>
<dt> <code>nb_beam_del(+<var>Beam</var>, -<var>Key</var>, -<var>Value</var>)</code></dt>
<dd><a name="IDX1605"></a>
<a name="IDX1606"></a>
<a name="IDX1607"></a>
<p>Remove element <var>Key</var>-<var>Value</var> with smallest <var>Value</var> in beam
<var>Beam</var>. Fail if the beam is empty.
</p>
</dd>
<dt> <code>nb_beam_peek(+<var>Beam</var>, -<var>Key</var>, -<var>Value</var>))</code></dt>
<dd><a name="IDX1608"></a>
<a name="IDX1609"></a>
<a name="IDX1610"></a>
<p><var>Key</var>-<var>Value</var> is the element with smallest <var>Key</var> in the beam
<var>Beam</var>. Fail if the beam is empty.
</p>
</dd>
<dt> <code>nb_beam_size(+<var>Beam</var>, -<var>Size</var>)</code></dt>
<dd><a name="IDX1611"></a>
<a name="IDX1612"></a>
<a name="IDX1613"></a>
<p>Unify <var>Size</var> with the number of elements in the beam  <var>Beam</var>.
</p>
</dd>
<dt> <code>nb_beam_empty(+<var>Beam</var>)</code></dt>
<dd><a name="IDX1614"></a>
<a name="IDX1615"></a>
<a name="IDX1616"></a>
<p>Succeeds if  <var>Beam</var> is empty.
</p>
</dd>
</dl>


<hr size="6">
<a name="Ordered-Sets"></a>
<a name="SEC81"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC80" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC82" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC72" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.9 Ordered Sets </h2>

<p>The following ordered set manipulation routines are available once
included with the <code>use_module(library(ordsets))</code> command.  An
ordered set is represented by a list having unique and ordered
elements. Output arguments are guaranteed to be ordered sets, if the
relevant inputs are. This is a slightly patched version of Richard
O'Keefe's original library.
</p>
<dl compact="compact">
<dt> <code>list_to_ord_set(+<var>List</var>, ?<var>Set</var>)</code></dt>
<dd><a name="IDX1617"></a>
<a name="IDX1618"></a>
<a name="IDX1619"></a>
<p>Holds when <var>Set</var> is the ordered representation of the set
represented by the unordered representation <var>List</var>.
</p>
</dd>
<dt> <code>merge(+<var>List1</var>, +<var>List2</var>, -<var>Merged</var>)</code></dt>
<dd><a name="IDX1620"></a>
<a name="IDX1621"></a>
<a name="IDX1622"></a>
<p>Holds when <var>Merged</var> is the stable merge of the two given lists.
</p>
<p>Notice that <code>merge/3</code> will not remove duplicates, so merging
ordered sets will not necessarily result in an ordered set. Use
<code>ord_union/3</code> instead.
</p>
</dd>
<dt> <code>ord_add_element(+<var>Set1</var>, +<var>Element</var>, ?<var>Set2</var>)</code></dt>
<dd><a name="IDX1623"></a>
<a name="IDX1624"></a>
<a name="IDX1625"></a>
<p>Inserting <var>Element</var> in <var>Set1</var> returns <var>Set2</var>.  It should give
exactly the same result as <code>merge(Set1, [Element], Set2)</code>, but a
bit faster, and certainly more clearly. The same as <code>ord_insert/3</code>.
</p>
</dd>
<dt> <code>ord_del_element(+<var>Set1</var>, +<var>Element</var>, ?<var>Set2</var>)</code></dt>
<dd><a name="IDX1626"></a>
<a name="IDX1627"></a>
<a name="IDX1628"></a>
<p>Removing <var>Element</var> from <var>Set1</var> returns <var>Set2</var>.
</p>
</dd>
<dt> <code>ord_disjoint(+<var>Set1</var>, +<var>Set2</var>)</code></dt>
<dd><a name="IDX1629"></a>
<a name="IDX1630"></a>
<a name="IDX1631"></a>
<p>Holds when the two ordered sets have no element in common.
</p>
</dd>
<dt> <code>ord_member(+<var>Element</var>, +<var>Set</var>)</code></dt>
<dd><a name="IDX1632"></a>
<a name="IDX1633"></a>
<a name="IDX1634"></a>
<p>Holds when <var>Element</var> is a member of <var>Set</var>.
</p>
</dd>
<dt> <code>ord_insert(+<var>Set1</var>, +<var>Element</var>, ?<var>Set2</var>)</code></dt>
<dd><a name="IDX1635"></a>
<a name="IDX1636"></a>
<a name="IDX1637"></a>
<p>Inserting <var>Element</var> in <var>Set1</var> returns <var>Set2</var>.  It should give
exactly the same result as <code>merge(Set1, [Element], Set2)</code>, but a
bit faster, and certainly more clearly. The same as <code>ord_add_element/3</code>.
</p>
</dd>
<dt> <code>ord_intersect(+<var>Set1</var>, +<var>Set2</var>)</code></dt>
<dd><a name="IDX1638"></a>
<a name="IDX1639"></a>
<a name="IDX1640"></a>
<p>Holds when the two ordered sets have at least one element in common.
</p>
</dd>
<dt> <code>ord_intersection(+<var>Set1</var>, +<var>Set2</var>, ?<var>Intersection</var>)</code></dt>
<dd><a name="IDX1641"></a>
<a name="IDX1642"></a>
<a name="IDX1643"></a>
<p>Holds when Intersection is the ordered representation of <var>Set1</var>
and <var>Set2</var>.
</p>
</dd>
<dt> <code>ord_intersection(+<var>Set1</var>, +<var>Set2</var>, ?<var>Intersection</var>, ?<var>Diff</var>)</code></dt>
<dd><a name="IDX1644"></a>
<a name="IDX1645"></a>
<a name="IDX1646"></a>
<p>Holds when Intersection is the ordered representation of <var>Set1</var>
and <var>Set2</var>. <var>Diff</var> is the difference between <var>Set2</var> and <var>Set1</var>.
</p>
</dd>
<dt> <code>ord_seteq(+<var>Set1</var>, +<var>Set2</var>)</code></dt>
<dd><a name="IDX1647"></a>
<a name="IDX1648"></a>
<a name="IDX1649"></a>
<p>Holds when the two arguments represent the same set.
</p>
</dd>
<dt> <code>ord_setproduct(+<var>Set1</var>, +<var>Set2</var>, -<var>Set</var>)</code></dt>
<dd><a name="IDX1650"></a>
<a name="IDX1651"></a>
<a name="IDX1652"></a>
<p>If Set1 and Set2 are ordered sets, Product will be an ordered
set of x1-x2 pairs.
</p>
</dd>
<dt> <code>ord_subset(+<var>Set1</var>, +<var>Set2</var>)</code></dt>
<dd><a name="IDX1653"></a>
<a name="IDX1654"></a>
<a name="IDX1655"></a>
<p>Holds when every element of the ordered set <var>Set1</var> appears in the
ordered set <var>Set2</var>.
</p>
</dd>
<dt> <code>ord_subtract(+<var>Set1</var>, +<var>Set2</var>, ?<var>Difference</var>)</code></dt>
<dd><a name="IDX1656"></a>
<a name="IDX1657"></a>
<a name="IDX1658"></a>
<p>Holds when <var>Difference</var> contains all and only the elements of <var>Set1</var>
which are not also in <var>Set2</var>.
</p>
</dd>
<dt> <code>ord_symdiff(+<var>Set1</var>, +<var>Set2</var>, ?<var>Difference</var>)</code></dt>
<dd><a name="IDX1659"></a>
<a name="IDX1660"></a>
<a name="IDX1661"></a>
<p>Holds when <var>Difference</var> is the symmetric difference of <var>Set1</var>
and <var>Set2</var>.
</p>
</dd>
<dt> <code>ord_union(+<var>Sets</var>, ?<var>Union</var>)</code></dt>
<dd><a name="IDX1662"></a>
<a name="IDX1663"></a>
<a name="IDX1664"></a>
<p>Holds when <var>Union</var> is the union of the lists <var>Sets</var>.
</p>
</dd>
<dt> <code>ord_union(+<var>Set1</var>, +<var>Set2</var>, ?<var>Union</var>)</code></dt>
<dd><a name="IDX1665"></a>
<a name="IDX1666"></a>
<a name="IDX1667"></a>
<p>Holds when <var>Union</var> is the union of <var>Set1</var> and <var>Set2</var>.
</p>
</dd>
<dt> <code>ord_union(+<var>Set1</var>, +<var>Set2</var>, ?<var>Union</var>, ?<var>Diff</var>)</code></dt>
<dd><a name="IDX1668"></a>
<a name="IDX1669"></a>
<a name="IDX1670"></a>
<p>Holds when <var>Union</var> is the union of <var>Set1</var> and <var>Set2</var> and
<var>Diff</var> is the difference.
</p>
</dd>
</dl>

<hr size="6">
<a name="Pseudo-Random"></a>
<a name="SEC82"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC81" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC83" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC72" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.10 Pseudo Random Number Integer Generator </h2>

<p>The following routines produce random non-negative integers in the range
0 .. 2^(w-1) -1, where w is the word size available for integers, e.g.
32 for Intel machines and 64 for Alpha machines. Note that the numbers
generated by this random number generator are repeatable. This generator
was originally written by Allen Van Gelder and is based on Knuth Vol 2.
</p>
<dl compact="compact">
<dt> <code>rannum(-<var>I</var>)</code></dt>
<dd><a name="IDX1671"></a>
<a name="IDX1672"></a>
<a name="IDX1673"></a>
<p>Produces a random non-negative integer <var>I</var> whose low bits are not
all that random, so it should be scaled to a smaller range in general.
The integer <var>I</var> is in the range 0 .. 2^(w-1) - 1. You can use:
</p><table><tr><td>&nbsp;</td><td><pre class="example">rannum(X) :- yap_flag(max_integer,MI), rannum(R), X is R/MI.
</pre></td></tr></table>
<p>to obtain a floating point number uniformly distributed between 0 and 1.
</p>
</dd>
<dt> <code>ranstart</code></dt>
<dd><a name="IDX1674"></a>
<a name="IDX1675"></a>
<a name="IDX1676"></a>
<p>Initialize the random number generator using a built-in seed. The
<code>ranstart/0</code> built-in is always called by the system when loading
the package.
</p>
</dd>
<dt> <code>ranstart(+<var>Seed</var>)</code></dt>
<dd><a name="IDX1677"></a>
<a name="IDX1678"></a>
<a name="IDX1679"></a>
<p>Initialize the random number generator with user-defined <var>Seed</var>. The
same <var>Seed</var> always produces the same sequence of numbers.
</p>
</dd>
<dt> <code>ranunif(+<var>Range</var>,-<var>I</var>)</code></dt>
<dd><a name="IDX1680"></a>
<a name="IDX1681"></a>
<a name="IDX1682"></a>
<p><code>ranunif/2</code> produces a uniformly distributed non-negative random
integer <var>I</var> over a caller-specified range <var>R</var>.  If range is <var>R</var>,
the result is in 0 .. <var>R</var>-1.
</p>
</dd>
</dl>

<hr size="6">
<a name="Queues"></a>
<a name="SEC83"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC82" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC84" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC72" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.11 Queues </h2>

<p>The following queue manipulation routines are available once
included with the <code>use_module(library(queues))</code> command. Queues are
implemented with difference lists.
</p>
<dl compact="compact">
<dt> <code>make_queue(+<var>Queue</var>)</code></dt>
<dd><a name="IDX1683"></a>
<a name="IDX1684"></a>
<a name="IDX1685"></a>
<p>Creates a new empty queue. It should only be used to create a new queue.
</p>
</dd>
<dt> <code>join_queue(+<var>Element</var>, +<var>OldQueue</var>, -<var>NewQueue</var>)</code></dt>
<dd><a name="IDX1686"></a>
<a name="IDX1687"></a>
<a name="IDX1688"></a>
<p>Adds the new element at the end of the queue.
</p>
</dd>
<dt> <code>list_join_queue(+<var>List</var>, +<var>OldQueue</var>, -<var>NewQueue</var>)</code></dt>
<dd><a name="IDX1689"></a>
<a name="IDX1690"></a>
<a name="IDX1691"></a>
<p>Ads the new elements at the end of the queue.
</p>
</dd>
<dt> <code>jump_queue(+<var>Element</var>, +<var>OldQueue</var>, -<var>NewQueue</var>)</code></dt>
<dd><a name="IDX1692"></a>
<a name="IDX1693"></a>
<a name="IDX1694"></a>
<p>Adds the new element at the front of the list.
</p>
</dd>
<dt> <code>list_jump_queue(+<var>List</var>, +<var>OldQueue</var>, +<var>NewQueue</var>)</code></dt>
<dd><a name="IDX1695"></a>
<a name="IDX1696"></a>
<a name="IDX1697"></a>
<p>Adds all the elements of <var>List</var> at the front of the queue.
</p>
</dd>
<dt> <code>head_queue(+<var>Queue</var>, ?<var>Head</var>)</code></dt>
<dd><a name="IDX1698"></a>
<a name="IDX1699"></a>
<a name="IDX1700"></a>
<p>Unifies Head with the first element of the queue.
</p>
</dd>
<dt> <code>serve_queue(+<var>OldQueue</var>, +<var>Head</var>, -<var>NewQueue</var>)</code></dt>
<dd><a name="IDX1701"></a>
<a name="IDX1702"></a>
<a name="IDX1703"></a>
<p>Removes the first element of the queue for service.
</p>
</dd>
<dt> <code>empty_queue(+<var>Queue</var>)</code></dt>
<dd><a name="IDX1704"></a>
<a name="IDX1705"></a>
<a name="IDX1706"></a>
<p>Tests whether the queue is empty.
</p>
</dd>
<dt> <code>length_queue(+<var>Queue</var>, -<var>Length</var>)</code></dt>
<dd><a name="IDX1707"></a>
<a name="IDX1708"></a>
<a name="IDX1709"></a>
<p>Counts the number of elements currently in the queue.
</p>
</dd>
<dt> <code>list_to_queue(+<var>List</var>, -<var>Queue</var>)</code></dt>
<dd><a name="IDX1710"></a>
<a name="IDX1711"></a>
<a name="IDX1712"></a>
<p>Creates a new queue with the same elements as <var>List.</var>
</p>
</dd>
<dt> <code>queue_to_list(+<var>Queue</var>, -<var>List</var>)</code></dt>
<dd><a name="IDX1713"></a>
<a name="IDX1714"></a>
<a name="IDX1715"></a>
<p>Creates a new list with the same elements as <var>Queue</var>.
</p>
</dd>
</dl>


<hr size="6">
<a name="Random"></a>
<a name="SEC84"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC83" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC85" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC72" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.12 Random Number Generator </h2>

<p>The following random number operations are included with the
<code>use_module(library(random))</code> command. Since YAP-4.3.19 YAP uses
the O'Keefe public-domain algorithm, based on the &quot;Applied Statistics&quot;
algorithm AS183.
</p>
<dl compact="compact">
<dt> <code>getrand(-<var>Key</var>)</code></dt>
<dd><a name="IDX1716"></a>
<a name="IDX1717"></a>
<a name="IDX1718"></a>
<p>Unify <var>Key</var> with a term of the form <code>rand(X,Y,Z)</code> describing the
current state of the random number generator.
</p>
</dd>
<dt> <code>random(-<var>Number</var>)</code></dt>
<dd><a name="IDX1719"></a>
<a name="IDX1720"></a>
<a name="IDX1721"></a>
<p>Unify <var>Number</var> with a floating-point number in the range <code>[0...1)</code>.
</p>
</dd>
<dt> <code>random(+<var>LOW</var>, +<var>HIGH</var>, -<var>NUMBER</var>)</code></dt>
<dd><a name="IDX1722"></a>
<a name="IDX1723"></a>
<a name="IDX1724"></a>
<p>Unify <var>Number</var> with a number in the range
<code>[LOW...HIGH)</code>. If both <var>LOW</var> and <var>HIGH</var> are
integers then <var>NUMBER</var> will also be an integer, otherwise
<var>NUMBER</var> will be a floating-point number.
</p>
</dd>
<dt> <code>randseq(+<var>LENGTH</var>, +<var>MAX</var>, -<var>Numbers</var>)</code></dt>
<dd><a name="IDX1725"></a>
<a name="IDX1726"></a>
<a name="IDX1727"></a>
<p>Unify <var>Numbers</var> with a list of <var>LENGTH</var> unique random integers
in the range <code>[1...<var>MAX</var>)</code>.
</p>
</dd>
<dt> <code>randset(+<var>LENGTH</var>, +<var>MAX</var>, -<var>Numbers</var>)</code></dt>
<dd><a name="IDX1728"></a>
<a name="IDX1729"></a>
<a name="IDX1730"></a>
<p>Unify <var>Numbers</var> with an ordered list of <var>LENGTH</var> unique random
integers in the range <code>[1...<var>MAX</var>)</code>.
</p>
</dd>
<dt> <code>setrand(+<var>Key</var>)</code></dt>
<dd><a name="IDX1731"></a>
<a name="IDX1732"></a>
<a name="IDX1733"></a>
<p>Use a term of the form <code>rand(X,Y,Z)</code> to set a new state for the
random number generator. The integer <code>X</code> must be in the range
<code>[1...30269)</code>, the integer <code>Y</code> must be in the range
<code>[1...30307)</code>, and the integer <code>Z</code> must be in the range
<code>[1...30323)</code>.
</p>
</dd>
</dl>

<hr size="6">
<a name="Read-Utilities"></a>
<a name="SEC85"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC84" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC72" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.13 Read Utilities </h2>

<p>The <code>readutil</code> library contains primitives to read lines, files,
multiple terms, etc.
</p>
<dl compact="compact">
<dt> <code>read_line_to_codes(+<var>Stream</var>, -<var>Codes</var>)</code></dt>
<dd><a name="IDX1734"></a>
<a name="IDX1735"></a>
<a name="IDX1736"></a>

<p>Read the next line of input from <var>Stream</var> and unify the result with
<var>Codes</var> <em>after</em> the line has been read.  A line is ended by a
newline character or end-of-file. Unlike <code>read_line_to_codes/3</code>,
this predicate removes trailing newline character.
</p>
<p>On end-of-file the atom <code>end_of_file</code> is returned.  See also
<code>at_end_of_stream/[0,1]</code>.
</p>
</dd>
<dt> <code>read_line_to_codes(+<var>Stream</var>, -<var>Codes</var>, ?<var>Tail</var>)</code></dt>
<dd><a name="IDX1737"></a>
<a name="IDX1738"></a>
<a name="IDX1739"></a>
<p>Diference-list version to read an input line to a list of character
codes.  Reading stops at the newline or end-of-file character, but
unlike <code>read_line_to_codes/2</code>, the newline is retained in the
output.  This predicate is especially useful for readine a block of
lines upto some delimiter.  The following example reads an HTTP header
ended by a blank line:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">read_header_data(Stream, Header) :-
	read_line_to_codes(Stream, Header, Tail),
	read_header_data(Header, Stream, Tail).

read_header_data(&quot;\r\n&quot;, _, _) :- !.
read_header_data(&quot;\n&quot;, _, _) :- !.
read_header_data(&quot;&quot;, _, _) :- !.
read_header_data(_, Stream, Tail) :-
	read_line_to_codes(Stream, Tail, NewTail),
	read_header_data(Tail, Stream, NewTail).
</pre></td></tr></table>

</dd>
<dt> <code>read_stream_to_codes(+<var>Stream</var>, -<var>Codes</var>)</code></dt>
<dd><a name="IDX1740"></a>
<a name="IDX1741"></a>
<a name="IDX1742"></a>
<p>Read all input until end-of-file and unify the result to <var>Codes</var>.
</p>
</dd>
<dt> <code>read_stream_to_codes(+<var>Stream</var>, -<var>Codes</var>, ?<var>Tail</var>)</code></dt>
<dd><a name="IDX1743"></a>
<a name="IDX1744"></a>
<a name="IDX1745"></a>
<p>Difference-list version of <code>read_stream_to_codes/2</code>.
</p>
</dd>
<dt> <code>read_file_to_codes(+<var>Spec</var>, -<var>Codes</var>, +<var>Options</var>)</code></dt>
<dd><a name="IDX1746"></a>
<a name="IDX1747"></a>
<a name="IDX1748"></a>
<p>Read a file to a list of character codes. Currently ignores
<var>Options</var>.
</p>

</dd>
<dt> <code>read_file_to_terms(+<var>Spec</var>, -<var>Terms</var>, +<var>Options</var>)</code></dt>
<dd><a name="IDX1749"></a>
<a name="IDX1750"></a>
<a name="IDX1751"></a>
<p>Read a file to a list of prolog terms (see read/1). </p>
</dd>
</dl>



<hr size="6">
<a name="Red_002dBlack-Trees"></a>
<a name="SEC86"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC85" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC87" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC72" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.14 Red-Black Trees </h2>

<p>Red-Black trees are balanced search binary trees. They are named because
nodes can be classified as either red or black. The code we include is
based on &quot;Introduction to Algorithms&quot;, second edition, by Cormen,
Leiserson, Rivest and Stein.  The library includes routines to insert,
lookup and delete elements in the tree.
</p>
<dl compact="compact">
<dt> <code>rb_new(?<var>T</var>)</code></dt>
<dd><a name="IDX1752"></a>
<a name="IDX1753"></a>
<a name="IDX1754"></a>
<p>Create a new tree.
</p>
</dd>
<dt> <code>rb_empty(?<var>T</var>)</code></dt>
<dd><a name="IDX1755"></a>
<a name="IDX1756"></a>
<a name="IDX1757"></a>
<p>Succeeds if tree <var>T</var> is empty.
</p>
</dd>
<dt> <code>is_rbtree(+<var>T</var>)</code></dt>
<dd><a name="IDX1758"></a>
<a name="IDX1759"></a>
<a name="IDX1760"></a>
<p>Check whether <var>T</var> is a valid red-black tree.
</p>
</dd>
<dt> <code>rb_insert(+<var>T0</var>,+<var>Key</var>,?<var>Value</var>,+<var>TF</var>)</code></dt>
<dd><a name="IDX1761"></a>
<a name="IDX1762"></a>
<a name="IDX1763"></a>
<p>Add an element with key <var>Key</var> and <var>Value</var> to the tree
<var>T0</var> creating a new red-black tree <var>TF</var>. Duplicated elements are not
allowed.
</p>
</dd>
<dt> <code>rb_lookup(+<var>Key</var>,-<var>Value</var>,+<var>T</var>)</code></dt>
<dd><a name="IDX1764"></a>
<a name="IDX1765"></a>
<a name="IDX1766"></a>
<p>Backtrack through all elements with key <var>Key</var> in the red-black tree
<var>T</var>, returning for each the value <var>Value</var>.
</p>
</dd>
<dt> <code>rb_lookupall(+<var>Key</var>,-<var>Value</var>,+<var>T</var>)</code></dt>
<dd><a name="IDX1767"></a>
<a name="IDX1768"></a>
<a name="IDX1769"></a>
<p>Lookup all elements with key <var>Key</var> in the red-black tree
<var>T</var>, returning the value <var>Value</var>.
</p>
</dd>
<dt> <code>rb_delete(+<var>T</var>,+<var>Key</var>,-<var>TN</var>)</code></dt>
<dd><a name="IDX1770"></a>
<a name="IDX1771"></a>
<a name="IDX1772"></a>
<p>Delete element with key <var>Key</var> from the tree <var>T</var>, returning a new
tree <var>TN</var>.
</p>
</dd>
<dt> <code>rb_delete(+<var>T</var>,+<var>Key</var>,-<var>Val</var>,-<var>TN</var>)</code></dt>
<dd><a name="IDX1773"></a>
<a name="IDX1774"></a>
<a name="IDX1775"></a>
<p>Delete element with key <var>Key</var> from the tree <var>T</var>, returning the
value <var>Val</var> associated with the key and a new tree <var>TN</var>.
</p>
</dd>
<dt> <code>rb_del_min(+<var>T</var>,-<var>Key</var>,-<var>Val</var>,-<var>TN</var>)</code></dt>
<dd><a name="IDX1776"></a>
<a name="IDX1777"></a>
<a name="IDX1778"></a>
<p>Delete the least element from the tree <var>T</var>, returning the key
<var>Key</var>, the value <var>Val</var> associated with the key and a new tree
<var>TN</var>.
</p>
</dd>
<dt> <code>rb_del_max(+<var>T</var>,-<var>Key</var>,-<var>Val</var>,-<var>TN</var>)</code></dt>
<dd><a name="IDX1779"></a>
<a name="IDX1780"></a>
<a name="IDX1781"></a>
<p>Delete the largest element from the tree <var>T</var>, returning the key
<var>Key</var>, the value <var>Val</var> associated with the key and a new tree
<var>TN</var>.
</p>
</dd>
<dt> <code>rb_update(+<var>T</var>,+<var>Key</var>,+<var>NewVal</var>,-<var>TN</var>)</code></dt>
<dd><a name="IDX1782"></a>
<a name="IDX1783"></a>
<a name="IDX1784"></a>
<p>Tree <var>TN</var> is tree <var>T</var>, but with value for <var>Key</var> associated
with <var>NewVal</var>. Fails if it cannot find <var>Key</var> in <var>T</var>.
</p>
</dd>
<dt> <code>rb_apply(+<var>T</var>,+<var>Key</var>,+<var>G</var>,-<var>TN</var>)</code></dt>
<dd><a name="IDX1785"></a>
<a name="IDX1786"></a>
<a name="IDX1787"></a>
<p>If the value associated with key <var>Key</var> is <var>Val0</var> in <var>T</var>, and
if <code>call(G,Val0,ValF)</code> holds, then <var>TN</var> differs from
<var>T</var> only in that <var>Key</var> is associated with value <var>ValF</var> in
tree <var>TN</var>. Fails if it cannot find <var>Key</var> in <var>T</var>, or if
<code>call(G,Val0,ValF)</code> is not satisfiable.
</p>
</dd>
<dt> <code>rb_visit(+<var>T</var>,-<var>Pairs</var>)</code></dt>
<dd><a name="IDX1788"></a>
<a name="IDX1789"></a>
<a name="IDX1790"></a>
<p><var>Pairs</var> is an infix visit of tree <var>T</var>, where each element of
<var>Pairs</var> is of the form  <var>K</var>-<var>Val</var>.
</p>
</dd>
<dt> <code>rb_size(+<var>T</var>,-<var>Size</var>)</code></dt>
<dd><a name="IDX1791"></a>
<a name="IDX1792"></a>
<a name="IDX1793"></a>
<p><var>Size</var> is the number of elements in <var>T</var>.
</p>
</dd>
<dt> <code>rb_keys(+<var>T</var>,+<var>Keys</var>)</code></dt>
<dd><a name="IDX1794"></a>
<a name="IDX1795"></a>
<a name="IDX1796"></a>
<p><var>Keys</var> is an infix visit with all keys in tree <var>T</var>. Keys will be
sorted, but may be duplicate.
</p>
</dd>
<dt> <code>rb_map(+<var>T</var>,+<var>G</var>,-<var>TN</var>)</code></dt>
<dd><a name="IDX1797"></a>
<a name="IDX1798"></a>
<a name="IDX1799"></a>
<p>For all nodes <var>Key</var> in the tree <var>T</var>, if the value associated with
key <var>Key</var> is <var>Val0</var> in tree <var>T</var>, and if
<code>call(G,Val0,ValF)</code> holds, then the value associated with <var>Key</var>
in <var>TN</var> is <var>ValF</var>. Fails if or if <code>call(G,Val0,ValF)</code> is not
satisfiable for all <var>Var0</var>.
</p>
</dd>
<dt> <code>rb_partial_map(+<var>T</var>,+<var>Keys</var>,+<var>G</var>,-<var>TN</var>)</code></dt>
<dd><a name="IDX1800"></a>
<a name="IDX1801"></a>
<a name="IDX1802"></a>
<p>For all nodes <var>Key</var> in <var>Keys</var>, if the value associated with key
<var>Key</var> is <var>Val0</var> in tree <var>T</var>, and if <code>call(G,Val0,ValF)</code>
holds, then the value associated with <var>Key</var> in <var>TN</var> is
<var>ValF</var>. Fails if or if <code>call(G,Val0,ValF)</code> is not satisfiable
for all <var>Var0</var>. Assumes keys are not repeated.
</p>
</dd>
<dt> <code>rb_clone(+<var>T</var>,+<var>NT</var>,+<var>Nodes</var>)</code></dt>
<dd><a name="IDX1803"></a>
<a name="IDX1804"></a>
<a name="IDX1805"></a>
<p>&ldquo;Clone&rdquo; the red-back tree into a new tree with the same keys as the
original but with all values set to unbound values. Nodes is a list
containing all new nodes as pairs <var>K-V</var>.
</p>
</dd>
<dt> <code>rb_min(+<var>T</var>,-<var>Key</var>,-<var>Value</var>)</code></dt>
<dd><a name="IDX1806"></a>
<a name="IDX1807"></a>
<a name="IDX1808"></a>
<p><var>Key</var>  is the minimum key in <var>T</var>, and is associated with <var>Val</var>.
</p>
</dd>
<dt> <code>rb_max(+<var>T</var>,-<var>Key</var>,-<var>Value</var>)</code></dt>
<dd><a name="IDX1809"></a>
<a name="IDX1810"></a>
<a name="IDX1811"></a>
<p><var>Key</var>  is the maximal key in <var>T</var>, and is associated with <var>Val</var>.
</p>
</dd>
<dt> <code>rb_next(+<var>T</var>, +<var>Key</var>,-<var>Next</var>,-<var>Value</var>)</code></dt>
<dd><a name="IDX1812"></a>
<a name="IDX1813"></a>
<a name="IDX1814"></a>
<p><var>Next</var> is the next element after <var>Key</var> in <var>T</var>, and is
associated with <var>Val</var>.
</p>
</dd>
<dt> <code>rb_previous(+<var>T</var>, +<var>Key</var>,-<var>Previous</var>,-<var>Value</var>)</code></dt>
<dd><a name="IDX1815"></a>
<a name="IDX1816"></a>
<a name="IDX1817"></a>
<p><var>Previous</var> is the previous element after <var>Key</var> in <var>T</var>, and is
associated with <var>Val</var>.
</p>
</dd>
<dt> <code>list_to_rbtree(+<var>L</var>, -<var>T</var>)</code></dt>
<dd><a name="IDX1818"></a>
<a name="IDX1819"></a>
<a name="IDX1820"></a>
<p><var>T</var> is the red-black tree corresponding to the mapping in list <var>L</var>.
</p>
</dd>
<dt> <code>ord_list_to_rbtree(+<var>L</var>, -<var>T</var>)</code></dt>
<dd><a name="IDX1821"></a>
<a name="IDX1822"></a>
<a name="IDX1823"></a>
<p><var>T</var> is the red-black tree corresponding to the mapping in ordered
list <var>L</var>.
</p></dd>
</dl>

<hr size="6">
<a name="RegExp"></a>
<a name="SEC87"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC86" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC88" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC72" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.15 Regular Expressions </h2>

<p>This library includes routines to determine whether a regular expression
matches part or all of a string. The routines can also return which
parts parts of the string matched the expression or subexpressions of
it. This library relies on Henry Spencer's <code>C</code>-package and is only
available in operating systems that support dynamic loading. The
<code>C</code>-code has been obtained from the sources of FreeBSD-4.0 and is
protected by copyright from Henry Spencer and from the Regents of the
University of California (see the file library/regex/COPYRIGHT for
further details).
</p>
<p>Much of the description of regular expressions below is copied verbatim
from Henry Spencer's manual page.
</p>
<p>A regular expression is zero or more branches, separated by &ldquo;|&rdquo;.  It
matches anything that matches one of the branches.
</p>
<p>A branch is zero or more pieces, concatenated.  It matches a match for
the first, followed by a match for the second, etc.
</p>
<p>A piece is an atom possibly followed by &ldquo;*&rdquo;, &ldquo;+&rdquo;, or &ldquo;?&rdquo;.  An atom
followed by &ldquo;*&rdquo; matches a sequence of 0 or more matches of the atom.
An atom followed by &ldquo;+&rdquo; matches a sequence of 1 or more matches of the
atom.  An atom followed by &ldquo;?&rdquo; matches a match of the atom, or the
null string.
</p>
<p>An atom is a regular expression in parentheses (matching a match for the
regular expression), a range (see below), &ldquo;.&rdquo;  (matching any single
character), &ldquo;^&rdquo; (matching the null string at the beginning of the
input string), &ldquo;$&rdquo; (matching the null string at the end of the input
string), a &ldquo;\&rdquo; followed by a single character (matching that
character), or a single character with no other significance (matching
that character).
</p>
<p>A range is a sequence of characters enclosed in &ldquo;[]&rdquo;.  It normally
matches any single character from the sequence.  If the sequence begins
with &ldquo;^&rdquo;, it matches any single character not from the rest of the
sequence.  If two characters in the sequence are separated by &ldquo;-&rdquo;,
this is shorthand for the full list of ASCII characters between them
(e.g. &ldquo;[0-9]&rdquo; matches any decimal digit).  To include a literal &ldquo;]&rdquo;
in the sequence, make it the first character (following a possible
&ldquo;^&rdquo;).  To include a literal &ldquo;-&rdquo;, make it the first or last
character.
</p>
<dl compact="compact">
<dt> <code>regexp(+<var>RegExp</var>,+<var>String</var>,+<var>Opts</var>)</code></dt>
<dd><a name="IDX1824"></a>
<a name="IDX1825"></a>
<a name="IDX1826"></a>

<p>Match regular expression <var>RegExp</var> to input string <var>String</var>
according to options <var>Opts</var>. The options may be:
</p><ul>
<li> <code>nocase</code>: Causes upper-case characters  in  <var>String</var> to
        be treated  as  lower case during the matching process.
</li></ul>

</dd>
<dt> <code>regexp(+<var>RegExp</var>,+<var>String</var>,+<var>Opts</var>,?<var>SubMatchVars</var>)</code></dt>
<dd><a name="IDX1827"></a>
<a name="IDX1828"></a>
<a name="IDX1829"></a>

<p>Match regular expression <var>RegExp</var> to input string <var>String</var>
according to options <var>Opts</var>. The variable <var>SubMatchVars</var> should
be originally unbound or a list of unbound variables all will contain a
sequence of matches, that is, the head of <var>SubMatchVars</var> will
contain the characters in <var>String</var> that matched the leftmost
parenthesized subexpression within <var>RegExp</var>, the next head of list
will contain the characters that matched the next parenthesized
subexpression to the right in <var>RegExp</var>, and so on.
</p>
<p>The options may be:
</p><ul>
<li> <code>nocase</code>: Causes upper-case characters  in  <var>String</var> to
        be treated  as  lower case during the matching process.
</li><li> <code>indices</code>: Changes what  is  stored  in
<var>SubMatchVars</var>. Instead  of storing the matching characters from
<var>String</var>, each variable will contain a term of the form <var>IO-IF</var>
giving the indices in <var>String</var> of the first and last characters  in
the  matching range of characters.

</li></ul>

<p>In general there may be more than one way to match a regular expression
to an input string.  For example,  consider the command
</p><table><tr><td>&nbsp;</td><td><pre class="example">  regexp(&quot;(a*)b*&quot;,&quot;aabaaabb&quot;, [], [X,Y])
</pre></td></tr></table>
<p>Considering only the rules given so far, <var>X</var> and <var>Y</var> could end up
with the values <code>&quot;aabb&quot;</code> and <code>&quot;aa&quot;</code>, <code>&quot;aaab&quot;</code> and
<code>&quot;aaa&quot;</code>, <code>&quot;ab&quot;</code> and <code>&quot;a&quot;</code>, or any of several other
combinations.  To resolve this potential ambiguity <code>regexp</code> chooses among
alternatives using the rule &ldquo;first then longest&rdquo;.  In other words, it
considers the possible matches in order working from left to right
across the input string and the pattern, and it attempts to match longer
pieces of the input string before shorter ones.  More specifically, the
following rules apply in decreasing order of priority:
</p>

<ol>
<li>    If a regular expression could match  two  different parts of an
input string then it will match the one that begins earliest.

</li><li>  If a regular expression contains &quot;|&quot;  operators  then the leftmost matching sub-expression is chosen.

</li><li> In *, +, and ? constructs, longer matches are chosen in preference to shorter ones.

</li><li> In sequences of expression  components  the  components are considered from left to right.
</li></ol>

<p>In the example from above, <code>&quot;(a*)b*&quot;</code> matches <code>&quot;aab&quot;</code>: the
<code>&quot;(a*)&quot;</code> portion of the pattern is matched first and it consumes
the leading <code>&quot;aa&quot;</code>; then the <code>&quot;b*&quot;</code> portion of the pattern
consumes the next <code>&quot;b&quot;</code>.  Or, consider the following example: 
</p><table><tr><td>&nbsp;</td><td><pre class="example">  regexp(&quot;(ab|a)(b*)c&quot;,  &quot;abc&quot;, [], [X,Y,Z])
</pre></td></tr></table>

<p>After this command <var>X</var> will be <code>&quot;abc&quot;</code>, <var>Y</var> will be
<code>&quot;ab&quot;</code>, and <var>Z</var> will be an empty string.  Rule 4 specifies that
<code>&quot;(ab|a)&quot;</code> gets first shot at the input string and Rule 2 specifies
that the <code>&quot;ab&quot;</code> sub-expression is checked before the <code>&quot;a&quot;</code>
sub-expression.  Thus the <code>&quot;b&quot;</code> has already been claimed before the
<code>&quot;(b*)&quot;</code> component is checked and <code>(b*)</code> must match an empty string.
</p>
</dd>
</dl>

<hr size="6">
<a name="Splay-Trees"></a>
<a name="SEC88"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC87" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC89" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC72" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.16 Splay Trees </h2>

<p>Splay trees are explained in the paper &quot;Self-adjusting Binary Search
Trees&quot;, by D.D. Sleator and R.E. Tarjan, JACM, vol. 32, No.3, July 1985,
p. 668. They are designed to support fast insertions, deletions and
removals in binary search trees without the complexity of traditional
balanced trees. The key idea is to allow the tree to become
unbalanced. To make up for this, whenever we find a node, we move it up
to the top. We use code by Vijay Saraswat originally posted to the Prolog
mailing-list.
</p>
<dl compact="compact">
<dt> <code>splay_access(-<var>Return</var>,+<var>Key</var>,?<var>Val</var>,+<var>Tree</var>,-<var>NewTree</var>)</code></dt>
<dd><a name="IDX1830"></a>
<a name="IDX1831"></a>
<a name="IDX1832"></a>
<p>If item <var>Key</var> is in tree <var>Tree</var>, return its <var>Val</var> and
unify <var>Return</var> with <code>true</code>. Otherwise unify <var>Return</var> with
<code>null</code>. The variable <var>NewTree</var> unifies with the new tree.
</p>
</dd>
<dt> <code>splay_delete(+<var>Key</var>,?<var>Val</var>,+<var>Tree</var>,-<var>NewTree</var>)</code></dt>
<dd><a name="IDX1833"></a>
<a name="IDX1834"></a>
<a name="IDX1835"></a>
<p>Delete item <var>Key</var> from tree <var>Tree</var>, assuming that it is present
already. The variable <var>Val</var> unifies with a value for key <var>Key</var>,
and the variable <var>NewTree</var> unifies with the new tree. The predicate
will fail if <var>Key</var> is not present.
</p>
</dd>
<dt> <code>splay_init(-<var>NewTree</var>)</code></dt>
<dd><a name="IDX1836"></a>
<a name="IDX1837"></a>
<a name="IDX1838"></a>
<p>Initialize a new splay tree.
</p>
</dd>
<dt> <code>splay_insert(+<var>Key</var>,?<var>Val</var>,+<var>Tree</var>,-<var>NewTree</var>)</code></dt>
<dd><a name="IDX1839"></a>
<a name="IDX1840"></a>
<a name="IDX1841"></a>
<p>Insert item <var>Key</var> in tree <var>Tree</var>, assuming that it is not
there already. The variable <var>Val</var> unifies with a value for key
<var>Key</var>, and the variable <var>NewTree</var> unifies with the new
tree. In our implementation, <var>Key</var> is not inserted if it is
already there: rather it is unified with the item already in the tree.
</p>
</dd>
<dt> <code>splay_join(+<var>LeftTree</var>,+<var>RighTree</var>,-<var>NewTree</var>)</code></dt>
<dd><a name="IDX1842"></a>
<a name="IDX1843"></a>
<a name="IDX1844"></a>
<p>Combine trees <var>LeftTree</var> and <var>RighTree</var> into a single
tree<var>NewTree</var> containing all items from both trees. This operation
assumes that all items in <var>LeftTree</var> are less than all those in
<var>RighTree</var> and destroys both <var>LeftTree</var> and <var>RighTree</var>.
</p>
</dd>
<dt> <code>splay_split(+<var>Key</var>,?<var>Val</var>,+<var>Tree</var>,-<var>LeftTree</var>,-<var>RightTree</var>)</code></dt>
<dd><a name="IDX1845"></a>
<a name="IDX1846"></a>
<a name="IDX1847"></a>
<p>Construct and return two trees <var>LeftTree</var> and <var>RightTree</var>,
where <var>LeftTree</var> contains all items in <var>Tree</var> less than
<var>Key</var>, and <var>RightTree</var> contains all items in <var>Tree</var>
greater than <var>Key</var>. This operations destroys <var>Tree</var>.
</p>
</dd>
</dl>

<hr size="6">
<a name="String-I_002fO"></a>
<a name="SEC89"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC88" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC90" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC72" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.17 Reading From and Writing To Strings </h2>

<p>From Version 4.3.2 onwards YAP implements SICStus Prolog compatible
String I/O. The library allows users to read from and write to a memory
buffer as if it was a file. The memory buffer is built from or converted
to a string of character codes by the routines in library. Therefore, if
one wants to read from a string the string must be fully instantiated
before the library built-in opens the string for reading. These commands
are available through the <code>use_module(library(charsio))</code> command.
</p>
<dl compact="compact">
<dt> <code>format_to_chars(+<var>Form</var>, +<var>Args</var>, -<var>Result</var>)</code></dt>
<dd><a name="IDX1848"></a>
<a name="IDX1849"></a>
<a name="IDX1850"></a>

<p>Execute the built-in procedure <code>format/2</code> with form <var>Form</var> and
arguments <var>Args</var> outputting the result to the string of character
codes <var>Result</var>.
</p>
</dd>
<dt> <code>format_to_chars(+<var>Form</var>, +<var>Args</var>, -<var>Result0</var>, -<var>Result</var>)</code></dt>
<dd><a name="IDX1851"></a>
<a name="IDX1852"></a>
<a name="IDX1853"></a>

<p>Execute the built-in procedure <code>format/2</code> with form <var>Form</var> and
arguments <var>Args</var> outputting the result to the difference list of
character codes <var>Result-Result0</var>.
</p>
</dd>
<dt> <code>write_to_chars(+<var>Term</var>, -<var>Result</var>)</code></dt>
<dd><a name="IDX1854"></a>
<a name="IDX1855"></a>
<a name="IDX1856"></a>

<p>Execute the built-in procedure <code>write/1</code> with argument <var>Term</var>
outputting the result to the string of character codes <var>Result</var>.
</p>
</dd>
<dt> <code>write_to_chars(+<var>Term</var>, -<var>Result0</var>, -<var>Result</var>)</code></dt>
<dd><a name="IDX1857"></a>
<a name="IDX1858"></a>
<a name="IDX1859"></a>

<p>Execute the built-in procedure <code>write/1</code> with argument <var>Term</var>
outputting the result to the difference list of character codes
<var>Result-Result0</var>.
</p>
</dd>
<dt> <code>atom_to_chars(+<var>Atom</var>, -<var>Result</var>)</code></dt>
<dd><a name="IDX1860"></a>
<a name="IDX1861"></a>
<a name="IDX1862"></a>

<p>Convert the atom <var>Atom</var> to the string of character codes
<var>Result</var>.
</p>
</dd>
<dt> <code>atom_to_chars(+<var>Atom</var>, -<var>Result0</var>, -<var>Result</var>)</code></dt>
<dd><a name="IDX1863"></a>
<a name="IDX1864"></a>
<a name="IDX1865"></a>

<p>Convert the atom <var>Atom</var> to the difference list of character codes
<var>Result-Result0</var>.
</p>
</dd>
<dt> <code>number_to_chars(+<var>Number</var>, -<var>Result</var>)</code></dt>
<dd><a name="IDX1866"></a>
<a name="IDX1867"></a>
<a name="IDX1868"></a>

<p>Convert the number <var>Number</var> to the string of character codes
<var>Result</var>.
</p>
</dd>
<dt> <code>number_to_chars(+<var>Number</var>, -<var>Result0</var>, -<var>Result</var>)</code></dt>
<dd><a name="IDX1869"></a>
<a name="IDX1870"></a>
<a name="IDX1871"></a>

<p>Convert the atom <var>Number</var> to the difference list of character codes
<var>Result-Result0</var>.
</p>
</dd>
<dt> <code>read_from_chars(+<var>Chars</var>, -<var>Term</var>)</code></dt>
<dd><a name="IDX1872"></a>
<a name="IDX1873"></a>
<a name="IDX1874"></a>

<p>Parse the list of character codes <var>Chars</var> and return the result in
the term <var>Term</var>. The character codes to be read must terminate with
a dot character such that either (i) the dot character is followed by
blank characters; or (ii) the dot character is the last character in the
string.
</p>
</dd>
<dt> <code>open_chars_stream(+<var>Chars</var>, -<var>Stream</var>)</code></dt>
<dd><a name="IDX1875"></a>
<a name="IDX1876"></a>
<a name="IDX1877"></a>

<p>Open the list of character codes <var>Chars</var> as a stream <var>Stream</var>.
</p>
</dd>
<dt> <code>with_output_to_chars(?<var>Goal</var>, -<var>Chars</var>)</code></dt>
<dd><a name="IDX1878"></a>
<a name="IDX1879"></a>
<a name="IDX1880"></a>

<p>Execute goal <var>Goal</var> such that its standard output will be sent to a
memory buffer. After successful execution the contents of the memory
buffer will be converted to the list of character codes <var>Chars</var>.
</p>
</dd>
<dt> <code>with_output_to_chars(?<var>Goal</var>, ?<var>Chars0</var>, -<var>Chars</var>)</code></dt>
<dd><a name="IDX1881"></a>
<a name="IDX1882"></a>
<a name="IDX1883"></a>

<p>Execute goal <var>Goal</var> such that its standard output will be sent to a
memory buffer. After successful execution the contents of the memory
buffer will be converted to the difference list of character codes
<var>Chars-Chars0</var>.
</p>
</dd>
<dt> <code>with_output_to_chars(?<var>Goal</var>, -<var>Stream</var>, ?<var>Chars0</var>, -<var>Chars</var>)</code></dt>
<dd><a name="IDX1884"></a>
<a name="IDX1885"></a>
<a name="IDX1886"></a>

<p>Execute goal <var>Goal</var> such that its standard output will be sent to a
memory buffer. After successful execution the contents of the memory
buffer will be converted to the difference list of character codes
<var>Chars-Chars0</var> and <var>Stream</var> receives the stream corresponding to
the memory buffer.
</p>
</dd>
</dl>

<p>The implementation of the character IO operations relies on three YAP
built-ins:
</p><dl compact="compact">
<dt> <code>charsio:open_mem_read_stream(+<var>String</var>, -<var>Stream</var>)</code></dt>
<dd><p>Store a string in a memory buffer and output a stream that reads from this
memory buffer.
</p>
</dd>
<dt> <code>charsio:open_mem_write_stream(-<var>Stream</var>)</code></dt>
<dd><p>Create a new memory buffer and output a stream that writes to  it.
</p>
</dd>
<dt> <code>charsio:peek_mem_write_stream(-<var>Stream</var>, L0, L)</code></dt>
<dd><p>Convert the memory buffer associated with stream <var>Stream</var> to the
difference list of character codes <var>L-L0</var>.
</p>
</dd>
</dl>
<p>These built-ins are initialized to belong to the module <code>charsio</code> in
<code>init.yap</code>. Novel procedures for manipulating strings by explicitly
importing these built-ins.
</p>
<p>YAP does not currently support opening a <code>charsio</code> stream in
<code>append</code> mode, or seeking in such a stream.
</p>
<hr size="6">
<a name="System"></a>
<a name="SEC90"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC89" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC91" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC72" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.18 Calling The Operating System from YAP </h2>

<p>YAP now provides a library of system utilities compatible with the
SICStus Prolog system library. This library extends and to some point
replaces the functionality of Operating System access routines. The
library includes Unix/Linux and Win32 <code>C</code> code. They
are available through the <code>use_module(library(system))</code> command.
</p>
<dl compact="compact">
<dt> <code>datime(datime(-<var>Year</var>, -<var>Month</var>, -<var>DayOfTheMonth</var>,</code></dt>
<dd><p>-<var>Hour</var>, -<var>Minute</var>, -<var>Second</var>)
<a name="IDX1887"></a>
<a name="IDX1888"></a>
<a name="IDX1889"></a>
The <code>datime/1</code> procedure returns the current date and time, with
information on <var>Year</var>, <var>Month</var>, <var>DayOfTheMonth</var>,
<var>Hour</var>, <var>Minute</var>, and <var>Second</var>. The <var>Hour</var> is returned
on local time. This function uses the WIN32
<code>GetLocalTime</code> function or the Unix <code>localtime</code> function.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">   ?- datime(X).

X = datime(2001,5,28,15,29,46) ? 
</pre></td></tr></table>

</dd>
<dt> <code>mktime(datime(+<var>Year</var>, +<var>Month</var>, +<var>DayOfTheMonth</var>,</code></dt>
<dd><p>+<var>Hour</var>, +<var>Minute</var>, +<var>Second</var>), -<var>Seconds</var>)
<a name="IDX1890"></a>
<a name="IDX1891"></a>
<a name="IDX1892"></a>
The <code>mktime/1</code> procedure returns the number of <var>Seconds</var>
elapsed since 00:00:00 on January 1, 1970, Coordinated Universal Time
(UTC).  The user provides information on <var>Year</var>, <var>Month</var>,
<var>DayOfTheMonth</var>, <var>Hour</var>, <var>Minute</var>, and <var>Second</var>. The
<var>Hour</var> is given on local time. This function uses the WIN32
<code>GetLocalTime</code> function or the Unix <code>mktime</code> function.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">   ?- mktime(datime(2001,5,28,15,29,46),X).

X = 991081786 ? ;
</pre></td></tr></table>

</dd>
<dt> <code>delete_file(+<var>File</var>)</code></dt>
<dd><a name="IDX1893"></a>
<a name="IDX1894"></a>
<a name="IDX1895"></a>
<p>The <code>delete_file/1</code> procedure removes file <var>File</var>. If
<var>File</var> is a directory, remove the directory <em>and all its
subdirectories</em>.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">   ?- delete_file(x).
</pre></td></tr></table>

</dd>
<dt> <code>delete_file(+<var>File</var>,+<var>Opts</var>)</code></dt>
<dd><a name="IDX1896"></a>
<a name="IDX1897"></a>
<a name="IDX1898"></a>
<p>The <code>delete_file/2</code> procedure removes file <var>File</var> according to
options <var>Opts</var>. These options are <code>directory</code> if one should
remove directories, <code>recursive</code> if one should remove directories
recursively, and <code>ignore</code> if errors are not to be reported.
</p>
<p>This example is equivalent to using the <code>delete_file/1</code> predicate:
</p><table><tr><td>&nbsp;</td><td><pre class="example">   ?- delete_file(x, [recursive]).
</pre></td></tr></table>


</dd>
<dt> <code>directory_files(+<var>Dir</var>,+<var>List</var>)</code></dt>
<dd><a name="IDX1899"></a>
<a name="IDX1900"></a>
<a name="IDX1901"></a>
<p>Given a directory <var>Dir</var>,  <code>directory_files/2</code> procedures a
listing of all files and directories in the directory:
</p><table><tr><td>&nbsp;</td><td><pre class="example">    ?- directory_files('.',L), writeq(L).
['Makefile.~1~','sys.so','Makefile','sys.o',x,..,'.']
</pre></td></tr></table>
<p>The predicates uses the <code>dirent</code> family of routines in Unix
environments, and <code>findfirst</code> in WIN32.
</p>
</dd>
<dt> <code>file_exists(+<var>File</var>)</code></dt>
<dd><a name="IDX1902"></a>
<a name="IDX1903"></a>
<a name="IDX1904"></a>
<p>The atom <var>File</var> corresponds to an existing file.
</p>
</dd>
<dt> <code>file_exists(+<var>File</var>,+<var>Permissions</var>)</code></dt>
<dd><a name="IDX1905"></a>
<a name="IDX1906"></a>
<a name="IDX1907"></a>
<p>The atom <var>File</var> corresponds to an existing file with permissions
compatible with <var>Permissions</var>. YAP currently only accepts for
permissions to be described as a number. The actual meaning of this
number is Operating System dependent.
</p>
</dd>
<dt> <code>file_property(+<var>File</var>,?<var>Property</var>)</code></dt>
<dd><a name="IDX1908"></a>
<a name="IDX1909"></a>
<a name="IDX1910"></a>
<p>The atom <var>File</var> corresponds to an existing file, and <var>Property</var>
will be unified with a property of this file. The properties are of the
form <code>type(<var>Type</var>)</code>, which gives whether the file is a regular
file, a directory, a fifo file, or of unknown type;
<code>size(<var>Size</var>)</code>, with gives the size for a file, and
<code>mod_time(<var>Time</var>)</code>, which gives the last time a file was
modified according to some Operating System dependent
timestamp; <code>mode(<var>mode</var>)</code>, gives the permission flags for the
file, and <code>linkto(<var>FileName</var>)</code>, gives the file pointed to by a
symbolic link. Properties can be obtained through backtracking:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">   ?- file_property('Makefile',P).

P = type(regular) ? ;

P = size(2375) ? ;

P = mod_time(990826911) ? ;

no
</pre></td></tr></table>

</dd>
<dt> <code>make_directory(+<var>Dir</var>)</code></dt>
<dd><a name="IDX1911"></a>
<a name="IDX1912"></a>
<a name="IDX1913"></a>
<p>Create a directory <var>Dir</var>. The name of the directory must be an atom.
</p>
</dd>
<dt> <code>rename_file(+<var>OldFile</var>,+<var>NewFile</var>)</code></dt>
<dd><a name="IDX1914"></a>
<a name="IDX1915"></a>
<a name="IDX1916"></a>
<p>Create file <var>OldFile</var> to <var>NewFile</var>. This predicate uses the
<code>C</code> built-in function <code>rename</code>.
</p>

</dd>
<dt> <code>environ(?<var>EnvVar</var>,+<var>EnvValue</var>)</code></dt>
<dd><a name="IDX1917"></a>
<a name="IDX1918"></a>
<a name="IDX1919"></a>
<p>Unify environment variable <var>EnvVar</var> with its value <var>EnvValue</var>,
if there is one. This predicate is backtrackable in Unix systems, but
not currently in Win32 configurations.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">   ?- environ('HOME',X).

X = 'C:\\cygwin\\home\\administrator' ?
</pre></td></tr></table>

</dd>
<dt> <code>host_id(-<var>Id</var>)</code></dt>
<dd><a name="IDX1920"></a>
<a name="IDX1921"></a>
<a name="IDX1922"></a>

<p>Unify <var>Id</var> with an identifier of the current host. YAP uses the
<code>hostid</code> function when available, 
</p>
</dd>
<dt> <code>host_name(-<var>Name</var>)</code></dt>
<dd><a name="IDX1923"></a>
<a name="IDX1924"></a>
<a name="IDX1925"></a>

<p>Unify <var>Name</var> with a name for the current host. YAP uses the
<code>hostname</code> function in Unix systems when available, and the
<code>GetComputerName</code> function in WIN32 systems. 
</p>
</dd>
<dt> <code>kill(<var>Id</var>,+<var>SIGNAL</var>)</code></dt>
<dd><a name="IDX1926"></a>
<a name="IDX1927"></a>
<a name="IDX1928"></a>

<p>Send signal <var>SIGNAL</var> to process <var>Id</var>. In Unix this predicate is
a direct interface to <code>kill</code> so one can send signals to groups of
processes. In WIN32 the predicate is an interface to
<code>TerminateProcess</code>, so it kills <var>Id</var> indepent of <var>SIGNAL</var>.
</p>
</dd>
<dt> <code>mktemp(<var>Spec</var>,-<var>File</var>)</code></dt>
<dd><a name="IDX1929"></a>
<a name="IDX1930"></a>
<a name="IDX1931"></a>

<p>Direct interface to <code>mktemp</code>: given a <var>Spec</var>, that is a file
name with six <var>X</var> to it, create a file name <var>File</var>. Use
<code>tmpnam/1</code> instead.
</p>
</dd>
<dt> <code>pid(-<var>Id</var>)</code></dt>
<dd><a name="IDX1932"></a>
<a name="IDX1933"></a>
<a name="IDX1934"></a>

<p>Unify <var>Id</var> with the process identifier for the current
process. An interface to the <tt>getpid</tt> function.
</p>
</dd>
<dt> <code>tmpnam(-<var>File</var>)</code></dt>
<dd><a name="IDX1935"></a>
<a name="IDX1936"></a>
<a name="IDX1937"></a>

<p>Interface with <var>tmpnam</var>: create an unique file and unify its name
with <var>File</var>.
</p>
</dd>
<dt> <code>exec(+<var>Command</var>,[+<var>InputStream</var>,+<var>OutputStream</var>,+<var>ErrorStream</var>],-<var>PID</var>)</code></dt>
<dd><a name="IDX1938"></a>
<a name="IDX1939"></a>
<a name="IDX1940"></a>
<p>Execute command <var>Command</var> with its streams connected to
<var>InputStream</var>, <var>OutputStream</var>, and <var>ErrorStream</var>. The
process that executes the command is returned as <var>PID</var>. The
command is executed by the default shell <code>bin/sh -c</code> in Unix.
</p>
<p>The following example demonstrates the use of <code>exec/3</code> to send a
command and process its output:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">exec(ls,[std,pipe(S),null],P),repeat, get0(S,C), (C = -1, close(S) ! ; put(C)).
</pre></td></tr></table>

<p>The streams may be one of standard stream, <code>std</code>, null stream,
<code>null</code>, or <code>pipe(S)</code>, where <var>S</var> is a pipe stream. Note
that it is up to the user to close the pipe.
</p>
</dd>
<dt> <code>working_directory(-<var>CurDir</var>,?<var>NextDir</var>)</code></dt>
<dd><a name="IDX1941"></a>
<a name="IDX1942"></a>
<a name="IDX1943"></a>
<p>Fetch the current directory at <var>CurDir</var>. If <var>NextDir</var> is bound
to an atom, make its value the current working directory.
</p>
</dd>
<dt> <code>popen(+<var>Command</var>, +<var>TYPE</var>, -<var>Stream</var>)</code></dt>
<dd><a name="IDX1944"></a>
<a name="IDX1945"></a>
<a name="IDX1946"></a>
<p>Interface to the <tt>popen</tt> function. It opens a process by creating a
pipe, forking and invoking <var>Command</var> on the current shell. Since a
pipe is by definition unidirectional the <var>Type</var> argument may be
<code>read</code> or <code>write</code>, not both. The stream should be closed
using <code>close/1</code>, there is no need for a special <code>pclose</code>
command.
</p>
<p>The following example demonstrates the use of <code>popen/3</code> to process
the output of a command, as <code>exec/3</code> would do:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">   ?- popen(ls,read,X),repeat, get0(X,C), (C = -1, ! ; put(C)).

X = 'C:\\cygwin\\home\\administrator' ?
</pre></td></tr></table>


<p>The WIN32 implementation of <code>popen/3</code> relies on <code>exec/3</code>.
</p>
</dd>
<dt> <code>shell</code></dt>
<dd><a name="IDX1947"></a>
<a name="IDX1948"></a>
<a name="IDX1949"></a>
<p>Start a new shell and leave YAP in background until the shell
completes. YAP uses the shell given by the environment variable
<code>SHELL</code>. In WIN32 environment YAP will use <code>COMSPEC</code> if
<code>SHELL</code> is undefined.
</p>
</dd>
<dt> <code>shell(+<var>Command</var>)</code></dt>
<dd><a name="IDX1950"></a>
<a name="IDX1951"></a>
<a name="IDX1952"></a>
<p>Execute command <var>Command</var> under a new shell. YAP will be in
background until the command completes. In Unix environments YAP uses
the shell given by the environment variable <code>SHELL</code> with the option
<code>&quot; -c &quot;</code>. In WIN32 environment YAP will use <code>COMSPEC</code> if
<code>SHELL</code> is undefined, in this case with the option <code>&quot; /c &quot;</code>.
</p>
</dd>
<dt> <code>shell(+<var>Command</var>,-<var>Status</var>)</code></dt>
<dd><a name="IDX1953"></a>
<a name="IDX1954"></a>
<a name="IDX1955"></a>
<p>Execute command <var>Command</var> under a new shell and unify <var>Status</var>
with the exit for the command. YAP will be in background until the
command completes. In Unix environments YAP uses the shell given by the
environment variable <code>SHELL</code> with the option <code>&quot; -c &quot;</code>. In
WIN32 environment YAP will use <code>COMSPEC</code> if <code>SHELL</code> is
undefined, in this case with the option <code>&quot; /c &quot;</code>.
</p>
</dd>
<dt> <code>sleep(+<var>Time</var>)</code></dt>
<dd><a name="IDX1956"></a>
<a name="IDX1957"></a>
<a name="IDX1958"></a>
<p>Block the current thread for <var>Time</var> seconds. When YAP is compiled 
without multi-threading support, this predicate blocks the YAP process. 
The number of seconds must be a positive number, and it may an integer 
or a float. The Unix implementation uses <code>usleep</code> if the number of 
seconds is below one, and <code>sleep</code> if it is over a second. The WIN32 
implementation uses <code>Sleep</code> for both cases.
</p>
</dd>
<dt> <code>system</code></dt>
<dd><a name="IDX1959"></a>
<a name="IDX1960"></a>
<a name="IDX1961"></a>
<p>Start a new default shell and leave YAP in background until the shell
completes. YAP uses <code>/bin/sh</code> in Unix systems and <code>COMSPEC</code> in
WIN32.
</p>
</dd>
<dt> <code>system(+<var>Command</var>,-<var>Res</var>)</code></dt>
<dd><a name="IDX1962"></a>
<a name="IDX1963"></a>
<a name="IDX1964"></a>
<p>Interface to <code>system</code>: execute command <var>Command</var> and unify
<var>Res</var> with the result.
</p>
</dd>
<dt> <code>wait(+<var>PID</var>,-<var>Status</var>)</code></dt>
<dd><a name="IDX1965"></a>
<a name="IDX1966"></a>
<a name="IDX1967"></a>
<p>Wait until process <var>PID</var> terminates, and return its exits <var>Status</var>.
</p>
</dd>
</dl>


<hr size="6">
<a name="Terms"></a>
<a name="SEC91"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC90" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC92" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC72" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.19 Utilities On Terms </h2>

<p>The next routines provide a set of commonly used utilities to manipulate
terms. Most of these utilities have been implemented in <code>C</code> for
efficiency. They are available through the
<code>use_module(library(terms))</code> command.
</p>
<dl compact="compact">
<dt> <code>acyclic_term(?<var>Term</var>)</code></dt>
<dd><a name="IDX1968"></a>
<a name="IDX1969"></a>
<a name="IDX1970"></a>
<p>Succeed if the argument <var>Term</var> is an acyclic term.
</p>
</dd>
<dt> <code>cyclic_term(?<var>Term</var>)</code></dt>
<dd><a name="IDX1971"></a>
<a name="IDX1972"></a>
<a name="IDX1973"></a>
<p>Succeed if the argument <var>Term</var> is a cyclic term.
</p>
</dd>
<dt> <code>term_hash(+<var>Term</var>, ?<var>Hash</var>)</code></dt>
<dd><a name="IDX1974"></a>
<a name="IDX1975"></a>
<a name="IDX1976"></a>

<p>If <var>Term</var> is ground unify <var>Hash</var> with a positive integer
calculated from the structure of the term. Otherwise the argument
<var>Hash</var> is left unbound. The range of the positive integer is from
<code>0</code> to, but not including, <code>33554432</code>.
</p>
</dd>
<dt> <code>term_hash(+<var>Term</var>, +<var>Depth</var>, +<var>Range</var>, ?<var>Hash</var>)</code></dt>
<dd><a name="IDX1977"></a>
<a name="IDX1978"></a>
<a name="IDX1979"></a>

<p>Unify <var>Hash</var> with a positive integer calculated from the structure
of the term.  The range of the positive integer is from <code>0</code> to, but
not including, <var>Range</var>. If <var>Depth</var> is <code>-1</code> the whole term
is considered. Otherwise, the term is considered only up to depth
<code>1</code>, where the constants and the principal functor have depth
<code>1</code>, and an argument of a term with depth <var>I</var> has depth <var>I+1</var>. 
</p>
</dd>
<dt> <code>term_variables(?<var>Term</var>, -<var>Variables</var>)</code></dt>
<dd><a name="IDX1980"></a>
<a name="IDX1981"></a>
<a name="IDX1982"></a>

<p>Unify <var>Variables</var> with a list of all variables in term <var>Term</var>.
</p>
</dd>
<dt> <code>variant(?<var>Term1</var>, ?<var>Term2</var>)</code></dt>
<dd><a name="IDX1983"></a>
<a name="IDX1984"></a>
<a name="IDX1985"></a>

<p>Succeed if <var>Term1</var> and <var>Term2</var> are variant terms.
</p>
</dd>
<dt> <code>subsumes(?<var>Term1</var>, ?<var>Term2</var>)</code></dt>
<dd><a name="IDX1986"></a>
<a name="IDX1987"></a>
<a name="IDX1988"></a>

<p>Succeed if <var>Term1</var> subsumes <var>Term2</var>.  Variables in term
<var>Term1</var> are bound so that the two terms become equal.
</p>

</dd>
<dt> <code>subsumes_chk(?<var>Term1</var>, ?<var>Term2</var>)</code></dt>
<dd><a name="IDX1989"></a>
<a name="IDX1990"></a>
<a name="IDX1991"></a>

<p>Succeed if <var>Term1</var> subsumes <var>Term2</var> but does not bind any
variable in <var>Term1</var>.
</p>
</dd>
<dt> <code>variable_in_term(?<var>Term</var>,?<var>Var</var>)</code></dt>
<dd><a name="IDX1992"></a>
<a name="IDX1993"></a>
<a name="IDX1994"></a>
<p>Succeed if the second argument <var>Var</var> is a variable and occurs in
term <var>Term</var>.
</p>
</dd>
<dt> <code>unifiable(?<var>Term1</var>, ?<var>Term2</var>, -<var>Bindings</var>)</code></dt>
<dd><a name="IDX1995"></a>
<a name="IDX1996"></a>
<a name="IDX1997"></a>

<p>Succeed if <var>Term1</var> and <var>Term2</var> are unifiable with substitution
<var>Bindings</var>.
</p>
</dd>
</dl>

<hr size="6">
<a name="Tries"></a>
<a name="SEC92"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC91" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC93" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC72" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.20 Trie DataStructure </h2>

<p>The next routines provide a set of utilities to create and manipulate
prefix trees of Prolog terms. Tries were originally proposed to
implement tabling in Logic Programming, but can be used for other
purposes. The tries will be stored in the Prolog database and can seen
as alternative to <code>assert</code> and <code>record</code> family of
primitives. Most of these utilities have been implemented in <code>C</code>
for efficiency. They are available through the
<code>use_module(library(tries))</code> command.
</p>
<dl compact="compact">
<dt> <code>trie_open(-<var>Id</var>)</code></dt>
<dd><a name="IDX1998"></a>
<a name="IDX1999"></a>
<a name="IDX2000"></a>

<p>Open a new trie with identifier <var>Id</var>.
</p>
</dd>
<dt> <code>trie_close(+<var>Id</var>)</code></dt>
<dd><a name="IDX2001"></a>
<a name="IDX2002"></a>
<a name="IDX2003"></a>

<p>Close trie with identifier <var>Id</var>.
</p>
</dd>
<dt> <code>trie_close_all</code></dt>
<dd><a name="IDX2004"></a>
<a name="IDX2005"></a>
<a name="IDX2006"></a>

<p>Close all available tries.
</p>
</dd>
<dt> <code>trie_mode(?<var>Mode</var>)</code></dt>
<dd><a name="IDX2007"></a>
<a name="IDX2008"></a>
<a name="IDX2009"></a>

<p>Unify <var>Mode</var> with trie operation mode. Allowed values are either
<code>std</code> (default) or <code>rev</code>.
</p>
</dd>
<dt> <code>trie_put_entry(+<var>Trie</var>,+<var>Term</var>,-<var>Ref</var>)</code></dt>
<dd><a name="IDX2010"></a>
<a name="IDX2011"></a>
<a name="IDX2012"></a>

<p>Add term <var>Term</var> to trie <var>Trie</var>. The handle <var>Ref</var> gives
a reference to the term.
</p>
</dd>
<dt> <code>trie_check_entry(+<var>Trie</var>,+<var>Term</var>,-<var>Ref</var>)</code></dt>
<dd><a name="IDX2013"></a>
<a name="IDX2014"></a>
<a name="IDX2015"></a>

<p>Succeeds if a variant of term <var>Term</var> is in trie <var>Trie</var>. An handle
 <var>Ref</var> gives a reference to the term.
</p>
</dd>
<dt> <code>trie_get_entry(+<var>Ref</var>,-<var>Term</var>)</code></dt>
<dd><a name="IDX2016"></a>
<a name="IDX2017"></a>
<a name="IDX2018"></a>
<p>Unify <var>Term</var> with the entry for handle <var>Ref</var>.
</p>
</dd>
<dt> <code>trie_remove_entry(+<var>Ref</var>)</code></dt>
<dd><a name="IDX2019"></a>
<a name="IDX2020"></a>
<a name="IDX2021"></a>

<p>Remove entry for handle <var>Ref</var>.
</p>
</dd>
<dt> <code>trie_remove_subtree(+<var>Ref</var>)</code></dt>
<dd><a name="IDX2022"></a>
<a name="IDX2023"></a>
<a name="IDX2024"></a>

<p>Remove subtree rooted at handle <var>Ref</var>.
</p>
</dd>
<dt> <code>trie_save(+<var>Trie</var>,+<var>FileName</var>)</code></dt>
<dd><a name="IDX2025"></a>
<a name="IDX2026"></a>
<a name="IDX2027"></a>
<p>Dump trie <var>Trie</var> into file <var>FileName</var>.
</p>

</dd>
<dt> <code>trie_load(+<var>Trie</var>,+<var>FileName</var>)</code></dt>
<dd><a name="IDX2028"></a>
<a name="IDX2029"></a>
<a name="IDX2030"></a>
<p>Load trie <var>Trie</var> from the contents of file <var>FileName</var>.
</p>
</dd>
<dt> <code>trie_stats(-<var>Memory</var>,-<var>Tries</var>,-<var>Entries</var>,-<var>Nodes</var>)</code></dt>
<dd><a name="IDX2031"></a>
<a name="IDX2032"></a>
<a name="IDX2033"></a>
<p>Give generic statistics on tries, including the amount of memory,
<var>Memory</var>, the number of tries, <var>Tries</var>, the number of entries,
<var>Entries</var>, and the total number of nodes, <var>Nodes</var>.
</p>
</dd>
<dt> <code>trie_max_stats(-<var>Memory</var>,-<var>Tries</var>,-<var>Entries</var>,-<var>Nodes</var>)</code></dt>
<dd><a name="IDX2034"></a>
<a name="IDX2035"></a>
<a name="IDX2036"></a>
<p>Give maximal statistics on tries, including the amount of memory,
<var>Memory</var>, the number of tries, <var>Tries</var>, the number of entries,
<var>Entries</var>, and the total number of nodes, <var>Nodes</var>.
</p>

</dd>
<dt> <code>trie_usage(+<var>Trie</var>,-<var>Entries</var>,-<var>Nodes</var>,-<var>VirtualNodes</var>)</code></dt>
<dd><a name="IDX2037"></a>
<a name="IDX2038"></a>
<a name="IDX2039"></a>
<p>Give statistics on trie <var>Trie</var>, the number of entries,
<var>Entries</var>, and the total number of nodes, <var>Nodes</var>, and the
number of <var>VirtualNodes</var>.
</p>
</dd>
<dt> <code>trie_print(+<var>Trie</var>)</code></dt>
<dd><a name="IDX2040"></a>
<a name="IDX2041"></a>
<a name="IDX2042"></a>
<p>Print trie <var>Trie</var> on standard output.
</p>



</dd>
</dl>


<hr size="6">
<a name="Cleanup"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC92" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC72" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<p>&gt;&gt;&gt;&gt;&gt;&gt;&gt; 1.211
</p><a name="SEC93"></a>
<h2 class="section"> 7.21 Call Cleanup </h2>

<p><tt>call_cleanup/1</tt> and <tt>call_cleanup/2</tt> allow predicates to register
code for execution after the call is finished. Predicates can be
declared to be <tt>fragile</tt> to ensure that <tt>call_cleanup</tt> is called
for any Goal which needs it. This library is loaded with the
<code>use_module(library(cleanup))</code> command.
</p>
<dl compact="compact">
<dt> <code>:- fragile <var>P</var>,....,<var>Pn</var></code></dt>
<dd><a name="IDX2043"></a>
<a name="IDX2044"></a>
<a name="IDX2045"></a>
<p>Declares the predicate <var>P</var>=<tt>[module:]name/arity</tt> as a fragile
predicate, module is optional, default is the current
typein_module. Whenever such a fragile predicate is used in a query
it will be called through call_cleanup/1.
</p><table><tr><td>&nbsp;</td><td><pre class="example">:- fragile foo/1,bar:baz/2.
</pre></td></tr></table>

</dd>
<dt> <code>call_cleanup(+<var>Goal</var>)</code></dt>
<dd><a name="IDX2046"></a>
<a name="IDX2047"></a>
<a name="IDX2048"></a>
<p>Execute goal <var>Goal</var> within a cleanup-context. Called predicates
might register cleanup Goals which are called right after the end of
the call to <var>Goal</var>. Cuts and exceptions inside Goal do not prevent the
execution of the cleanup calls. <tt>call_cleanup</tt> might be nested.
</p>
</dd>
<dt> <code>call_cleanup(+<var>Goal</var>, +<var>CleanUpGoal</var>)</code></dt>
<dd><a name="IDX2049"></a>
<a name="IDX2050"></a>
<a name="IDX2051"></a>
<p>This is similar to <tt>call_cleanup/1</tt> with an additional
<var>CleanUpGoal</var> which gets called after <var>Goal</var> is finished.
</p>
</dd>
<dt> <code>on_cleanup(+<var>CleanUpGoal</var>)</code></dt>
<dd><a name="IDX2052"></a>
<a name="IDX2053"></a>
<a name="IDX2054"></a>
<p>Any Predicate might registers a <var>CleanUpGoal</var>. The
<var>CleanUpGoal</var> is put onto the current cleanup context. All such
CleanUpGoals are executed in reverse order of their registration when
the surrounding cleanup-context ends. This call will throw an exception
if a predicate tries to register a <var>CleanUpGoal</var> outside of any
cleanup-context.
</p>
</dd>
<dt> <code>cleanup_all</code></dt>
<dd><a name="IDX2055"></a>
<a name="IDX2056"></a>
<a name="IDX2057"></a>
<p>Calls all pending CleanUpGoals and resets the cleanup-system to an
initial state. Should only be used as one of the last calls in the
main program.
</p>
</dd>
</dl>

<p>There are some private predicates which could be used in special
cases, such as manually setting up cleanup-contexts and registering
CleanUpGoals for other than the current cleanup-context.
Read the Source Luke.
</p>

<hr size="6">
<a name="Timeout"></a>
<a name="SEC94"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC93" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC95" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC72" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.22 Calls With Timeout </h2>

<p>The <tt>time_out/3</tt> command relies on the <tt>alarm/3</tt> built-in to
implement a call with a maximum time of execution. The command is
available with the <code>use_module(library(timeout))</code> command.
</p>
<dl compact="compact">
<dt> <code>time_out(+<var>Goal</var>, +<var>Timeout</var>, -<var>Result</var>)</code></dt>
<dd><a name="IDX2058"></a>
<a name="IDX2059"></a>
<a name="IDX2060"></a>
<p>Execute goal <var>Goal</var> with time limited <var>Timeout</var>, where
<var>Timeout</var> is measured in milliseconds. If the goal succeeds, unify
<var>Result</var> with success. If the timer expires before the goal
terminates, unify <var>Result</var> with <tt>timeout</tt>.
</p>
<p>This command is implemented by activating an alarm at procedure
entry. If the timer expires before the goal completes, the alarm will
through an exception <var>timeout</var>.
</p>
<p>One should note that <code>time_out/3</code> is not reentrant, that is, a goal
called from <code>time_out</code> should never itself call
<tt>time_out</tt>. Moreover, <code>time_out/3</code> will deactivate any previous
alarms set by <code>alarm/3</code> and vice-versa, hence only one of these
calls should be used in a program.
</p>
<p>Last, even though the timer is set in milliseconds, the current
implementation relies on <tt>alarm/3</tt>, and therefore can only offer
precision on the scale of seconds.
</p>
</dd>
</dl>

<hr size="6">
<a name="Trees"></a>
<a name="SEC95"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC94" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC96" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC72" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.23 Updatable Binary Trees </h2>

<p>The following queue manipulation routines are available once
included with the <code>use_module(library(trees))</code> command.
</p>
<dl compact="compact">
<dt> <code>get_label(+<var>Index</var>, +<var>Tree</var>, ?<var>Label</var>)</code></dt>
<dd><a name="IDX2061"></a>
<a name="IDX2062"></a>
<a name="IDX2063"></a>
<p>Treats the tree as an array of <var>N</var> elements and returns the
<var>Index</var>-th.
</p>
</dd>
<dt> <code>list_to_tree(+<var>List</var>, -<var>Tree</var>)</code></dt>
<dd><a name="IDX2064"></a>
<a name="IDX2065"></a>
<a name="IDX2066"></a>
<p>Takes a given <var>List</var> of <var>N</var> elements and constructs a binary
<var>Tree</var>.
</p>
</dd>
<dt> <code>map_tree(+<var>Pred</var>, +<var>OldTree</var>, -<var>NewTree</var>)</code></dt>
<dd><a name="IDX2067"></a>
<a name="IDX2068"></a>
<a name="IDX2069"></a>
<p>Holds when <var>OldTree</var> and <var>NewTree</var> are binary trees of the same shape
and <code>Pred(Old,New)</code> is true for corresponding elements of the two trees.
</p>
</dd>
<dt> <code>put_label(+<var>Index</var>, +<var>OldTree</var>, +<var>Label</var>, -<var>NewTree</var>)</code></dt>
<dd><a name="IDX2070"></a>
<a name="IDX2071"></a>
<a name="IDX2072"></a>
<p>constructs a new tree the same shape as the old which moreover has the
same elements except that the <var>Index</var>-th one is <var>Label</var>.
</p>
</dd>
<dt> <code>tree_size(+<var>Tree</var>, -<var>Size</var>)</code></dt>
<dd><a name="IDX2073"></a>
<a name="IDX2074"></a>
<a name="IDX2075"></a>
<p>Calculates the number of elements in the <var>Tree</var>.
</p>
</dd>
<dt> <code>tree_to_list(+<var>Tree</var>, -<var>List</var>)</code></dt>
<dd><a name="IDX2076"></a>
<a name="IDX2077"></a>
<a name="IDX2078"></a>
<p>Is the converse operation to list_to_tree.
</p>
</dd>
</dl>

<hr size="6">
<a name="UGraphs"></a>
<a name="SEC96"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC95" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC97" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC72" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.24 Unweighted Graphs </h2>

<p>The following graph manipulation routines are based in code originally
written by Richard O'Keefe. The code was then extended to be compatible
with the SICStus Prolog ugraphs library. The routines assume directed
graphs, undirected graphs may be implemented by using two edges. Graphs
are represented in one of two ways:
</p>
<ul>
<li> The P-representation of a graph is a list of (from-to) vertex
pairs, where the pairs can be in any old order.  This form is
convenient for input/output.
 
</li><li> The S-representation of a graph is a list of (vertex-neighbors)
pairs, where the pairs are in standard order (as produced by keysort)
and the neighbors of each vertex are also in standard order (as
produced by sort).  This form is convenient for many calculations.
</li></ul>

<p>These built-ins are available once included with the
<code>use_module(library(ugraphs))</code> command.
</p>
<dl compact="compact">
<dt> <code>vertices_edges_to_ugraph(+<var>Vertices</var>, +<var>Edges</var>, -<var>Graph</var>)</code></dt>
<dd><a name="IDX2079"></a>
<a name="IDX2080"></a>
<a name="IDX2081"></a>
<p>Given a graph with a set of vertices <var>Vertices</var> and a set of edges
<var>Edges</var>, <var>Graph</var> must unify with the corresponding
s-representation. Note that the vertices without edges will appear in
<var>Vertices</var> but not in <var>Edges</var>. Moreover, it is sufficient for a
vertice to appear in <var>Edges</var>.
</p><table><tr><td>&nbsp;</td><td><pre class="example">?- vertices_edges_to_ugraph([],[1-3,2-4,4-5,1-5],L).

L = [1-[3,5],2-[4],3-[],4-[5],5-[]] ? 

</pre></td></tr></table>
<p>In this case all edges are defined implicitly. The next example shows
three unconnected edges:
</p><table><tr><td>&nbsp;</td><td><pre class="example">?- vertices_edges_to_ugraph([6,7,8],[1-3,2-4,4-5,1-5],L).

L = [1-[3,5],2-[4],3-[],4-[5],5-[],6-[],7-[],8-[]] ? 

</pre></td></tr></table>

</dd>
<dt> <code>vertices(+<var>Graph</var>, -<var>Vertices</var>)</code></dt>
<dd><a name="IDX2082"></a>
<a name="IDX2083"></a>
<a name="IDX2084"></a>
<p>Unify <var>Vertices</var> with all vertices appearing in graph
<var>Graph</var>. In the next example:
</p><table><tr><td>&nbsp;</td><td><pre class="example">?- vertices([1-[3,5],2-[4],3-[],4-[5],5-[]], V).

L = [1,2,3,4,5]
</pre></td></tr></table>

</dd>
<dt> <code>edges(+<var>Graph</var>, -<var>Edges</var>)</code></dt>
<dd><a name="IDX2085"></a>
<a name="IDX2086"></a>
<a name="IDX2087"></a>
<p>Unify <var>Edges</var> with all edges appearing in graph
<var>Graph</var>. In the next example:
</p><table><tr><td>&nbsp;</td><td><pre class="example">?- vertices([1-[3,5],2-[4],3-[],4-[5],5-[]], V).

L = [1,2,3,4,5]
</pre></td></tr></table>

</dd>
<dt> <code>add_vertices(+<var>Graph</var>, +<var>Vertices</var>, -<var>NewGraph</var>)</code></dt>
<dd><a name="IDX2088"></a>
<a name="IDX2089"></a>
<a name="IDX2090"></a>
<p>Unify <var>NewGraph</var> with a new graph obtained by adding the list of
vertices <var>Vertices</var> to the graph <var>Graph</var>. In the next example:
</p><table><tr><td>&nbsp;</td><td><pre class="example">?- add_vertices([1-[3,5],2-[4],3-[],4-[5],
                 5-[],6-[],7-[],8-[]],
                [0,2,9,10,11],
                   NG).

NG = [0-[],1-[3,5],2-[4],3-[],4-[5],5-[],
      6-[],7-[],8-[],9-[],10-[],11-[]]
</pre></td></tr></table>

</dd>
<dt> <code>del_vertices(+<var>Graph</var>, +<var>Vertices</var>, -<var>NewGraph</var>)</code></dt>
<dd><a name="IDX2091"></a>
<a name="IDX2092"></a>
<a name="IDX2093"></a>
<p>Unify <var>NewGraph</var> with a new graph obtained by deleting the list of
vertices <var>Vertices</var> and all the edges that start from or go to a
vertex in <var>Vertices</var> to the graph <var>Graph</var>. In the next example:
</p><table><tr><td>&nbsp;</td><td><pre class="example">?- del_vertices([2,1],[1-[3,5],2-[4],3-[],
                 4-[5],5-[],6-[],7-[2,6],8-[]],NL).

NL = [3-[],4-[5],5-[],6-[],7-[6],8-[]]
</pre></td></tr></table>

</dd>
<dt> <code>add_edges(+<var>Graph</var>, +<var>Edges</var>, -<var>NewGraph</var>)</code></dt>
<dd><a name="IDX2094"></a>
<a name="IDX2095"></a>
<a name="IDX2096"></a>
<p>Unify <var>NewGraph</var> with a new graph obtained by adding the list of
edges <var>Edges</var> to the graph <var>Graph</var>. In the next example:
</p><table><tr><td>&nbsp;</td><td><pre class="example">?- add_edges([1-[3,5],2-[4],3-[],4-[5],5-[],6-[],
              7-[],8-[]],[1-6,2-3,3-2,5-7,3-2,4-5],NL).

NL = [1-[3,5,6],2-[3,4],3-[2],4-[5],5-[7],6-[],7-[],8-[]]
</pre></td></tr></table>

</dd>
<dt> <code>del_edges(+<var>Graph</var>, +<var>Edges</var>, -<var>NewGraph</var>)</code></dt>
<dd><a name="IDX2097"></a>
<a name="IDX2098"></a>
<a name="IDX2099"></a>
<p>Unify <var>NewGraph</var> with a new graph obtained by removing the list of
edges <var>Edges</var> from the graph <var>Graph</var>. Notice that no vertices
are deleted. In the next example:
</p><table><tr><td>&nbsp;</td><td><pre class="example">?- del_edges([1-[3,5],2-[4],3-[],4-[5],5-[],
              6-[],7-[],8-[]],
             [1-6,2-3,3-2,5-7,3-2,4-5,1-3],NL).

NL = [1-[5],2-[4],3-[],4-[],5-[],6-[],7-[],8-[]]
</pre></td></tr></table>

</dd>
<dt> <code>transpose(+<var>Graph</var>, -<var>NewGraph</var>)</code></dt>
<dd><a name="IDX2100"></a>
<a name="IDX2101"></a>
<a name="IDX2102"></a>
<p>Unify <var>NewGraph</var> with a new graph obtained from <var>Graph</var> by
replacing all edges of the form <var>V1-V2</var> by edges of the form
<var>V2-V1</var>. The cost is <code>O(|V|^2)</code>. In the next example:
</p><table><tr><td>&nbsp;</td><td><pre class="example">?- transpose([1-[3,5],2-[4],3-[],
              4-[5],5-[],6-[],7-[],8-[]], NL).

NL = [1-[],2-[],3-[1],4-[2],5-[1,4],6-[],7-[],8-[]]
</pre></td></tr></table>
<p>Notice that an undirected graph is its own transpose.
</p>
</dd>
<dt> <code>neighbors(+<var>Vertex</var>, +<var>Graph</var>, -<var>Vertices</var>)</code></dt>
<dd><a name="IDX2103"></a>
<a name="IDX2104"></a>
<a name="IDX2105"></a>
<p>Unify <var>Vertices</var> with the list of neighbors of vertex <var>Vertex</var>
in <var>Graph</var>. If the vertice is not in the graph fail. In the next
example:
</p><table><tr><td>&nbsp;</td><td><pre class="example">?- neighbors(4,[1-[3,5],2-[4],3-[],
                4-[1,2,7,5],5-[],6-[],7-[],8-[]],
             NL).

NL = [1,2,7,5]
</pre></td></tr></table>

</dd>
<dt> <code>neighbours(+<var>Vertex</var>, +<var>Graph</var>, -<var>Vertices</var>)</code></dt>
<dd><a name="IDX2106"></a>
<a name="IDX2107"></a>
<a name="IDX2108"></a>
<p>Unify <var>Vertices</var> with the list of neighbours of vertex <var>Vertex</var>
in <var>Graph</var>. In the next example:
</p><table><tr><td>&nbsp;</td><td><pre class="example">?- neighbours(4,[1-[3,5],2-[4],3-[],
                 4-[1,2,7,5],5-[],6-[],7-[],8-[]], NL).

NL = [1,2,7,5]
</pre></td></tr></table>

</dd>
<dt> <code>complement(+<var>Graph</var>, -<var>NewGraph</var>)</code></dt>
<dd><a name="IDX2109"></a>
<a name="IDX2110"></a>
<a name="IDX2111"></a>
<p>Unify <var>NewGraph</var> with the graph complementary to <var>Graph</var>.
 In the next example:
</p><table><tr><td>&nbsp;</td><td><pre class="example">?- complement([1-[3,5],2-[4],3-[],
               4-[1,2,7,5],5-[],6-[],7-[],8-[]], NL).

NL = [1-[2,4,6,7,8],2-[1,3,5,6,7,8],3-[1,2,4,5,6,7,8],
      4-[3,5,6,8],5-[1,2,3,4,6,7,8],6-[1,2,3,4,5,7,8],
      7-[1,2,3,4,5,6,8],8-[1,2,3,4,5,6,7]]
</pre></td></tr></table>

</dd>
<dt> <code>compose(+<var>LeftGraph</var>, +<var>RightGraph</var>, -<var>NewGraph</var>)</code></dt>
<dd><a name="IDX2112"></a>
<a name="IDX2113"></a>
<a name="IDX2114"></a>
<p>Compose the graphs <var>LeftGraph</var> and <var>RightGraph</var> to form <var>NewGraph</var>.
 In the next example:
</p><table><tr><td>&nbsp;</td><td><pre class="example">?- compose([1-[2],2-[3]],[2-[4],3-[1,2,4]],L).

L = [1-[4],2-[1,2,4],3-[]]
</pre></td></tr></table>

</dd>
<dt> <code>top_sort(+<var>Graph</var>, -<var>Sort</var>)</code></dt>
<dd><a name="IDX2115"></a>
<a name="IDX2116"></a>
<a name="IDX2117"></a>
<p>Generate the set of nodes <var>Sort</var> as a topological sorting of graph
<var>Graph</var>, if one is possible.
 In the next example we show how topological sorting works for a linear graph:
</p><table><tr><td>&nbsp;</td><td><pre class="example">?- top_sort([_138-[_219],_219-[_139], _139-[]],L).

L = [_138,_219,_139]
</pre></td></tr></table>

</dd>
<dt> <code>top_sort(+<var>Graph</var>, -<var>Sort0</var>, -<var>Sort</var>)</code></dt>
<dd><a name="IDX2118"></a>
<a name="IDX2119"></a>
<a name="IDX2120"></a>
<p>Generate the difference list <var>Sort</var>-<var>Sort0</var> as a topological
sorting of graph <var>Graph</var>, if one is possible.
</p>
</dd>
<dt> <code>transitive_closure(+<var>Graph</var>, +<var>Closure</var>)</code></dt>
<dd><a name="IDX2121"></a>
<a name="IDX2122"></a>
<a name="IDX2123"></a>
<p>Generate the graph <var>Closure</var> as the transitive closure of graph
<var>Graph</var>.
 In the next example:
</p><table><tr><td>&nbsp;</td><td><pre class="example">?- transitive_closure([1-[2,3],2-[4,5],4-[6]],L).

L = [1-[2,3,4,5,6],2-[4,5,6],4-[6]]
</pre></td></tr></table>

</dd>
<dt> <code>reachable(+<var>Node</var>, +<var>Graph</var>, -<var>Vertices</var>)</code></dt>
<dd><a name="IDX2124"></a>
<a name="IDX2125"></a>
<a name="IDX2126"></a>
<p>Unify <var>Vertices</var> with the set of all vertices in graph
<var>Graph</var> that are reachable from <var>Node</var>. In the next example:
</p><table><tr><td>&nbsp;</td><td><pre class="example">?- reachable(1,[1-[3,5],2-[4],3-[],4-[5],5-[]],V).

V = [1,3,5]
</pre></td></tr></table>

</dd>
</dl>

<hr size="6">
<a name="DGraphs"></a>
<a name="SEC97"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC96" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC98" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC72" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.25 Directed Graphs </h2>

<p>The following graph manipulation routines use the red-black tree library
to try to avoid linear-time scans of the graph for all graph
operations. Graphs are represented as a red-black tree, where the key is
the vertex, and the associated value is a list of vertices reachable
from that vertex through an edge (ie, a list of edges). 
</p>
<dl compact="compact">
<dt> <code>dgraph_new(+<var>Graph</var>)</code></dt>
<dd><a name="IDX2127"></a>
<a name="IDX2128"></a>
<a name="IDX2129"></a>
<p>Create a new directed graph. This operation must be performed before
trying to use the graph.
</p>
</dd>
<dt> <code>dgraph_vertices(+<var>Graph</var>, -<var>Vertices</var>)</code></dt>
<dd><a name="IDX2130"></a>
<a name="IDX2131"></a>
<a name="IDX2132"></a>
<p>Unify <var>Vertices</var> with all vertices appearing in graph
<var>Graph</var>.
</p>
</dd>
<dt> <code>dgraph_edge(+<var>N1</var>, +<var>N2</var>, +<var>Graph</var>)</code></dt>
<dd><a name="IDX2133"></a>
<a name="IDX2134"></a>
<a name="IDX2135"></a>
<p>Edge <var>N1</var>-<var>N2</var> is an edge in directed graph <var>Graph</var>.
</p>
</dd>
<dt> <code>dgraph_edges(+<var>Graph</var>, -<var>Edges</var>)</code></dt>
<dd><a name="IDX2136"></a>
<a name="IDX2137"></a>
<a name="IDX2138"></a>
<p>Unify <var>Edges</var> with all edges appearing in graph
<var>Graph</var>.
</p>
</dd>
<dt> <code>dgraph_add_vertices(+<var>Graph</var>, +<var>Vertices</var>, -<var>NewGraph</var>)</code></dt>
<dd><a name="IDX2139"></a>
<a name="IDX2140"></a>
<a name="IDX2141"></a>
<p>Unify <var>NewGraph</var> with a new graph obtained by adding the list of
vertices <var>Vertices</var> to the graph <var>Graph</var>.
</p>
</dd>
<dt> <code>dgraph_del_vertices(+<var>Vertices</var>, +<var>Graph</var>, -<var>NewGraph</var>)</code></dt>
<dd><a name="IDX2142"></a>
<a name="IDX2143"></a>
<a name="IDX2144"></a>
<p>Unify <var>NewGraph</var> with a new graph obtained by deleting the list of
vertices <var>Vertices</var> and all the edges that start from or go to a
vertex in <var>Vertices</var> to the graph <var>Graph</var>.
</p>
</dd>
<dt> <code>dgraph_add_edges(+<var>Graph</var>, +<var>Edges</var>, -<var>NewGraph</var>)</code></dt>
<dd><a name="IDX2145"></a>
<a name="IDX2146"></a>
<a name="IDX2147"></a>
<p>Unify <var>NewGraph</var> with a new graph obtained by adding the list of
edges <var>Edges</var> to the graph <var>Graph</var>.
</p>
</dd>
<dt> <code>dgraph_del_edges(+<var>Graph</var>, +<var>Edges</var>, -<var>NewGraph</var>)</code></dt>
<dd><a name="IDX2148"></a>
<a name="IDX2149"></a>
<a name="IDX2150"></a>
<p>Unify <var>NewGraph</var> with a new graph obtained by removing the list of
edges <var>Edges</var> from the graph <var>Graph</var>. Notice that no vertices
are deleted.
</p>
</dd>
<dt> <code>dgraph_neighbors(+<var>Vertex</var>, +<var>Graph</var>, -<var>Vertices</var>)</code></dt>
<dd><a name="IDX2151"></a>
<a name="IDX2152"></a>
<a name="IDX2153"></a>
<p>Unify <var>Vertices</var> with the list of neighbors of vertex <var>Vertex</var>
in <var>Graph</var>. If the vertice is not in the graph fail.
</p>
</dd>
<dt> <code>dgraph_neighbours(+<var>Vertex</var>, +<var>Graph</var>, -<var>Vertices</var>)</code></dt>
<dd><a name="IDX2154"></a>
<a name="IDX2155"></a>
<a name="IDX2156"></a>
<p>Unify <var>Vertices</var> with the list of neighbours of vertex <var>Vertex</var>
in <var>Graph</var>.
</p>
</dd>
<dt> <code>dgraph_complement(+<var>Graph</var>, -<var>NewGraph</var>)</code></dt>
<dd><a name="IDX2157"></a>
<a name="IDX2158"></a>
<a name="IDX2159"></a>
<p>Unify <var>NewGraph</var> with the graph complementary to <var>Graph</var>.
</p>
</dd>
<dt> <code>dgraph_transpose(+<var>Graph</var>, -<var>Transpose</var>)</code></dt>
<dd><a name="IDX2160"></a>
<a name="IDX2161"></a>
<a name="IDX2162"></a>
<p>Unify <var>NewGraph</var> with a new graph obtained from <var>Graph</var> by
replacing all edges of the form <var>V1-V2</var> by edges of the form
<var>V2-V1</var>. 
</p>
</dd>
<dt> <code>dgraph_close(+<var>Graph1</var>, +<var>Graph2</var>, -<var>ComposedGraph</var>)</code></dt>
<dd><a name="IDX2163"></a>
<a name="IDX2164"></a>
<a name="IDX2165"></a>
<p>Unify <var>ComposedGraph</var> with a new graph obtained by composing
<var>Graph1</var> and <var>Graph2</var>, ie, <var>ComposedGraph</var> has an edge
<var>V1-V2</var> iff there is a <var>V</var> such that <var>V1-V</var> in <var>Graph1</var>
and <var>V-V2</var> in <var>Graph2</var>.
</p>
</dd>
<dt> <code>dgraph_transitive_closure(+<var>Graph</var>, -<var>Closure</var>)</code></dt>
<dd><a name="IDX2166"></a>
<a name="IDX2167"></a>
<a name="IDX2168"></a>
<p>Unify <var>Closure</var> with the transitive closure of graph <var>Graph</var>.
</p>
</dd>
<dt> <code>dgraph_symmetric_closure(+<var>Graph</var>, -<var>Closure</var>)</code></dt>
<dd><a name="IDX2169"></a>
<a name="IDX2170"></a>
<a name="IDX2171"></a>
<p>Unify <var>Closure</var> with the symmetric closure of graph <var>Graph</var>,
that is,  if <var>Closure</var> contains an edge <var>U-V</var> it must also
contain the edge <var>V-U</var>.
</p>
</dd>
<dt> <code>dgraph_top_sort(+<var>Graph</var>, -<var>Vertices</var>)</code></dt>
<dd><a name="IDX2172"></a>
<a name="IDX2173"></a>
<a name="IDX2174"></a>
<p>Unify <var>Vertices</var> with the topological sort of graph <var>Graph</var>.
</p>
</dd>
<dt> <code>dgraph_to_ugraph(+<var>Graph</var>, -<var>UGraph</var>)</code></dt>
<dd><a name="IDX2175"></a>
<a name="IDX2176"></a>
<a name="IDX2177"></a>
<p>Unify <var>UGraph</var> with the representation used by the <var>ugraphs</var>
unweighted graphs library, that is, a list of the form
<var>V-Neighbors</var>, where <var>V</var> is a node and <var>Neighbors</var> the nodes
children.
</p>
</dd>
<dt> <code>ugraph_to_dgraph( +<var>UGraph</var>, -<var>Graph</var>)</code></dt>
<dd><a name="IDX2178"></a>
<a name="IDX2179"></a>
<a name="IDX2180"></a>
<p>Unify <var>Graph</var> with the directed graph obtain from <var>UGraph</var>,
represented in the form used in the <var>ugraphs</var> unweighted graphs
library.
</p></dd>
</dl>

<hr size="6">
<a name="UnDGraphs"></a>
<a name="SEC98"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC97" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC99" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC72" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.26 Undirected Graphs </h2>

<p>The following graph manipulation routines use the red-black tree graph
library to implement undirected graphs. Mostly, this is done by having
two directed edges per undirected edge.
</p>
<dl compact="compact">
<dt> <code>undgraph_new(+<var>Graph</var>)</code></dt>
<dd><a name="IDX2181"></a>
<a name="IDX2182"></a>
<a name="IDX2183"></a>
<p>Create a new directed graph. This operation must be performed before
trying to use the graph.
</p>
</dd>
<dt> <code>undgraph_vertices(+<var>Graph</var>, -<var>Vertices</var>)</code></dt>
<dd><a name="IDX2184"></a>
<a name="IDX2185"></a>
<a name="IDX2186"></a>
<p>Unify <var>Vertices</var> with all vertices appearing in graph
<var>Graph</var>.
</p>
</dd>
<dt> <code>undgraph_edge(+<var>N1</var>, +<var>N2</var>, +<var>Graph</var>)</code></dt>
<dd><a name="IDX2187"></a>
<a name="IDX2188"></a>
<a name="IDX2189"></a>
<p>Edge <var>N1</var>-<var>N2</var> is an edge in undirected graph <var>Graph</var>.
</p>
</dd>
<dt> <code>undgraph_edges(+<var>Graph</var>, -<var>Edges</var>)</code></dt>
<dd><a name="IDX2190"></a>
<a name="IDX2191"></a>
<a name="IDX2192"></a>
<p>Unify <var>Edges</var> with all edges appearing in graph
<var>Graph</var>.
</p>
</dd>
<dt> <code>undgraph_add_vertices(+<var>Graph</var>, +<var>Vertices</var>, -<var>NewGraph</var>)</code></dt>
<dd><a name="IDX2193"></a>
<a name="IDX2194"></a>
<a name="IDX2195"></a>
<p>Unify <var>NewGraph</var> with a new graph obtained by adding the list of
vertices <var>Vertices</var> to the graph <var>Graph</var>.
</p>
</dd>
<dt> <code>undgraph_del_vertices(+<var>Graph</var>, +<var>Vertices</var>, -<var>NewGraph</var>)</code></dt>
<dd><a name="IDX2196"></a>
<a name="IDX2197"></a>
<a name="IDX2198"></a>
<p>Unify <var>NewGraph</var> with a new graph obtained by deleting the list of
vertices <var>Vertices</var> and all the edges that start from or go to a
vertex in <var>Vertices</var> to the graph <var>Graph</var>.
</p>
</dd>
<dt> <code>undgraph_add_edges(+<var>Graph</var>, +<var>Edges</var>, -<var>NewGraph</var>)</code></dt>
<dd><a name="IDX2199"></a>
<a name="IDX2200"></a>
<a name="IDX2201"></a>
<p>Unify <var>NewGraph</var> with a new graph obtained by adding the list of
edges <var>Edges</var> to the graph <var>Graph</var>.
</p>
</dd>
<dt> <code>undgraph_del_edges(+<var>Graph</var>, +<var>Edges</var>, -<var>NewGraph</var>)</code></dt>
<dd><a name="IDX2202"></a>
<a name="IDX2203"></a>
<a name="IDX2204"></a>
<p>Unify <var>NewGraph</var> with a new graph obtained by removing the list of
edges <var>Edges</var> from the graph <var>Graph</var>. Notice that no vertices
are deleted.
</p>
</dd>
<dt> <code>undgraph_neighbors(+<var>Vertex</var>, +<var>Graph</var>, -<var>Vertices</var>)</code></dt>
<dd><a name="IDX2205"></a>
<a name="IDX2206"></a>
<a name="IDX2207"></a>
<p>Unify <var>Vertices</var> with the list of neighbors of vertex <var>Vertex</var>
in <var>Graph</var>. If the vertice is not in the graph fail.
</p>
</dd>
<dt> <code>undgraph_neighbours(+<var>Vertex</var>, +<var>Graph</var>, -<var>Vertices</var>)</code></dt>
<dd><a name="IDX2208"></a>
<a name="IDX2209"></a>
<a name="IDX2210"></a>
<p>Unify <var>Vertices</var> with the list of neighbours of vertex <var>Vertex</var>
in <var>Graph</var>.
</p>
</dd>
<dt> <code>undgraph_complement(+<var>Graph</var>, -<var>NewGraph</var>)</code></dt>
<dd><a name="IDX2211"></a>
<a name="IDX2212"></a>
<a name="IDX2213"></a>
<p>Unify <var>NewGraph</var> with the graph complementary to <var>Graph</var>.
</p>
</dd>
<dt> <code>dgraph_to_undgraph( +<var>DGraph</var>, -<var>UndGraph</var>)</code></dt>
<dd><a name="IDX2214"></a>
<a name="IDX2215"></a>
<a name="IDX2216"></a>
<p>Unify <var>UndGraph</var> with teh undirected graph obtained from the
directed graph <var>DGraph</var>.
</p>
</dd>
</dl>

<hr size="6">
<a name="LAM"></a>
<a name="SEC99"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC98" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC72" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.27 LAM </h2>

<p>This library provides a set of utilities for interfacing with LAM MPI.
The following routines are available once included with the
<code>use_module(library(lam_mpi))</code> command. The yap should be
invoked using the LAM mpiexec or mpirun commands (see LAM manual for
more details).
</p>
<dl compact="compact">
<dt> <code>mpi_init</code></dt>
<dd><a name="IDX2217"></a>
<a name="IDX2218"></a>
<a name="IDX2219"></a>
<p>      Sets up the mpi environment. This predicate should be called before any other MPI predicate.
</p>
</dd>
<dt> <code>mpi_finalize</code></dt>
<dd><a name="IDX2220"></a>
<a name="IDX2221"></a>
<a name="IDX2222"></a>
<p>      Terminates the MPI execution environment. Every process must call this predicate before  exiting.
</p>
</dd>
<dt> <code>mpi_comm_size(-<var>Size</var>)</code></dt>
<dd><a name="IDX2223"></a>
<a name="IDX2224"></a>
<a name="IDX2225"></a>
<p>      Unifies <var>Size</var> with the number of processes in the MPI environment.
</p>

</dd>
<dt> <code>mpi_comm_rank(-<var>Rank</var>)</code></dt>
<dd><a name="IDX2226"></a>
<a name="IDX2227"></a>
<a name="IDX2228"></a>
<p>      Unifies <var>Rank</var> with the rank of the current process in the MPI environment.
</p>
</dd>
<dt> <code>mpi_version(-<var>Major</var>,-<var>Minor</var>)</code></dt>
<dd><a name="IDX2229"></a>
<a name="IDX2230"></a>
<a name="IDX2231"></a>
<p>      Unifies <var>Major</var> and <var>Minor</var> with, respectively, the major and minor version of the MPI.
</p>

</dd>
<dt> <code>mpi_send(+<var>Data</var>,+<var>Dest</var>,+<var>Tag</var>)</code></dt>
<dd><a name="IDX2232"></a>
<a name="IDX2233"></a>
<a name="IDX2234"></a>

<p>Blocking communication predicate. The message in <var>Data</var>, with tag
<var>Tag</var>, is sent immediately to the processor with rank <var>Dest</var>.
The predicate succeeds after the message being sent.
</p>


</dd>
<dt> <code>mpi_isend(+<var>Data</var>,+<var>Dest</var>,+<var>Tag</var>,-<var>Handle</var>)</code></dt>
<dd><a name="IDX2235"></a>
<a name="IDX2236"></a>
<a name="IDX2237"></a>

<p>Non blocking communication predicate. The message in <var>Data</var>, with
tag <var>Tag</var>, is sent whenever possible to the processor with rank
<var>Dest</var>. An <var>Handle</var> to the message is returned to be used to
check for the status of the message, using the <code>mpi_wait</code> or
<code>mpi_test</code> predicates. Until <code>mpi_wait</code> is called, the
memory allocated for the buffer containing the message is not
released.
</p>
</dd>
<dt> <code>mpi_recv(?<var>Source</var>,?<var>Tag</var>,-<var>Data</var>)</code></dt>
<dd><a name="IDX2238"></a>
<a name="IDX2239"></a>
<a name="IDX2240"></a>

<p>Blocking communication predicate. The predicate blocks until a message
is received from processor with rank <var>Source</var> and tag <var>Tag</var>.
The message is placed in <var>Data</var>.
</p>
</dd>
<dt> <code>mpi_irecv(?<var>Source</var>,?<var>Tag</var>,-<var>Handle</var>)</code></dt>
<dd><a name="IDX2241"></a>
<a name="IDX2242"></a>
<a name="IDX2243"></a>

<p>Non-blocking communication predicate. The predicate returns an
<var>Handle</var> for a message that will be received from processor with
rank <var>Source</var> and tag <var>Tag</var>. Note that the predicate succeeds
immediately, even if no message has been received. The predicate
<code>mpi_wait_recv</code> should be used to obtain the data associated to
the handle.
</p>
</dd>
<dt> <code>mpi_wait_recv(?<var>Handle</var>,-<var>Status</var>,-<var>Data</var>)</code></dt>
<dd><a name="IDX2244"></a>
<a name="IDX2245"></a>
<a name="IDX2246"></a>

<p>Completes a non-blocking receive operation. The predicate blocks until
a message associated with handle <var>Hanlde</var> is buffered. The
predicate succeeds unifying <var>Status</var> with the status of the
message and <var>Data</var> with the message itself. 
</p>
</dd>
<dt> <code>mpi_test_recv(?<var>Handle</var>,-<var>Status</var>,-<var>Data</var>)</code></dt>
<dd><a name="IDX2247"></a>
<a name="IDX2248"></a>
<a name="IDX2249"></a>

<p>Provides information regarding a handle. If the message associated
with handle <var>Hanlde</var> is buffered then the predicate succeeds
unifying <var>Status</var> with the status of the message and <var>Data</var>
with the message itself. Otherwise, the predicate fails.
</p>

</dd>
<dt> <code>mpi_wait(?<var>Handle</var>,-<var>Status</var>)</code></dt>
<dd><a name="IDX2250"></a>
<a name="IDX2251"></a>
<a name="IDX2252"></a>

<p>Completes a non-blocking operation. If the operation was a
<code>mpi_send</code>, the predicate blocks until the message is buffered
or sent by the runtime system. At this point the send buffer is
released. If the operation was a <code>mpi_recv</code>, it waits until the
message is copied to the receive buffer. <var>Status</var> is unified with
the status of the message.
</p>
</dd>
<dt> <code>mpi_test(?<var>Handle</var>,-<var>Status</var>)</code></dt>
<dd><a name="IDX2253"></a>
<a name="IDX2254"></a>
<a name="IDX2255"></a>

<p>Provides information regarding the handle <var>Handle</var>, ie., if a
communication operation has been completed.  If the operation
associate with <var>Hanlde</var> has been completed the predicate succeeds
with the completion status in <var>Status</var>, otherwise it fails.
</p>
</dd>
<dt> <code>mpi_barrier</code></dt>
<dd><a name="IDX2256"></a>
<a name="IDX2257"></a>
<a name="IDX2258"></a>

<p>Collective communication predicate.  Performs a barrier
synchronization among all processes. Note that a collective
communication means that all processes call the same predicate. To be
able to use a regular <code>mpi_recv</code> to receive the messages, one
should use <code>mpi_bcast2</code>.
</p>

</dd>
<dt> <code>mpi_bcast2(+<var>Root</var>, +<var>Data</var>)</code></dt>
<dd><a name="IDX2259"></a>
<a name="IDX2260"></a>
<a name="IDX2261"></a>

<p>Broadcasts the message <var>Data</var> from the process with rank <var>Root</var>
to all other processes.
</p>
</dd>
<dt> <code>mpi_bcast3(+<var>Root</var>, +<var>Data</var>, +<var>Tag</var>)</code></dt>
<dd><a name="IDX2262"></a>
<a name="IDX2263"></a>
<a name="IDX2264"></a>

<p>Broadcasts the message <var>Data</var> with tag <var>Tag</var> from the process with rank <var>Root</var>
to all other processes.
</p>
</dd>
<dt> <code>mpi_ibcast(+<var>Root</var>, +<var>Data</var>, +<var>Tag</var>)</code></dt>
<dd><a name="IDX2265"></a>
<a name="IDX2266"></a>
<a name="IDX2267"></a>

<p>Non-blocking operation. Broadcasts the message <var>Data</var> with tag <var>Tag</var>
from the process with rank <var>Root</var> to all other processes.
</p>
</dd>
<dt> <code>mpi_gc</code></dt>
<dd><a name="IDX2268"></a>
<a name="IDX2269"></a>
<a name="IDX2270"></a>

<p>Attempts to perform garbage collection with all the open handles
associated with send and non-blocking broadcasts. For each handle it
tests it and the message has been delivered the handle and the buffer
are released.
</p>
</dd>
</dl>


<hr size="6">
<a name="SWI_002dProlog"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC99" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC101" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC72" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC107" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>

<table class="menu" border="0" cellspacing="0">
 SWI-Prolog Emulation
<p>Subnodes of SWI-Prolog
<a href="#SEC101">8.1 Invoking Predicates on all Members of a List</a>&nbsp; maplist and friends
<a href="#SEC102">8.2 Forall</a>&nbsp; forall built-in
<a href="#SEC103">8.3 hProlog and SWI-Prolog Attributed Variables</a>&nbsp; Emulating SWI-like attributed variables
<a href="#SEC105">8.4 SWI Global variables</a>&nbsp; Emulating SWI-like attributed variables
</p></table>

<a name="SEC100"></a>
<h1 class="chapter"> 8. SWI-Prolog Emulation </h1>

<p>This library provides a number of SWI-Prolog builtins that are not by
default in YAP. This library is loaded with the
<code>use_module(library(swi))</code> command.
</p>
<dl compact="compact">
<dt> <code>append(?<var>List1</var>,?<var>List2</var>,?<var>List3</var>)</code></dt>
<dd><a name="IDX2271"></a>
<a name="IDX2272"></a>
<a name="IDX2273"></a>
<p>Succeeds when <var>List3</var> unifies with the concatenation of <var>List1</var>
and <var>List2</var>. The predicate can be used with any instantiation
pattern (even three variables).
</p>
</dd>
<dt> <code>between(+<var>Low</var>,+<var>High</var>,?<var>Value</var>)</code></dt>
<dd><a name="IDX2274"></a>
<a name="IDX2275"></a>
<a name="IDX2276"></a>

<p><var>Low</var> and <var>High</var> are integers, <var>High</var> less or equal than
<var>Low</var>. If <var>Value</var> is an integer, <var>Low</var> less or equal than
<var>Value</var> less or equal than <var>High</var>.  When <var>Value</var> is a
variable it is successively bound to all integers between <var>Low</var> and
<var>High</var>.  If <var>High</var> is <code>inf</code>, <code>between/3</code> is true iff
<var>Value</var> less or equal than <var>Low</var>, a feature that is particularly
interesting for generating integers from a certain value.
</p>
</dd>
<dt> <code>chdir(+<var>Dir</var>)</code></dt>
<dd><a name="IDX2277"></a>
<a name="IDX2278"></a>
<a name="IDX2279"></a>

<p>Compatibility predicate.  New code should use <code>working_directory/2</code>.
</p>
</dd>
<dt> <code>concat_atom(+<var>List</var>,-<var>Atom</var>)</code></dt>
<dd><a name="IDX2280"></a>
<a name="IDX2281"></a>
<a name="IDX2282"></a>

<p><var>List</var> is a list of atoms, integers or floating point numbers. Succeeds
if <var>Atom</var> can be unified with the concatenated elements of <var>List</var>. If
<var>List</var> has exactly 2 elements it is equivalent to <code>atom_concat/3</code>,
allowing for variables in the list.
</p>
</dd>
<dt> <code>concat_atom(?<var>List</var>,+<var>Separator</var>,?<var>Atom</var>)</code></dt>
<dd><a name="IDX2283"></a>
<a name="IDX2284"></a>
<a name="IDX2285"></a>

<p>Creates an atom just like concat_atom/2, but inserts <var>Separator</var>
between each pair of atoms.  For example:
\</p><table><tr><td>&nbsp;</td><td><pre class="example">?- concat_atom([gnu, gnat], ', ', A).

A = 'gnu, gnat'
</pre></td></tr></table>

<p>(Unimplemented) This predicate can also be used to split atoms by
instantiating <var>Separator</var> and <var>Atom</var>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">?- concat_atom(L, -, 'gnu-gnat').

L = [gnu, gnat]
</pre></td></tr></table>

</dd>
<dt> <code>nth1(+<var>Index</var>,?<var>List</var>,?<var>Elem</var>)</code></dt>
<dd><a name="IDX2286"></a>
<a name="IDX2287"></a>
<a name="IDX2288"></a>
<p>Succeeds when the <var>Index</var>-th element of <var>List</var> unifies with
<var>Elem</var>. Counting starts at 1.
</p>
<p>Set environment variable.  <var>Name</var> and <var>Value</var> should be
instantiated to atoms or integers.  The environment variable will be
passed to <code>shell/[0-2]</code> and can be requested using <code>getenv/2</code>.
They also influence <code>expand_file_name/2</code>.
</p>
</dd>
<dt> <code>setenv(+<var>Name</var>,+<var>Value</var>)</code></dt>
<dd><a name="IDX2289"></a>
<a name="IDX2290"></a>
<a name="IDX2291"></a>
<p>Set environment variable.  <var>Name</var> and <var>Value</var> should be
instantiated to atoms or integers.  The environment variable will be
passed to <code>shell/[0-2]</code> and can be requested using <code>getenv/2</code>.
They also influence <code>expand_file_name/2</code>.
</p>
</dd>
<dt> <code>term_to_atom(?<var>Term</var>,?<var>Atom</var>)</code></dt>
<dd><a name="IDX2292"></a>
<a name="IDX2293"></a>
<a name="IDX2294"></a>
<p>Succeeds if <var>Atom</var> describes a term that unifies with <var>Term</var>. When
<var>Atom</var> is instantiated <var>Atom</var> is converted and then unified with
<var>Term</var>.  If <var>Atom</var> has no valid syntax, a <code>syntax_error</code>
exception is raised. Otherwise <var>Term</var> is &ldquo;written&rdquo; on <var>Atom</var>
using <code>write/1</code>.
</p>
</dd>
<dt> <code>working_directory(-<var>Old</var>,+<var>New</var>)</code></dt>
<dd><a name="IDX2295"></a>
<a name="IDX2296"></a>
<a name="IDX2297"></a>

<p>Unify <var>Old</var> with an absolute path to the current working directory
and change working directory to <var>New</var>.  Use the pattern
<code>working_directory(CWD, CWD)</code> to get the current directory.  See
also <code>absolute_file_name/2</code> and <code>chdir/1</code>.
</p>
</dd>
<dt> <code>@<var>Term1</var> =@= @<var>Term2</var></code></dt>
<dd><a name="IDX2298"></a>
<a name="IDX2299"></a>
<a name="IDX2300"></a>

<p>True iff <var>Term1</var> and <var>Term2</var> are structurally equivalent. I.e. if <var>Term1</var> and <var>Term2</var> are variants of each other.
</p>
</dd>
</dl>

<hr size="6">
<a name="Invoking-Predicates-on-all-Members-of-a-List"></a>
<a name="SEC101"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC100" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC102" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC100" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC107" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 8.1 Invoking Predicates on all Members of a List </h2>

<p>All the predicates in this section call a predicate on all members of a
list or until the predicate called fails.  The predicate is called via
<code>call/[2..]</code>, which implies common arguments can be put in
front of the arguments obtained from the list(s). For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">?- maplist(plus(1), [0, 1, 2], X).

X = [1, 2, 3]
</pre></td></tr></table>

<p>we will phrase this as &ldquo;<var>Predicate</var> is applied on ...&rdquo;
</p>
<dl compact="compact">
<dt> <code>maplist(+<var>Pred</var>,+<var>List</var>)</code></dt>
<dd><a name="IDX2301"></a>
<a name="IDX2302"></a>
<a name="IDX2303"></a>
<p><var>Pred</var> is applied successively on each element of <var>List</var> until
the end of the list or <var>Pred</var> fails. In the latter case 
<code>maplist/2</code> fails.
</p>
</dd>
<dt> <code>maplist(+<var>Pred</var>,+<var>List1</var>,+<var>List2</var>)</code></dt>
<dd><a name="IDX2304"></a>
<a name="IDX2305"></a>
<a name="IDX2306"></a>
<p>Apply <var>Pred</var> on all successive pairs of elements from
<var>List1</var> and
<var>List2</var>. Fails if <var>Pred</var> can not be applied to a
pair. See the example above.
</p>
</dd>
<dt> <code>maplist(+<var>Pred</var>,+<var>List1</var>,+<var>List2</var>,+<var>List4</var>)</code></dt>
<dd><a name="IDX2307"></a>
<a name="IDX2308"></a>
<a name="IDX2309"></a>
<p>Apply <var>Pred</var> on all successive triples of elements from <var>List1</var>,
<var>List2</var> and <var>List3</var>. Fails if <var>Pred</var> can not be applied to a
triple. See the example above.
</p>
</dd>
</dl>

<hr size="6">
<a name="Forall"></a>
<a name="SEC102"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC101" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC103" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC100" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC107" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 8.2 Forall </h2>

<dl compact="compact">
<dt> <code>forall(+<var>Cond</var>,+<var>Action</var>)</code></dt>
<dd><a name="IDX2310"></a>
<a name="IDX2311"></a>
<a name="IDX2312"></a>

<p>For all alternative bindings of <var>Cond</var> <var>Action</var> can be proven.
The next example verifies that all arithmetic statements in the list
<var>L</var> are correct. It does not say which is wrong if one proves wrong.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">?- forall(member(Result = Formula, [2 = 1 + 1, 4 = 2 * 2]),
                 Result =:= Formula).
</pre></td></tr></table>

</dd>
</dl>

<hr size="6">
<a name="hProlog-and-SWI_002dProlog-Attributed-Variables"></a>
<a name="SEC103"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC102" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC104" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC100" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC107" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 8.3 hProlog and SWI-Prolog Attributed Variables </h2>

<p>Attributed variables
provide a technique for extending the
Prolog unification algorithm by hooking the binding of attributed
variables. There is little consensus in the Prolog community on the
exact definition and interface to attributed variables.  Yap Prolog
traditionally implements a SICStus-like interface, but to enable
SWI-compatibility we have implemented the SWI-Prolog interface,
identical to the one realised by Bart Demoen for hProlog.
</p>
<p>Binding an attributed variable schedules a goal to be executed at the
first possible opportunity. In the current implementation the hooks are
executed immediately after a successful unification of the clause-head
or successful completion of a foreign language (builtin) predicate. Each
attribute is associated to a module and the hook (attr_unify_hook/2) is
executed in this module.  The example below realises a very simple and
incomplete finite domain reasoner.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">:- module(domain,
	  [ domain/2			% Var, ?Domain
	  ]).
:- use_module(library(oset)).

domain(X, Dom) :-
	var(Dom), !,
	get_attr(X, domain, Dom).
domain(X, List) :-
	sort(List, Domain),
	put_attr(Y, domain, Domain),
	X = Y.

%	An attributed variable with attribute value Domain has been
%	assigned the value Y

attr_unify_hook(Domain, Y) :-
	(   get_attr(Y, domain, Dom2)
	-&gt;  oset_int(Domain, Dom2, NewDomain),
	    (   NewDomain == []
	    -&gt;	fail
	    ;	NewDomain = [Value]
	    -&gt;	Y = Value
	    ;	put_attr(Y, domain, NewDomain)
	    )
	;   var(Y)
	-&gt;  put_attr( Y, domain, Domain )
	;   memberchk(Y, Domain)
	).
</pre></td></tr></table>


<p>Before explaining the code we give some example queries:
</p>
<dl compact="compact">
<dt> <code>?- domain(X, [a,b]), X = c</code>		     </dt>
<dd><p>no
</p></dd>
<dt> <code>?- domain(X, [a,b]), domain(X, [a,c]).</code>   </dt>
<dd><p>      X = a
</p></dd>
<dt> <code>?- domain(X, [a,b,c]), domain(X, [a,c]).</code> </dt>
<dd><p>  X = _D0
</p></dd>
</dl>

<p>The predicate <code>domain/2</code> fetches (first clause) or assigns
(second clause) the variable a <em>domain</em>, a set of values it can
be unified with.  In the second clause first associates the domain
with a fresh variable and then unifies X to this variable to deal
with the possibility that X already has a domain. The
predicate <code>attr_unify_hook/2</code> is a hook called after a variable with
a domain is assigned a value.  In the simple case where the variable
is bound to a concrete value we simply check whether this value is in
the domain. Otherwise we take the intersection of the domains and either
fail if the intersection is empty (first example), simply assign the
value if there is only one value in the intersection (second example) or
assign the intersection as the new domain of the variable (third
example).
</p>

<dl compact="compact">
<dt> <code>put_attr(+<var>Var</var>,+<var>Module</var>,+<var>Value</var>)</code></dt>
<dd><a name="IDX2313"></a>
<a name="IDX2314"></a>
<a name="IDX2315"></a>
<p>If <var>Var</var> is a variable or attributed variable, set the value for the
attribute named <var>Module</var> to <var>Value</var>. If an attribute with this
name is already associated with <var>Var</var>, the old value is replaced.
Backtracking will restore the old value (i.e. an attribute is a mutable
term. See also <code>setarg/3</code>). This predicate raises a type error if
<var>Var</var> is not a variable or <var>Module</var> is not an atom.
</p>
</dd>
<dt> <code>get_attr(+<var>Var</var>,+<var>Module</var>,+<var>Value</var>)</code></dt>
<dd><a name="IDX2316"></a>
<a name="IDX2317"></a>
<a name="IDX2318"></a>
<p>Request the current <var>value</var> for the attribute named <var>Module</var>.  If
<var>Var</var> is not an attributed variable or the named attribute is not
associated to <var>Var</var> this predicate fails silently.  If <var>Module</var>
is not an atom, a type error is raised.
</p>
</dd>
<dt> <code>del_attr(+<var>Var</var>,+<var>Module</var>)</code></dt>
<dd><a name="IDX2319"></a>
<a name="IDX2320"></a>
<a name="IDX2321"></a>
<p>Delete the named attribute.  If <var>Var</var> loses its last attribute it
is transformed back into a traditional Prolog variable.  If <var>Module</var>
is not an atom, a type error is raised. In all other cases this
predicate succeeds regarless whether or not the named attribute is
present.
</p>
</dd>
<dt> <code>attr_unify_hook(+<var>AttValue</var>,+<var>VarValue</var>)</code></dt>
<dd><a name="IDX2322"></a>
<a name="IDX2323"></a>
<a name="IDX2324"></a>
<p>Hook that must be defined in the module an attributed variable refers
to. Is is called <em>after</em> the attributed variable has been
unified with a non-var term, possibly another attributed variable.
<var>AttValue</var> is the attribute that was associated to the variable
in this module and <var>VarValue</var> is the new value of the variable.
Normally this predicate fails to veto binding the variable to
<var>VarValue</var>, forcing backtracking to undo the binding.  If
<var>VarValue</var> is another attributed variable the hook often combines
the two attribute and associates the combined attribute with 
<var>VarValue</var> using <code>put_attr/3</code>.
</p>
</dd>
</dl>

<hr size="6">
<a name="SEC104"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC103" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC105" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC100" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC103" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC107" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 8.3.1 Special Purpose SWI Predicates for Attributes </h3>

<p>Normal user code should deal with <code>put_attr/3</code>, <code>get_attr/3</code>
and <code>del_attr/2</code>.  The routines in this section fetch or set the
entire attribute list of a variables. Use of these predicates is
anticipated to be restricted to printing and other special purpose
operations.
</p>
<dl compact="compact">
<dt> <code>get_attrs(+<var>Var</var>,-<var>Attributes</var>)</code></dt>
<dd><a name="IDX2325"></a>
<a name="IDX2326"></a>
<a name="IDX2327"></a>
<p>Get all attributes of <var>Var</var>. <var>Attributes</var> is a term of the form
<code>att(Module, Value, MoreAttributes)</code>, where <var>MoreAttributes</var> is
<code>[]</code> for the last attribute.
</p>
</dd>
<dt> <code>put_attrs(+<var>Var</var>,+<var>Attributes</var>)</code></dt>
<dd><a name="IDX2328"></a>
<a name="IDX2329"></a>
<a name="IDX2330"></a>
<p>Set all attributes of <var>Var</var>.  See get_attrs/2 for a description of
<var>Attributes</var>.
</p>
</dd>
<dt> <code>copy_term_nat(?<var>TI</var>,-<var>TF</var>)</code></dt>
<dd><a name="IDX2331"></a>
<a name="IDX2332"></a>
<a name="IDX2333"></a>
<p>As <code>copy_term/2</code>.  Attributes however, are <em>not</em> copied but replaced
by fresh variables.
</p></dd>
</dl>


<hr size="6">
<a name="SWI_002dProlog-Global-Variables"></a>
<a name="SEC105"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC104" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC106" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC100" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC107" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 8.4 SWI Global variables </h2>

<p>SWI-Prolog global variables are associations between names (atoms) and
terms.  They differ in various ways from storing information using
<code>assert/1</code> or <code>recorda/3</code>.
</p>
<ul>
<li> The value lives on the Prolog (global) stack.  This implies 
          that lookup time is independent from the size of the term.
	  This is particulary interesting for large data structures
	  such as parsed XML documents or the CHR global constraint
	  store.

</li><li> They support both global assignment using <code>nb_setval/2</code> and
          backtrackable assignment using <code>b_setval/2</code>.

</li><li> Only one value (which can be an arbitrary complex Prolog
   	  term) can be associated to a variable at a time.

</li><li> Their value cannot be shared among threads.  Each thread
          has its own namespace and values for global variables.

</li><li> Currently global variables are scoped globally.  We may
          consider module scoping in future versions.
</li></ul>

<p>Both <code>b_setval/2</code> and <code>nb_setval/2</code> implicitely create a variable if the
referenced name does not already refer to a variable.
</p>
<p>Global variables may be initialised from directives to make them
available during the program lifetime, but some considerations are
necessary for saved-states and threads. Saved-states to not store global
variables, which implies they have to be declared with <code>initialization/1</code>
to recreate them after loading the saved state.  Each thread has
its own set of global variables, starting with an empty set.  Using
<code>thread_inititialization/1</code> to define a global variable it will be
defined, restored after reloading a saved state and created in all
threads that are created <em>after</em> the registration.
</p>

<dl compact="compact">
<dt> <code>b_setval(+<var>Name</var>,+<var>Value</var>)</code></dt>
<dd><a name="IDX2334"></a>
<a name="IDX2335"></a>
<a name="IDX2336"></a>
<p>Associate the term <var>Value</var> with the atom <var>Name</var> or replaces
the currently associated value with <var>Value</var>.  If <var>Name</var> does
not refer to an existing global variable a variable with initial value
<code>[]</code> is created (the empty list).  On backtracking the
assignment is reversed.
</p>
</dd>
<dt> <code>b_getval(+<var>Name</var>,-<var>Value</var>)</code></dt>
<dd><a name="IDX2337"></a>
<a name="IDX2338"></a>
<a name="IDX2339"></a>
<p>Get the value associated with the global variable <var>Name</var> and unify
it with <var>Value</var>. Note that this unification may further instantiate
the value of the global variable. If this is undesirable the normal
precautions (double negation or <code>copy_term/2</code>) must be taken. The
<code>b_getval/2</code> predicate generates errors if <var>Name</var> is not an atom or
the requested variable does not exist.
</p></dd>
</dl>

<dl compact="compact">
<dt> <code>nb_setval(+<var>Name</var>,+<var>Value</var>)</code></dt>
<dd><a name="IDX2340"></a>
<a name="IDX2341"></a>
<a name="IDX2342"></a>
<p>Associates a copy of <var>Value</var> created with <code>duplicate_term/2</code>
with the atom <var>Name</var>.  Note that this can be used to set an
initial value other than <code>[]</code> prior to backtrackable assignment.
</p>
</dd>
<dt> <code>nb_getval(+<var>Name</var>,-<var>Value</var>)</code></dt>
<dd><a name="IDX2343"></a>
<a name="IDX2344"></a>
<a name="IDX2345"></a>
<p>The <code>nb_getval/2</code> predicate is a synonym for b_getval/2, introduced for
compatibility and symetry.  As most scenarios will use a particular
global variable either using non-backtracable or backtrackable
assignment, using <code>nb_getval/2</code> can be used to document that the 
variable is used non-backtracable.
</p>


</dd>
<dt> <code>nb_current(?<var>Name</var>,?<var>Value</var>)</code></dt>
<dd><a name="IDX2346"></a>
<a name="IDX2347"></a>
<a name="IDX2348"></a>
<p>Enumerate all defined variables with their value. The order of
enumeration is undefined.
</p>
</dd>
<dt> <code>nb_delete(?<var>Name</var>)</code></dt>
<dd><a name="IDX2349"></a>
<a name="IDX2350"></a>
<a name="IDX2351"></a>
<p>Delete the named global variable.
</p></dd>
</dl>

<hr size="6">
<a name="SEC106"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC105" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC107" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC100" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC105" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC107" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 8.4.1 Compatibility of SWI-Prolog Global Variables </h3>

<p>Global variables have been introduced by various Prolog
implementations recently.  The implementation of them in SWI-Prolog is
based on hProlog by Bart Demoen. In discussion with Bart it was
decided that the semantics if hProlog <code>nb_setval/2</code>, which is
equivalent to <code>nb_linkval/2</code> is not acceptable for normal Prolog
users as the behaviour is influenced by how builtin predicates
constructing terms (<code>read/1</code>, <code>=../2</code>, etc.) are implemented.
</p>
<p>GNU-Prolog provides a rich set of global variables, including arrays.
Arrays can be implemented easily in SWI-Prolog using <code>functor/3</code> and
<code>setarg/3</code> due to the unrestricted arity of compound terms.
</p>

<hr size="6">
<a name="Extensions"></a>
<a name="SEC107"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC106" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC108" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC100" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC110" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 9. Extensions to Prolog </h1>

<p>YAP includes several extensions that are not enabled by
default, but that can be used to extend the functionality of the
system. These options can be set at compilation time by enabling the
related compilation flag, as explained in the <code>Makefile</code>
</p>
<table class="menu" border="0" cellspacing="0">
<p>Extensions to Traditional Prolog
</p>
<tr><td align="left" valign="top"><a href="#SEC108">9.1 Rational Trees</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Working with Rational Trees
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC109">9.2 Co-routining</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Changing the Execution of Goals
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC110">10. Attributed Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Using attributed Variables
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC117">11. Constraint Logic Programming over Reals</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> The CLP(R) System
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC142">13. Logtalk</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> The Logtalk Object-Oriented system
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC143">14. Threads</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Thread Library
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC151">15. Parallelism</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Running in Or-Parallel
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC152">16. Tabling</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Storing Intermediate Solutions of programs 
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC154">18. Profiling the Abstract Machine</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Profiling Abstract Machine Instructions
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC153">17. Tracing at Low Level</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Tracing at Abstract Machine Level
</td></tr>
</table>

<hr size="6">
<a name="Rational-Trees"></a>
<a name="SEC108"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC107" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC109" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC107" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC107" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC110" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 9.1 Rational Trees </h2>

<p>Prolog unification is not a complete implementation. For efficiency
considerations, Prolog systems do not perform occur checks while
unifying terms. As an example, <code>X = a(X)</code> will not fail but instead
will create an infinite term of the form <code>a(a(a(a(a(...)))))</code>, or
<em>rational tree</em>.
</p>
<p>Rational trees are no supported by default in YAP. In previous
versions, this was not the default and these terms could easily lead
to infinite computation. For example, <code>X = a(X), X = X</code> would
enter an infinite loop.
</p>
<p>The <code>RATIONAL_TREES</code> flag improves support for these
terms. Internal primitives are now aware that these terms can exist, and
will not enter infinite loops. Hence, the previous unification will
succeed. Another example, <code>X = a(X), ground(X)</code> will succeed
instead of looping. Other affected built-ins include the term comparison
primitives, <code>numbervars/3</code>, <code>copy_term/2</code>, and the internal
data base routines. The support does not extend to Input/Output routines
or to <code>assert/1</code> YAP does not allow directly reading
rational trees, and you need to use <code>write_depth/2</code> to avoid
entering an infinite cycle when trying to write an infinite term.
</p>
<hr size="6">
<a name="Co_002droutining"></a>
<a name="SEC109"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC108" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC110" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC107" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC107" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC110" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 9.2 Co-routining </h2>

<p>Prolog uses a simple left-to-right flow of control. It is sometimes
convenient to change this control so that goals will only be executed
when conditions are fulfilled. This may result in a more &quot;data-driven&quot;
execution, or may be necessary to correctly implement extensions such as
negation by default.
</p>
<p>The <code>COROUTINING</code> flag enables this option. Note that the support for
coroutining  will in general slow down execution.
</p>
<p>The following declaration is supported:
</p>
<dl compact="compact">
<dt> <code>block/1</code></dt>
<dd><p>The argument to <code>block/1</code> is a condition on a goal or a conjunction
of conditions, with each element separated by commas. Each condition is
of the form <code>predname(<var>C1</var>,...,<var>CN</var>)</code>, where <var>N</var> is the
arity of the goal, and each <var>CI</var> is of the form <code>-</code>, if the
argument must suspend until the variable is bound, or <code>?</code>, otherwise.
</p>
</dd>
<dt> <code>wait/1</code></dt>
<dd><p>The argument to <code>wait/1</code> is a predicate descriptor or a conjunction
of these predicates. These predicates will suspend until their first
argument is bound.
</p></dd>
</dl>

<p>The following primitives are supported:
</p>
<dl compact="compact">
<dt> <code>dif(<var>X</var>,<var>Y</var>)</code></dt>
<dd><a name="IDX2352"></a>
<a name="IDX2353"></a>
<a name="IDX2354"></a>
<p>Succeed if the two arguments do not unify. A call to <code>dif/2</code> will
suspend if unification may still succeed or fail, and will fail if they
always unify.
</p>
</dd>
<dt> <code>freeze(?<var>X</var>,:<var>G</var>)</code></dt>
<dd><a name="IDX2355"></a>
<a name="IDX2356"></a>
<a name="IDX2357"></a>
<p>Delay execution of goal <var>G</var> until the variable <var>X</var> is bound.
</p>
</dd>
<dt> <code>frozen(<var>X</var>,<var>G</var>)</code></dt>
<dd><a name="IDX2358"></a>
<a name="IDX2359"></a>
<a name="IDX2360"></a>
<p>Unify <var>G</var> with a conjunction of goals suspended on variable <var>X</var>,
or <code>true</code> if no goal has suspended.
</p>
</dd>
<dt> <code>when(+<var>C</var>,:<var>G</var>)</code></dt>
<dd><a name="IDX2361"></a>
<a name="IDX2362"></a>
<a name="IDX2363"></a>
<p>Delay execution of goal <var>G</var> until the conditions <var>C</var> are
satisfied. The conditions are of the following form:
</p>
<dl compact="compact">
<dt> <code><var>C1</var>,<var>C2</var></code></dt>
<dd><p>Delay until both conditions <var>C1</var> and <var>C2</var> are satisfied.
</p></dd>
<dt> <code><var>C1</var>;<var>C2</var></code></dt>
<dd><p>Delay until either condition <var>C1</var> or condition <var>C2</var> is satisfied.
</p></dd>
<dt> <code>?=(<var>V1</var>,<var>C2</var>)</code></dt>
<dd><p>Delay until terms <var>V1</var> and <var>V1</var> have been unified.
</p></dd>
<dt> <code>nonvar(<var>V</var>)</code></dt>
<dd><p>Delay until variable <var>V</var> is bound.
</p></dd>
<dt> <code>ground(<var>V</var>)</code></dt>
<dd><p>Delay until variable <var>V</var> is ground.
</p></dd>
</dl>

<p>Note that <code>when/2</code> will fail if the conditions fail.
</p>
</dd>
<dt> <code>call_residue(:<var>G</var>,<var>L</var>)</code></dt>
<dd><a name="IDX2364"></a>
<a name="IDX2365"></a>
<a name="IDX2366"></a>

<p>Call goal <var>G</var>. If subgoals of <var>G</var> are still blocked, return
a list containing these goals and the variables they are blocked in. The
goals are then considered as unblocked. The next example shows a case
where <code>dif/2</code> suspends twice, once outside <code>call_residue/2</code>,
and the other inside:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">?- dif(X,Y),
       call_residue((dif(X,Y),(X = f(Z) ; Y = f(Z))), L).

X = f(Z),
L = [[Y]-dif(f(Z),Y)],
dif(f(Z),Y) ? ;

Y = f(Z),
L = [[X]-dif(X,f(Z))],
dif(X,f(Z)) ? ;

no
</pre></td></tr></table>
<p>The system only reports one invocation of <code>dif/2</code> as having
suspended. 
</p>
</dd>
</dl>

<hr size="6">
<a name="Attributed-Variables"></a>
<a name="SEC110"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC109" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC111" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC107" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC117" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 10. Attributed Variables </h1>

<table class="menu" border="0" cellspacing="0">

<tr><td align="left" valign="top"><a href="#SEC111">10.1 Attribute Declarations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Declaring New Attributes
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC112">10.2 Attribute Manipulation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Setting and Reading Attributes
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC113">10.3 Attributed Unification</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Tuning the Unification Algorithm
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC114">10.4 Displaying Attributes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Displaying Attributes in User-Readable Form
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC115">10.5 Projecting Attributes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Obtaining the Attributes of Interest
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC116">10.6 Attribute Examples</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Two Simple Examples of how to use Attributes.
</td></tr>
</table>

<p>YAP now supports the attributed variables packaged developed at OFAI by
Christian Holzbaur. Attributes are a means of declaring that an
arbitrary term is a property for a variable. These properties can be
updated during forward execution. Moreover, the unification algorithm is
aware of attributed variables and will call user defined handlers when
trying to unify these variables.
</p>
<p>Attributed variables provide an elegant abstraction over which one can
extend Prolog systems. Their main application so far has been in
implementing constraint handlers, such as Holzbaur's CLPQR and Fruewirth
and Holzbaur's CHR, but other applications have been proposed in the
literature.
</p>

<p>The command
</p><table><tr><td>&nbsp;</td><td><pre class="example">| ?- use_module(library(atts)).
</pre></td></tr></table>
<p>enables the use of attributed variables. The package provides the
following functionality:
</p><ul>
<li> Each attribute must be declared first. Attributes are described by a functor
and are declared per module. Each Prolog module declares its own sets of
attributes. Different modules may have different functors with the same
module.
</li><li> The built-in <code>put_atts/2</code> adds or deletes attributes to a
variable. The variable may be unbound or may be an attributed
variable. In the latter case, YAP discards previous values for the
attributes.
</li><li> The built-in <code>get_atts/2</code> can be used to check the values of
an attribute associated with a variable.
</li><li> The unification algorithm calls the user-defined predicate
<tt>verify_attributes/3</tt> before trying to bind an attributed
variable. Unification will resume after this call.
</li><li> The user-defined predicate
<tt>attribute_goal/2</tt> converts from an attribute to a goal.
</li><li> The user-defined predicate
<tt>project_attributes/2</tt> is used from a set of variables into a set of
constraints or goals. One application of <tt>project_attributes/2</tt> is in
the top-level, where it is used to output the set of
floundered constraints at the end of a query.
</li></ul>

<hr size="6">
<a name="Attribute-Declarations"></a>
<a name="SEC111"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC110" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC112" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC110" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC110" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC117" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 10.1 Attribute Declarations </h2>

<p>Attributes are compound terms associated with a variable. Each attribute
has a <em>name</em> which is <em>private</em> to the module in which the
attribute was defined. Variables may have at most one attribute with a
name. Attribute names are defined with the following declaration:
</p>
<a name="IDX2367"></a>
<a name="IDX2368"></a>
<a name="IDX2369"></a>

<table><tr><td>&nbsp;</td><td><pre class="example">:- attribute <var>AttributeSpec</var>, ..., <var>AttributeSpec</var>.
</pre></td></tr></table>

<p>where each <var>AttributeSpec</var> has the form (<var>Name</var>/<var>Arity</var>).
One single such declaration is allowed per module <var>Module</var>.
</p>
<p>Although the YAP module system is predicate based, attributes are local
to modules. This is implemented by rewriting all calls to the
built-ins that manipulate attributes so that attribute names are
preprocessed depending on the module.  The <code>user:goal_expansion/3</code>
mechanism is used for this purpose.
</p>

<hr size="6">
<a name="Attribute-Manipulation"></a>
<a name="SEC112"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC111" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC113" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC110" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC110" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC117" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 10.2 Attribute Manipulation </h2>


<p>The  attribute manipulation predicates always work as follows:
</p><ol>
<li> The first argument is the unbound variable associated with
attributes,
</li><li> The second argument is a list of attributes. Each attribute will
be a Prolog term or a constant, prefixed with the <tt>+</tt> and <tt>-</tt> unary
operators. The prefix <tt>+</tt> may be dropped for convenience.
</li></ol>

<p>The following three procedures are available to the user. Notice that
these built-ins are rewritten by the system into internal built-ins, and
that the rewriting process <em>depends</em> on the module on which the
built-ins have been invoked.
</p>
<dl compact="compact">
<dt> <code><var>Module</var>:get_atts(<var>-Var</var>,<var>?ListOfAttributes</var>)</code></dt>
<dd><a name="IDX2370"></a>
<a name="IDX2371"></a>
<a name="IDX2372"></a>
<p>Unify the list <var>?ListOfAttributes</var> with the attributes for the unbound
variable <var>Var</var>. Each member of the list must be a bound term of the
form <code>+(<var>Attribute</var>)</code>, <code>-(<var>Attribute</var>)</code> (the <tt>kbd</tt>
prefix may be dropped). The meaning of <tt>+</tt> and <tt>-</tt> is:
</p></dd>
<dt> <code>+(<var>Attribute</var>)</code></dt>
<dd><p>Unifies <var>Attribute</var> with a corresponding attribute associated with
<var>Var</var>, fails otherwise.
</p>
</dd>
<dt> <code>-(<var>Attribute</var>)</code></dt>
<dd><p>Succeeds if a corresponding attribute is not associated with
<var>Var</var>. The arguments of <var>Attribute</var> are ignored.
</p>
</dd>
<dt> <code><var>Module</var>:put_atts(<var>-Var</var>,<var>?ListOfAttributes</var>)</code></dt>
<dd><a name="IDX2373"></a>
<a name="IDX2374"></a>
<a name="IDX2375"></a>
<p>Associate with or remove attributes from a variable <var>Var</var>. The
attributes are given in <var>?ListOfAttributes</var>, and the action depends
on how they are prefixed:
</p></dd>
<dt> <code>+(<var>Attribute</var>)</code></dt>
<dd><p>Associate <var>Var</var> with <var>Attribute</var>. A previous value for the
attribute is simply replace (like with <code>set_mutable/2</code>).
</p>
</dd>
<dt> <code>-(<var>Attribute</var>)</code></dt>
<dd><p>Remove the attribute with the same name. If no such attribute existed,
simply succeed.
</p></dd>
</dl>

<hr size="6">
<a name="Attributed-Unification"></a>
<a name="SEC113"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC112" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC114" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC110" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC110" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC117" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 10.3 Attributed Unification </h2>

<p>The user-predicate predicate <code>verify_attributes/3</code> is called when
attempting to unify an attributed variable which might have attributes
in some <var>Module</var>.
</p>
<dl compact="compact">
<dt> <code><var>Module</var>:verify_attributes(<var>-Var</var>, <var>+Value</var>, <var>-Goals</var>)</code></dt>
<dd><a name="IDX2376"></a>
<a name="IDX2377"></a>
<a name="IDX2378"></a>

<p>The predicate is called when trying to unify the attributed variable
<var>Var</var> with the Prolog term <var>Value</var>. Note that <var>Value</var> may be
itself an attributed variable, or may contain attributed variables.  The
goal <tt>verify_attributes/3</tt> is actually called before <var>Var</var> is
unified with <var>Value</var>.
</p>
<p>It is up to the user to define which actions may be performed by
<tt>verify_attributes/3</tt> but the procedure is expected to return in
<var>Goals</var> a list of goals to be called <em>after</em> <var>Var</var> is
unified with <var>Value</var>. If <tt>verify_attributes/3</tt> fails, the
unification will fail.
</p>
<p>Notice that the <tt>verify_attributes/3</tt> may be called even if <var>Var</var>
has no attributes in module <tt>Module</tt>. In this case the routine should
simply succeed with <var>Goals</var> unified with the empty list.
</p>
</dd>
<dt> <code>attvar(<var>-Var</var>)</code></dt>
<dd><a name="IDX2379"></a>
<a name="IDX2380"></a>
<a name="IDX2381"></a>
<p>Succeed if <var>Var</var> is an attributed variable.
</p></dd>
</dl>



<hr size="6">
<a name="Displaying-Attributes"></a>
<a name="SEC114"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC113" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC115" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC110" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC110" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC117" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 10.4 Displaying Attributes </h2>

<p>Attributes are usually presented as goals. The following routines are
used by built-in predicates such as <code>call_residue/2</code> and by the
Prolog top-level to display attributes:
</p>
<dl compact="compact">
<dt> <code><var>Module</var>:attribute_goal(<var>-Var</var>, <var>-Goal</var>)</code></dt>
<dd><a name="IDX2382"></a>
<a name="IDX2383"></a>
<a name="IDX2384"></a>
<p>User-defined procedure, called to convert the attributes in <var>Var</var> to
a <var>Goal</var>. Should fail when no interpretation is available.
</p>
</dd>
<dt> <code><var>Module</var>:project_attributes(<var>-QueryVars</var>, <var>+AttrVars</var>)</code></dt>
<dd><a name="IDX2385"></a>
<a name="IDX2386"></a>
<a name="IDX2387"></a>
<p>User-defined procedure, called to project the attributes in the query,
<var>AttrVars</var>, given that the set of variables in the query is
<var>QueryVars</var>.
</p>
</dd>
</dl>

<hr size="6">
<a name="Projecting-Attributes"></a>
<a name="SEC115"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC114" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC116" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC110" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC110" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC117" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 10.5 Projecting Attributes </h2>

<p>Constraint solvers must be able to project a set of constraints to a set
of variables. This is useful when displaying the solution to a goal, but
may also be used to manipulate computations. The user-defined
<code>project_attributes/2</code> is responsible for implementing this
projection.
</p>

<dl compact="compact">
<dt> <code><var>Module</var>:project_attributes(<var>+QueryVars</var>, <var>+AttrVars</var>)</code></dt>
<dd><a name="IDX2388"></a>
<a name="IDX2389"></a>
<a name="IDX2390"></a>
<p>Given a list of variables <var>QueryVars</var> and list of attributed
variables <var>AttrVars</var>, project all attributes in <var>AttrVars</var> to
<var>QueryVars</var>. Although projection is constraint system dependent,
typically this will involve expressing all constraints in terms of
<var>QueryVars</var> and considering all remaining variables as existentially
quantified.
</p></dd>
</dl>

<p>Projection interacts with <code>attribute_goal/2</code> at the prolog top
level. When the query succeeds, the system first calls
<code>project_attributes/2</code>. The system then calls
<code>attribute_goal/2</code> to get a user-level representation of the
constraints. Typically, <code>attribute_goal/2</code> will convert from the
original constraints into a set of new constraints on the projection,
and these constraints are the ones that will have an
<code>attribute_goal/2</code> handler.
</p>
<hr size="6">
<a name="Attribute-Examples"></a>
<a name="SEC116"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC115" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC117" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC110" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC110" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC117" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 10.6 Attribute Examples </h2>

<p>The following two examples example is taken from the SICStus Prolog manual. It
sketches the implementation of a simple finite domain &ldquo;solver&rdquo;.  Note
that an industrial strength solver would have to provide a wider range
of functionality and that it quite likely would utilize a more efficient
representation for the domains proper.  The module exports a single
predicate <code>domain(<var>-Var</var>,<var>?Domain</var>)</code> which associates
<var>Domain</var> (a list of terms) with <var>Var</var>.  A variable can be
queried for its domain by leaving <var>Domain</var> unbound.
</p>
<p>We do not present here a definition for <code>project_attributes/2</code>.
Projecting finite domain constraints happens to be difficult.
</p>

<table><tr><td>&nbsp;</td><td><pre class="example">:- module(domain, [domain/2]).

:- use_module(library(atts)).
:- use_module(library(ordsets), [
        ord_intersection/3,
        ord_intersect/2,
        list_to_ord_set/2
   ]).

:- attribute dom/1.

verify_attributes(Var, Other, Goals) :-
        get_atts(Var, dom(Da)), !,          % are we involved?
        (   var(Other) -&gt;                   % must be attributed then
            (   get_atts(Other, dom(Db)) -&gt; %   has a domain?
                ord_intersection(Da, Db, Dc),
                Dc = [El|Els],              % at least one element
                (   Els = [] -&gt;             % exactly one element
                    Goals = [Other=El]      % implied binding
                ;   Goals = [],
                    put_atts(Other, dom(Dc))% rescue intersection
                )
            ;   Goals = [],
                put_atts(Other, dom(Da))    % rescue the domain
            )
        ;   Goals = [],
            ord_intersect([Other], Da)      % value in domain?
        ).
verify_attributes(_, _, []).                % unification triggered
                                            % because of attributes
                                            % in other modules

attribute_goal(Var, domain(Var,Dom)) :-     % interpretation as goal
        get_atts(Var, dom(Dom)).

domain(X, Dom) :-
        var(Dom), !,
        get_atts(X, dom(Dom)).
domain(X, List) :-
        list_to_ord_set(List, Set),
        Set = [El|Els],                     % at least one element
        (   Els = [] -&gt;                     % exactly one element
            X = El                          % implied binding
        ;   put_atts(Fresh, dom(Set)),
            X = Fresh                       % may call
                                            % verify_attributes/3
        ).
</pre></td></tr></table>

<p>Note that the &ldquo;implied binding&rdquo; <code>Other=El</code> was deferred until after
the completion of <code>verify_attribute/3</code>.  Otherwise, there might be a
danger of recursively invoking <code>verify_attribute/3</code>, which might bind
<code>Var</code>, which is not allowed inside the scope of <code>verify_attribute/3</code>.
Deferring unifications into the third argument of <code>verify_attribute/3</code>
effectively serializes the calls to <code>verify_attribute/3</code>.
</p>
<p>Assuming that the code resides in the file &lsquo;<tt>domain.yap</tt>&rsquo;, we
can use it via:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">| ?- use_module(domain).
</pre></td></tr></table>

<p>Let's test it:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">| ?- domain(X,[5,6,7,1]), domain(Y,[3,4,5,6]), domain(Z,[1,6,7,8]).

domain(X,[1,5,6,7]),
domain(Y,[3,4,5,6]),
domain(Z,[1,6,7,8]) ? 

yes
| ?- domain(X,[5,6,7,1]), domain(Y,[3,4,5,6]), domain(Z,[1,6,7,8]), 
     X=Y.

Y = X,
domain(X,[5,6]),
domain(Z,[1,6,7,8]) ? 

yes
| ?- domain(X,[5,6,7,1]), domain(Y,[3,4,5,6]), domain(Z,[1,6,7,8]),
     X=Y, Y=Z.

X = 6,
Y = 6,
Z = 6
</pre></td></tr></table>

<p>To demonstrate the use of the <var>Goals</var> argument of
<code>verify_attributes/3</code>, we give an implementation of
<code>freeze/2</code>.  We have to name it <code>myfreeze/2</code> in order to
avoid a name clash with the built-in predicate of the same name.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">:- module(myfreeze, [myfreeze/2]).

:- use_module(library(atts)).

:- attribute frozen/1.

verify_attributes(Var, Other, Goals) :-
        get_atts(Var, frozen(Fa)), !,       % are we involved?
        (   var(Other) -&gt;                   % must be attributed then
            (   get_atts(Other, frozen(Fb)) % has a pending goal?
            -&gt;  put_atts(Other, frozen((Fa,Fb))) % rescue conjunction
            ;   put_atts(Other, frozen(Fa)) % rescue the pending goal
            ),
            Goals = []
        ;   Goals = [Fa]
        ).
verify_attributes(_, _, []).

attribute_goal(Var, Goal) :-                % interpretation as goal
        get_atts(Var, frozen(Goal)).

myfreeze(X, Goal) :-
        put_atts(Fresh, frozen(Goal)),
        Fresh = X.
</pre></td></tr></table>

<p>Assuming that this code lives in file &lsquo;<tt>myfreeze.yap</tt>&rsquo;,
we would use it via:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">| ?- use_module(myfreeze).
| ?- myfreeze(X,print(bound(x,X))), X=2.

bound(x,2)                      % side effect
X = 2                           % bindings
</pre></td></tr></table>

<p>The two solvers even work together:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">| ?- myfreeze(X,print(bound(x,X))), domain(X,[1,2,3]),
     domain(Y,[2,10]), X=Y.

bound(x,2)                      % side effect
X = 2,                          % bindings
Y = 2
</pre></td></tr></table>

<p>The two example solvers interact via bindings to shared attributed
variables only.  More complicated interactions are likely to be found
in more sophisticated solvers.  The corresponding
<code>verify_attributes/3</code> predicates would typically refer to the
attributes from other known solvers/modules via the module prefix in
<code><var>Module</var>:get_atts/2</code>.
</p>
<hr size="6">
<a name="CLPR"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC116" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC118" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC110" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC122" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC118">11.1 Solver Predicates</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC119">11.2 Syntax of the predicate arguments</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC120">11.3 Use of unification</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC121">11.4 Non-Linear Constraints</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               
</td></tr>
</table>

<a name="SEC117"></a>
<h1 class="chapter"> 11. Constraint Logic Programming over Reals </h1>

<p>YAP now uses the CLP(R) package developed by <em>Leslie De Koninck</em>,
K.U. Leuven as part of a thesis with supervisor Bart Demoen and daily
advisor Tom Schrijvers, and distributed with SWI-Prolog.
</p>
<p>This CLP(R) system is a port of the CLP(Q,R) system of Sicstus Prolog
and YAP by Christian Holzbaur: Holzbaur C.: OFAI clp(q,r) Manual,
Edition 1.3.3, Austrian Research Institute for Artificial
Intelligence, Vienna, TR-95-09, 1995,
<a href="http://www.ai.univie.ac.at/cgi-bin/tr-online?number+95-09">http://www.ai.univie.ac.at/cgi-bin/tr-online?number+95-09</a> This
port only contains the part concerning real arithmetics. This manual
is roughly based on the manual of the above mentioned <strong>CLP(QR)</strong>
implementation.
</p>
<p>Please note that the &lsquo;<tt>clpr</tt>&rsquo; library is <em>not</em> an
<code>autoload</code> library and therefore this library must be loaded
explicitely before using it:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">:- use_module(library(clpr)).
</pre></td></tr></table>

<hr size="6">
<a name="CLPR-Solver-Predicates"></a>
<a name="SEC118"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC117" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC119" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC117" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC117" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC122" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 11.1 Solver Predicates </h2>

<p>The following predicates are provided to work with constraints:
</p>
<dl compact="compact">
<dt> <code>{+<var>Constraints</var>}</code></dt>
<dd><p>Adds the constraints given by <var>Constraints</var> to the constraint store.
</p>
	</dd>
<dt> <code>entailed(+<var>Constraint</var>)</code></dt>
<dd><p>Succeeds if <var>Constraint</var> is necessarily true within the current
constraint store. This means that adding the negation of the constraint
to the store results in failure.
</p>
	</dd>
<dt> <code>inf(+<var>Expression</var>,-<var>Inf</var>)</code></dt>
<dd><p>Computes the infimum of <var>Expression</var> within the current state of the
constraint store and returns that infimum in <var>Inf</var>. This predicate
does not change the constraint store.
</p>
	</dd>
<dt> <code>inf(+<var>Expression</var>,-<var>Sup</var>)</code></dt>
<dd><p>Computes the supremum of <var>Expression</var> within the current state of
the constraint store and returns that supremum in <var>Sup</var>. This
predicate does not change the constraint store.
</p>
	</dd>
<dt> <code>min(+<var>Expression</var>)</code></dt>
<dd><p>Minimizes <var>Expression</var> within the current constraint store. This is
the same as computing the infimum and equation the expression to that
infimum.
</p>
	</dd>
<dt> <code>max(+<var>Expression</var>)</code></dt>
<dd><p>Maximizes <var>Expression</var> within the current constraint store. This is
the same as computing the supremum and equating the expression to that
supremum.
</p>
	</dd>
<dt> <code>bb_inf(+<var>Ints</var>,+<var>Expression</var>,-<var>Inf</var>,-<var>Vertext</var>,+<var>Eps</var>)</code></dt>
<dd><p>Computes the infimum of <var>Expression</var> within the current constraint
store, with the additional constraint that in that infimum, all
variables in <var>Ints</var> have integral values. <var>Vertex</var> will contain
the values of <var>Ints</var> in the infimum. <var>Eps</var> denotes how much a
value may differ from an integer to be considered an integer. E.g. when
<var>Eps</var> = 0.001, then X = 4.999 will be considered as an integer (5 in
this case). <var>Eps</var> should be between 0 and 0.5.
</p>
	</dd>
<dt> <code>bb_inf(+<var>Ints</var>,+<var>Expression</var>,-<var>Inf</var>)</code></dt>
<dd><p>The same as bb_inf/5 but without returning the values of the integers
and with an eps of 0.001.
</p>
	</dd>
<dt> <code>dump(+<var>Target</var>,+<var>Newvars</var>,-<var>CodedAnswer</var>)</code></dt>
<dd><p>Returns the constraints on <var>Target</var> in the list <var>CodedAnswer</var>
where all variables of <var>Target</var> have veen replaced by <var>NewVars</var>.
This operation does not change the constraint store. E.g. in
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">dump([X,Y,Z],[x,y,z],Cons)
</pre></td></tr></table>

<p><var>Cons</var> will contain the constraints on <var>X</var>, <var>Y</var> and
<var>Z</var> where these variables have been replaced by atoms <code>x</code>, <code>y</code> and <code>z</code>.
</p> 
</dd>
</dl>

<hr size="6">
<a name="CLPR-Syntax"></a>
<a name="SEC119"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC118" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC120" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC117" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC117" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC122" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 11.2 Syntax of the predicate arguments </h2>

<p>The arguments of the predicates defined in the subsection above are
defined in the following table. Failing to meet the syntax rules will
result in an exception.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">&lt;Constraints&gt; ---&gt; &lt;Constraint&gt;				\\ single constraint \\
	      | &lt;Constraint&gt; , &lt;Constraints&gt;		\\ conjunction \\
	      | &lt;Constraint&gt; ; &lt;Constraints&gt;		\\ disjunction \\

&lt;Constraint&gt; ---&gt; &lt;Expression&gt; {&lt;} &lt;Expression&gt;		\\ less than \\
	     | &lt;Expression&gt; {&gt;} &lt;Expression&gt;		\\ greater than \\
	     | &lt;Expression&gt; {=&lt;} &lt;Expression&gt;	\\ less or equal \\
	     | {&lt;=}(&lt;Expression&gt;, &lt;Expression&gt;)	\\ less or equal \\
	     | &lt;Expression&gt; {&gt;=} &lt;Expression&gt;	\\ greater or equal \\
	     | &lt;Expression&gt; {=\=} &lt;Expression&gt;	\\ not equal \\
	     | &lt;Expression&gt; =:= &lt;Expression&gt;		\\ equal \\
	     | &lt;Expression&gt; = &lt;Expression&gt;		\\ equal \\

&lt;Expression&gt; ---&gt;  &lt;Variable&gt;				\\ Prolog variable \\
	     | &lt;Number&gt;				\\ Prolog number (float, integer) \\
	     | +&lt;Expression&gt;				\\ unary plus \\
	     | -&lt;Expression&gt;				\\ unary minus \\
	     | &lt;Expression&gt; + &lt;Expression&gt;		\\ addition \\
	     | &lt;Expression&gt; - &lt;Expression&gt;		\\ substraction \\
	     | &lt;Expression&gt; * &lt;Expression&gt;		\\ multiplication \\
	     | &lt;Expression&gt; / &lt;Expression&gt;		\\ division \\
	     | abs(&lt;Expression&gt;)			\\ absolute value \\
	     | sin(&lt;Expression&gt;)			\\ sine \\
	     | cos(&lt;Expression&gt;)			\\ cosine \\
	     | tan(&lt;Expression&gt;)			\\ tangent \\
	     | exp(&lt;Expression&gt;)			\\ exponent \\
	     | pow(&lt;Expression&gt;)			\\ exponent \\
	     | &lt;Expression&gt; {^} &lt;Expression&gt;		\\ exponent \\
	     | min(&lt;Expression&gt;, &lt;Expression&gt;)	\\ minimum \\
	     | max(&lt;Expression&gt;, &lt;Expression&gt;)	\\ maximum \\
</pre></td></tr></table>

<hr size="6">
<a name="CLPR-Unification"></a>
<a name="SEC120"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC119" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC121" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC117" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC117" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC122" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 11.3 Use of unification </h2>

<p>Instead of using the <code>{}/1</code> predicate, you can also use the standard
unification mechanism to store constraints. The following code samples
are equivalent:
</p>
<dl compact="compact">
<dt> &lsquo;<samp>Unification with a variable</samp>&rsquo;</dt>
<dd>
<table><tr><td>&nbsp;</td><td><pre class="example">{X =:= Y}
{X = Y}
X = Y
</pre></td></tr></table>

</dd>
<dt> &lsquo;<samp>Unification with a number</samp>&rsquo;</dt>
<dd>
<table><tr><td>&nbsp;</td><td><pre class="example">{X =:= 5.0}
{X = 5.0}
X = 5.0
</pre></td></tr></table>
	
</dd>
</dl>

<hr size="6">
<a name="CLPR-Non_002dlinear-Constraints"></a>
<a name="SEC121"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC120" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC122" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC117" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC117" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC122" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 11.4 Non-Linear Constraints </h2>

<p>In this version, non-linear constraints do not get solved until certain
conditions are satisfied. We call these conditions the isolation axioms.
They are given in the following table.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">A = B * C         when B or C is ground	or		 // A = 5 * C or A = B * 4 \\
	                      A and (B or C) are ground	 // 20 = 5 * C or 20 = B * 4 \\

A = B / C      when C is ground or			// A = B / 3 
	                      A and B are ground		// 4 = 12 / C 

X = min(Y,Z)     when Y and Z are ground or	// X = min(4,3) 
X = max(Y,Z)         Y and Z are ground		// X = max(4,3) 
X = abs(Y)                Y is ground			// X = abs(-7) 

X = pow(Y,Z)   when X and Y are ground or		// 8 = 2 ^ Z 
X = exp(Y,Z)           X and Z are ground		// 8 = Y ^ 3 
X = Y ^ Z            Y and Z are ground		// X = 2 ^ 3 

X = sin(Y)	    when X is ground or			// 1 = sin(Y) 
X = cos(Y)	               Y is ground			// X = sin(1.5707) 
X = tan(Y)
</pre></td></tr></table>


<hr size="6">
<a name="CHR"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC121" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC123" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC117" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC142" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC123">12.1 Introduction</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC124">12.2 Syntax and Semantics</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC131">12.3 CHR in YAP Programs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC135">12.4 Debugging</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC139">12.5 Examples</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">       
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC140">12.6 Compatibility with SICStus CHR</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">     
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC141">12.7 Guidelines</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  
</td></tr>
</table>

<a name="SEC122"></a>
<h1 class="chapter"> 12. CHR: Constraint Handling Rules </h1>

<p>This chapter is written by Tom Schrijvers, K.U. Leuven for the hProlog
system. Adjusted by Jan Wielemaker to fit the SWI-Prolog documentation
infrastructure and remove hProlog specific references.
</p>
<p>The CHR system of SWI-Prolog is the K.U.Leuven CHR system.  The runtime
environment is written by Christian Holzbaur and Tom Schrijvers while the
compiler is written by Tom Schrijvers. Both are integrated with SWI-Prolog
and licenced under compatible conditions with permission from the authors.
</p>
<p>The main reference for SWI-Prolog's CHR system is:
</p><ul class="toc">
<li> T. Schrijvers, and B. Demoen, <em>The K.U.Leuven CHR System: Implementation
and Application</em>, First Workshop on Constraint Handling Rules: Selected
Contributions (Fruwirth, T. and Meister, M., eds.), pp. 1&ndash;5, 2004.
</li></ul>

<hr size="6">
<a name="CHR-Introduction"></a>
<a name="SEC123"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC122" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC124" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC122" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC122" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC142" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 12.1 Introduction </h2>

<p>Constraint Handling Rules (CHR) is a committed-choice bottom-up language
embedded in Prolog. It is designed for writing constraint solvers and is
particularily useful for providing application-specific constraints.
It has been used in many kinds of applications, like scheduling,
model checking, abduction, type checking among many others.
</p>
<p>CHR has previously been implemented in other Prolog systems (SICStus,
Eclipse, Yap), Haskell and Java. This CHR system is based on the
compilation scheme and runtime environment of CHR in SICStus.
</p>
<p>In this documentation we restrict ourselves to giving a short overview
of CHR in general and mainly focus on elements specific to this
implementation. For a more thorough review of CHR we refer the reader to
[Freuhwirth:98]. More background on CHR can be found at the CHR web site.
</p>


<hr size="6">
<a name="CHR-Syntax-and-Semantics"></a>
<a name="SEC124"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC123" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC125" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC122" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC122" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC142" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 12.2 Syntax and Semantics </h2>

<hr size="6">
<a name="SEC125"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC124" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC126" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC122" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC124" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC142" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 12.2.1 Syntax </h3>

<p>The syntax of CHR rules in hProlog is the following:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">rules --&gt; rule, rules.
rules --&gt; [].

rule --&gt; name, actual_rule, pragma, [atom('.')].

name --&gt; atom, [atom(')'].
name --&gt; [].

actual_rule --&gt; simplification_rule.
actual_rule --&gt; propagation_rule.
actual_rule --&gt; simpagation_rule.

simplification_rule --&gt; constraints, [atom('&lt;=&gt;')], guard, body.
propagation_rule --&gt; constraints, [atom('==&gt;')], guard, body.
simpagation_rule --&gt; constraints, [atom('\')], constraints, [atom('&lt;=&gt;')], 
                     guard, body.

constraints --&gt; constraint, constraint_id.
constraints --&gt; constraint, [atom(',')], constraints.

constraint --&gt; compound_term.

constraint_id --&gt; [].
constraint_id --&gt; [atom('#')], variable.

guard --&gt; [].
guard --&gt; goal, [atom('|')].

body --&gt; goal.

pragma --&gt; [].
pragma --&gt; [atom('pragma')], actual_pragmas.

actual_pragmas --&gt; actual_pragma.
actual_pragmas --&gt; actual_pragma, [atom(',')], actual_pragmas.

actual_pragma --&gt; [atom('passive(')], variable, [atom(')')].

</pre></td></tr></table>

<p>Additional syntax-related terminology:
</p>
<ul class="toc">
<li> <strong>head:</strong> the constraints in an <code>actual_rule</code> before
                     the arrow (either <code>&lt;=&gt;</code> or <code>==&gt;</code>)
</li></ul>

<hr size="6">
<a name="SEC126"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC125" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC127" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC122" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC124" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC142" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 12.2.2 Semantics </h3>

<p>In this subsection the operational semantics of CHR in Prolog are presented
informally. They do not differ essentially from other CHR systems.
</p>
<p>When a constraint is called, it is considered an active constraint and
the system will try to apply the rules to it. Rules are tried and executed
sequentially in the order they are written. 
</p>
<p>A rule is conceptually tried for an active constraint in the following
way. The active constraint is matched with a constraint in the head of
the rule. If more constraints appear in the head they are looked for
among the suspended constraints, which are called passive constraints in
this context. If the necessary passive constraints can be found and all
match with the head of the rule and the guard of the rule succeeds, then
the rule is committed and the body of the rule executed. If not all the
necessary passive constraint can be found, the matching fails or the
guard fails, then the body is not executed and the process of trying and
executing simply continues with the following rules. If for a rule,
there are multiple constraints in the head, the active constraint will
try the rule sequentially multiple times, each time trying to match with
another constraint.
</p>
<p>This process ends either when the active constraint disappears, i.e. it
is removed by some rule, or after the last rule has been processed. In
the latter case the active constraint becomes suspended.
</p>
<p>A suspended constraint is eligible as a passive constraint for an active
constraint. The other way it may interact again with the rules, is when
a variable appearing in the constraint becomes bound to either a nonvariable
or another variable involved in one or more constraints. In that case the
constraint is triggered, i.e. it becomes an active constraint and all
the rules are tried.
</p>
<hr size="6">
<a name="SEC127"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC126" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC128" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC122" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC126" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC142" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="unnumberedsubsubsec"> Rule Types </h4>

<p>There are three different kinds of rules, each with their specific semantics:
</p>
<dl compact="compact">
<dt> <code>simplification</code></dt>
<dd><p>The simplification rule removes the constraints in its head and calls its body.
</p>
</dd>
<dt> <code>propagation</code></dt>
<dd><p>The propagation rule calls its body exactly once for the constraints in
its head.
</p>
</dd>
<dt> <code>simpagation</code></dt>
<dd><p>The simpagation rule removes the constraints in its head after the
<code>\</code> and then calls its body. It is an optimization of
simplification rules of the form: \[constraints_1, constraints_2 &lt;=&gt;
constraints_1, body \] Namely, in the simpagation form: 
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">constraints1 \ constraints2 &lt;=&gt; body
</pre></td></tr></table>
<p><var>constraints1</var>
constraints are not called in the body.
</p></dd>
</dl>

<hr size="6">
<a name="SEC128"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC127" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC129" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC122" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC126" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC142" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="unnumberedsubsubsec"> Rule Names </h4>
<p>Naming a rule is optional and has no semantical meaning. It only functions
as documentation for the programmer.
</p>
<hr size="6">
<a name="SEC129"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC128" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC130" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC122" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC126" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC142" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="unnumberedsubsubsec"> Pragmas </h4>
<p>The semantics of the pragmas are:
</p>
<dl compact="compact">
<dt> &lsquo;<samp>passive(Identifier)</samp>&rsquo;</dt>
<dd><p>The constraint in the head of a rule <var>Identifier</var> can only act as a
passive constraint in that rule.
</p></dd>
</dl>

<p>Additional pragmas may be released in the future.
</p>
<hr size="6">
<a name="SEC130"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC129" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC131" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC122" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC126" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC142" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="unnumberedsubsubsec"> Options </h4>
<p>It is possible to specify options that apply to all the CHR rules in the module.
Options are specified with the <code>option/2</code> declaration:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">                option(Option,Value).
</pre></td></tr></table>

<p>Available options are:
</p><dl compact="compact">
<dt> <code>check_guard_bindings</code></dt>
<dd><p>This option controls whether guards should be checked for illegal
variable bindings or not. Possible values for this option are
<code>on</code>, to enable the checks, and <code>off</code>, to disable the
checks.
</p>
        </dd>
<dt> <code>optimize</code></dt>
<dd><p>This is an experimental option controlling the degree of optimization.
Possible values are <code>full</code>, to enable all available
optimizations, and <code>off</code> (default), to disable all optimizations.  
The default is derived from the SWI-Prolog flag <code>optimise</code>, where
<code>true</code> is mapped to <code>full</code>.  Therefore the commandline
option &lsquo;<samp>-O</samp>&rsquo; provides full CHR optimization.
If optimization is enabled, debugging should be disabled.
</p>
	</dd>
<dt> <code>debug</code></dt>
<dd><p>This options enables or disables the possibility to debug the CHR code.
Possible values are <code>on</code> (default) and <code>off</code>. See
&lsquo;<samp>debugging</samp>&rsquo; for more details on debugging.  The default is
derived from the prolog flag <code>generate_debug_info</code>, which
is <code>true</code> by default.  See &lsquo;<samp>-nodebug</samp>&rsquo;.
If debugging is enabled, optimization should be disabled.
</p>
	</dd>
<dt> <code>mode</code></dt>
<dd><p>This option specifies the mode for a particular constraint. The
value is a term with functor and arity equal to that of a constraint.
The arguments can be one of <code>-</code>, <code>+</code> or <code>?</code>.
The latter is the default. The meaning is the following:
	</p><dl compact="compact">
<dt> <code>-</code></dt>
<dd><p>         The corresponding argument of every occurrence
	of the constraint is always unbound.
	</p></dd>
<dt> <code>+</code> </dt>
<dd><p>        The corresponding argument of every occurrence
	of the constraint is always ground.
	</p></dd>
<dt> <code>?</code></dt>
<dd><p>         The corresponding argument of every occurrence
	of the constraint can have any instantiation, which may change
	over time. This is the default value.
	</p></dd>
</dl>
<p>The declaration is used by the compiler for various optimizations. 
Note that it is up to the user the ensure that the mode declaration
is correct with respect to the use of the constraint.
This option may occur once for each constraint.
</p>
	</dd>
<dt> <code>type_declaration</code></dt>
<dd><p>This option specifies the argument types for a particular constraint. The
value is a term with functor and arity equal to that of a constraint.
The arguments can be a user-defined type or one of
the built-in types:
    </p><dl compact="compact">
<dt> <code>int</code></dt>
<dd><p>         The corresponding argument of every occurrence
	of the constraint is an integer number.
	</p></dd>
<dt> <code>float</code></dt>
<dd><p>         &hellip; a floating point number.
	</p></dd>
<dt> <code>number</code></dt>
<dd><p>         &hellip; a number.
	</p></dd>
<dt> <code>natural</code></dt>
<dd><p>         &hellip; a positive integer.
	</p></dd>
<dt> <code>any</code></dt>
<dd><p>         The corresponding argument of every occurrence
	of the constraint can have any type. This is the default value.
   </p></dd>
</dl>

<p>Currently, type declarations are only used to improve certain
optimizations (guard simplification, occurrence subsumption, &hellip;).
</p>
	</dd>
<dt> <code>type_definition</code></dt>
<dd><p>This option defines a new user-defined type which can be used in
type declarations. The value is a term of the form
<code>type(</code><var>name</var><code>,</code><var>list</var><code>)</code>, where
<var>name</var> is a term and <var>list</var> is a list of alternatives.
Variables can be used to define generic types. Recursive definitions
are allowed. Examples are 
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">type(bool,[true,false]).
type(complex_number,[float + float * i]).
type(binary_tree(T),[ leaf(T) | node(binary_tree(T),binary_tree(T)) ]).
type(list(T),[ [] | [T | list(T)]).
</pre></td></tr></table>


</dd>
</dl>

<p>The mode, type_declaration and type_definition options are provided
for backward compatibility. The new syntax is described below.
</p>
<hr size="6">
<a name="CHR-in-YAP-Programs"></a>
<a name="SEC131"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC130" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC132" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC122" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC122" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC142" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 12.3 CHR in YAP Programs </h2>


<hr size="6">
<a name="SEC132"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC131" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC133" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC122" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC131" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC142" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 12.3.1 Embedding in Prolog Programs </h3>

<p>The CHR constraints defined in a particulary &lsquo;<tt>chr</tt>&rsquo; file are
associated with a module. The default module is <code>user</code>. One should
never load different &lsquo;<tt>chr</tt>&rsquo; files with the same CHR module name.
</p>
<hr size="6">
<a name="SEC133"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC132" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC134" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC122" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC131" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC142" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 12.3.2 Constraint declaration </h3>

<p>Every constraint used in CHR rules has to be declared.
There are two ways to do this. The old style is as follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">option(type_definition,type(list(T),[ [] , [T|list(T)] ]).
option(mode,foo(+,?)).
option(type_declaration,foo(list(int),float)).
:- constraints foo/2, bar/0.
</pre></td></tr></table>

<p>The new style is as follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">:- chr_type list(T) ---&gt; [] ; [T|list(T)].
:- constraints foo(+list(int),?float), bar.
</pre></td></tr></table>


<hr size="6">
<a name="SEC134"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC133" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC135" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC122" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC131" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC142" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 12.3.3 Compilation </h3>

<p>The SWI-Prolog CHR compiler exploits term_expansion/2 rules to translate
the constraint handling rules to plain Prolog. These rules are loaded
from the library &lsquo;<tt>chr</tt>&rsquo;.   They are activated if the compiled file
has the &lsquo;<tt>chr</tt>&rsquo; extension or after finding a declaration of the
format below.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">:- constraints ...
</pre></td></tr></table>

<p>It is adviced to define CHR rules in a module file, where the module
declaration is immediately followed by including the &lsquo;<tt>chr</tt>&rsquo;
library as examplified below:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">:- module(zebra, [ zebra/0 ]).
:- use_module(library(chr)).

:- constraints ...
</pre></td></tr></table>

<p>Using this style CHR rules can be defined in ordinary Prolog
&lsquo;<tt>pl</tt>&rsquo; files and the operator definitions required by CHR do not
leak into modules where they might cause conflicts.
</p>

<hr size="6">
<a name="CHR-Debugging"></a>
<a name="SEC135"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC134" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC136" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC122" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC122" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC142" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 12.4 Debugging </h2>

<p>The CHR debugging facilities are currently rather limited. Only tracing
is currently available. To use the CHR debugging facilities for a CHR
file it must be compiled for debugging. Generating debug info is
controlled by the CHR option <code>debug</code>, whose default is derived
from the SWI-Prolog flag <code>generate_debug_info</code>.  Therefore debug
info is provided unless the &lsquo;<samp>-nodebug</samp>&rsquo; is used.
</p>

<hr size="6">
<a name="SEC136"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC135" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC137" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC122" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC135" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC142" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 12.4.1 Ports </h3>

<p>For CHR constraints the four standard ports are defined:
</p>
<dl compact="compact">
<dt> <code>call</code></dt>
<dd><p>A new constraint is called and becomes active.
	</p></dd>
<dt> <code>exit</code></dt>
<dd><p>An active constraint exits: it has either been inserted in the store after
trying all rules or has been removed from the constraint store.
	</p></dd>
<dt> <code>fail</code></dt>
<dd><p>An active constraint fails.
	</p></dd>
<dt> <code>redo</code></dt>
<dd><p>An active constraint starts looking for an alternative solution.
</p></dd>
</dl>

<p>In addition to the above ports, CHR constraints have five additional
ports:
</p>
<dl compact="compact">
<dt> <code>wake</code></dt>
<dd><p>A suspended constraint is woken and becomes active.
</p></dd>
<dt> <code>insert</code></dt>
<dd><p>An active constraint has tried all rules and is suspended in
the constraint store.
</p></dd>
<dt> <code>remove</code></dt>
<dd><p>An active or passive constraint is removed from the constraint
store, if it had been inserted.
</p></dd>
<dt> <code>try</code></dt>
<dd><p>	An active constraints tries a rule with possibly
	some passive constraints. The try port is entered
	just before committing to the rule.
</p></dd>
<dt> <code>apply</code></dt>
<dd><p>	An active constraints commits to a rule with possibly
	some passive constraints. The apply port is entered
	just after committing to the rule.
</p></dd>
</dl>

<hr size="6">
<a name="SEC137"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC136" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC138" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC122" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC135" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC142" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 12.4.2 Tracing </h3>

<p>Tracing is enabled with the chr_trace/0 predicate
and disabled with the chr_notrace/0 predicate.
</p>
<p>When enabled the tracer will step through the <code>call</code>,
<code>exit</code>, <code>fail</code>, <code>wake</code> and <code>apply</code> ports,
accepting debug commands, and simply write out the other ports.
</p>
<p>The following debug commans are currently supported:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">        CHR debug options:

                &lt;cr&gt;    creep           c       creep
		s	skip
		g	ancestors
                n       nodebug
		b	break
                a       abort
                f       fail
                ?       help            h       help
</pre></td></tr></table>

<p>Their meaning is:
</p>
<dl compact="compact">
<dt> <code>creep</code></dt>
<dd><p>Step to the next port.
</p></dd>
<dt> <code>skip</code></dt>
<dd><p>Skip to exit port of this call or wake port.
</p></dd>
<dt> <code>ancestors</code></dt>
<dd><p>Print list of ancestor call and wake ports.
</p></dd>
<dt> <code>nodebug</code></dt>
<dd><p>Disable the tracer.
</p></dd>
<dt> <code>break</code></dt>
<dd><p>Enter a recursive Prolog toplevel.  See break/0.
</p></dd>
<dt> <code>abort</code></dt>
<dd><p>Exit to the toplevel.  See abort/0.
</p></dd>
<dt> <code>fail</code></dt>
<dd><p>Insert failure in execution.
</p></dd>
<dt> <code>help</code></dt>
<dd><p>Print the above available debug options.
</p></dd>
</dl>

<hr size="6">
<a name="SEC138"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC137" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC139" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC122" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC135" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC142" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 12.4.3 CHR Debugging Predicates </h3>

<p>The &lsquo;<tt>chr</tt>&rsquo; module contains several predicates that allow
inspecting and printing the content of the constraint store.
</p>
<dl compact="compact">
<dt> <code>chr_trace/0</code></dt>
<dd><p>Activate the CHR tracer.  By default the CHR tracer is activated and
deactivated automatically by the Prolog predicates trace/0 and
notrace/0.
</p>
    </dd>
<dt> <code>chr_notrace/0</code></dt>
<dd><p>De-activate the CHR tracer.  By default the CHR tracer is activated and
deactivated automatically by the Prolog predicates trace/0 and
notrace/0.
</p>    
    </dd>
<dt> <code>chr_leash/0</code> </dt>
<dd>
<p>Define the set of CHR ports on which the CHR
tracer asks for user intervention (i.e. stops). <var>Spec</var> is either a
list of ports or a predefined `alias'. Defined aliases are:
<code>full</code> to stop at all ports, <code>none</code> or <code>off</code> to never
stop, and <code>default</code> to stop at the <code>call</code>, <code>exit</code>,
<code>fail</code>, <code>wake</code> and <code>apply</code> ports.  See also leash/1.
</p>
    </dd>
<dt> <code>chr_show_store(+<var>Mod</var>)</code></dt>
<dd><p>Prints all suspended constraints of module <var>Mod</var> to the standard
output. This predicate is automatically called by the SWI-Prolog toplevel at
the end of each query for every CHR module currently loaded.  The prolog-flag
<code>chr_toplevel_show_store</code> controls whether the toplevel shows the
constraint stores. The value <code>true</code> enables it.  Any other value
disables it.
</p>

</dd>
</dl>


<hr size="6">
<a name="CHR-Examples"></a>
<a name="SEC139"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC138" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC140" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC122" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC122" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC142" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 12.5 Examples </h2>

<p>Here are two example constraint solvers written in CHR.
</p>
<ul class="toc">
<li>
The program below defines a solver with one constraint, 
<code>leq/2</code>, which is a less-than-or-equal constraint.

<table><tr><td>&nbsp;</td><td><pre class="example">:- module(leq,[cycle/3, leq/2]).
:- use_module(library(chr)).

:- constraints leq/2.
reflexivity  &nbsp;leq(X,X) &lt;=&gt; true.
antisymmetry &nbsp;leq(X,Y), leq(Y,X) &lt;=&gt; X = Y.
idempotence  &nbsp;leq(X,Y) \ leq(X,Y) &lt;=&gt; true.
transitivity &nbsp;leq(X,Y), leq(Y,Z) ==&gt; leq(X,Z).

cycle(X,Y,Z):-
        leq(X,Y),
        leq(Y,Z),
        leq(Z,X).
</pre></td></tr></table>

    </li><li>
The program below implements a simple finite domain
constraint solver.

<table><tr><td>&nbsp;</td><td><pre class="example">:- module(dom,[dom/2]).
:- use_module(library(chr)).

:- constraints dom/2. 

dom(X,[]) &lt;=&gt; fail.
dom(X,[Y]) &lt;=&gt; X = Y.
dom(X,L1), dom(X,L2) &lt;=&gt; intersection(L1,L2,L3), dom(X,L3).

intersection([],_,[]).
intersection([H|T],L2,[H|L3]) :-
        member(H,L2), !,
        intersection(T,L2,L3).
intersection([_|T],L2,L3) :-
        intersection(T,L2,L3).
</pre></td></tr></table>
		
</li></ul>

<hr size="6">
<a name="CHR-Compatibility"></a>
<a name="SEC140"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC139" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC141" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC122" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC122" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC142" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 12.6 Compatibility with SICStus CHR </h2>

<p>There are small differences between CHR in SWI-Prolog and newer
YAPs and SICStus and older versions of YAP.  Besides differences in
available options and pragmas, the following differences should be
noted:
</p>
<dl compact="compact">
<dt> <code>[The handler/1 declaration]</code></dt>
<dd><p>In SICStus every CHR module requires a <code>handler/1</code>
declaration declaring a unique handler name. This declaration is valid
syntax in SWI-Prolog, but will have no effect. A warning will be given
during compilation.
</p>
        </dd>
<dt> <code>[The rules/1 declaration]</code></dt>
<dd><p>In SICStus, for every CHR module it is possible to only enable a subset
of the available rules through the <code>rules/1</code> declaration. The
declaration is valid syntax in SWI-Prolog, but has no effect. A
warning is given during compilation.
</p>
	</dd>
<dt> <code>[Sourcefile naming]</code></dt>
<dd><p>SICStus uses a two-step compiler, where &lsquo;<tt>chr</tt>&rsquo; files are
first translated into &lsquo;<tt>pl</tt>&rsquo; files.  For SWI-Prolog CHR
rules may be defined in a file with any extension.
</p></dd>
</dl>


<hr size="6">
<a name="CHR-Guidelines"></a>
<a name="SEC141"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC140" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC142" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC122" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC122" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC142" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 12.7 Guidelines </h2>

<p>In this section we cover several guidelines on how to use CHR to write
constraint solvers and how to do so efficiently.
</p>
<dl compact="compact">
<dt> <code>[Set semantics]</code></dt>
<dd><p>The CHR system allows the presence of identical constraints, i.e.
multiple constraints with the same functor, arity and arguments. For
most constraint solvers, this is not desirable: it affects efficiency
and possibly termination. Hence appropriate simpagation rules should be
added of the form:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">{constraint \ constraint &lt;=&gt; true}.
</pre></td></tr></table>

    </dd>
<dt> <code>[Multi-headed rules]</code></dt>
<dd><p>Multi-headed rules are executed more efficiently when the constraints
share one or more variables.
</p>
    </dd>
<dt> <code>[Mode and type declarations]</code></dt>
<dd><p>Provide mode and type declarations to get more efficient program execution.
Make sure to disable debug (&lsquo;<samp>-nodebug</samp>&rsquo;) and enable optimization
(&lsquo;<samp>-O</samp>&rsquo;).
</p></dd>
</dl>



<hr size="6">
<a name="Logtalk"></a>
<a name="SEC142"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC141" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC143" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC122" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC143" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 13. Logtalk </h1>


<p>The Logtalk object-oriented extension is available once included 
with the <code>use_module(library(logtalk))</code> command. Note that, 
although we load Logtalk using the <code>use_module/1</code> built-in 
predicate, the system is not packaged as a module not does it use 
modules in its implementation.
</p>
<p>Logtalk documentation is included in the Logtalk directory. Be sure to read the Logtalk/INSTALL.txt and Logtalk/CUSTOMIZE.txt files for additional instructions on how to customize your Logtalk installation to match your working environment (the <code>use_module/1</code> call described above only provides minimal support).
</p>
<p>For the latest Logtalk news, please see the URL <a href="http://logtalk.org/">http://logtalk.org/</a>.
</p>
<hr size="6">
<a name="Threads"></a>
<a name="SEC143"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC142" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC144" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC142" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC151" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 14. Threads </h1>

<p>YAP implements a SWI-Prolog compatible multithreading
library. Like in SWI-Prolog, Prolog threads have their own stacks and
only share the Prolog <em>heap</em>: predicates, records, flags and other
global non-backtrackable data.  The package is based on the POSIX thread
standard (Butenhof:1997:PPT) used on most popular systems except
for MS-Windows.
</p>

<table class="menu" border="0" cellspacing="0">
<p>Subnodes of Threads
<a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a>&nbsp;</p>               
<tr><td align="left" valign="top"><a href="#SEC145">14.2 Monitoring Threads</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC146">14.3 Thread communication</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">   
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC150">14.4 Thread Synchronisation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                 
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Subnodes of Thread Communication
</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC147">14.3.1 Message Queues</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC148">14.3.2 Signalling Threads</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC149">14.3.3 Threads and Dynamic Predicates</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">   
</td></tr>
</table>

<hr size="6">
<a name="Creating-and-Destroying-Prolog-Threads"></a>
<a name="SEC144"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC143" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC145" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC143" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC143" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC151" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 14.1 Creating and Destroying Prolog Threads </h2>

<dl compact="compact">
<dt> <code>thread_create(:<var>Goal</var>, -<var>Id</var>, +<var>Options</var>)</code></dt>
<dd><a name="IDX2391"></a>
<a name="IDX2392"></a>
<a name="IDX2393"></a>

<p>Create a new Prolog thread (and underlying C-thread) and start it
by executing <var>Goal</var>.  If the thread is created succesfully, the
thread-identifier of the created thread is unified to <var>Id</var>.
<var>Options</var> is a list of options.  Currently defined options are:
</p>
<dl compact="compact">
<dt> <code>stack</code></dt>
<dd><p>Set the limit in K-Bytes to which the Prolog stacks of
this thread may grow.  If omited, the limit of the calling thread is
used.  See also the  commandline <code>-S</code> option.
</p>
    </dd>
<dt> <code>trail</code></dt>
<dd><p>Set the limit in K-Bytes to which the trail stack of this thread may
grow.  If omited, the limit of the calling thread is used. See also the
commandline option <code>-T</code>.
</p>
    </dd>
<dt> <code>alias</code></dt>
<dd><p>Associate an alias-name with the thread.  This named may be used to
refer to the thread and remains valid until the thread is joined
(see <code>thread_join/2</code>).
</p>
    </dd>
<dt> <code>detached</code></dt>
<dd><p>If <code>false</code> (default), the thread can be waited for using
<code>thread_join/2</code>. <code>thread_join/2</code> must be called on this thread
to reclaim the all resources associated to the thread. If <code>true</code>,
the system will reclaim all associated resources automatically after the
thread finishes. Please note that thread identifiers are freed for reuse
after a detached thread finishes or a normal thread has been joined.
See also <code>thread_join/2</code> and <code>thread_detach/1</code>.
</p></dd>
</dl>

<p>The <var>Goal</var> argument is <em>copied</em> to the new Prolog engine.
This implies further instantiation of this term in either thread does
not have consequences for the other thread: Prolog threads do not share
data from their stacks.
</p>
</dd>
<dt> <code>thread_create(:<var>Goal</var>, -<var>Id</var>)</code></dt>
<dd><a name="IDX2394"></a>
<a name="IDX2395"></a>
<a name="IDX2396"></a>

<p>Create a new Prolog thread using default options. See <code>thread_create/3</code>.
</p>
</dd>
<dt> <code>thread_create(:<var>Goal</var>)</code></dt>
<dd><a name="IDX2397"></a>
<a name="IDX2398"></a>
<a name="IDX2399"></a>

<p>Create a new Prolog detached thread using default options. See <code>thread_create/3</code>.
</p>
</dd>
<dt> <code>thread_self(-<var>Id</var>)</code></dt>
<dd><a name="IDX2400"></a>
<a name="IDX2401"></a>
<a name="IDX2402"></a>
<p>Get the Prolog thread identifier of the running thread.  If the thread
has an alias, the alias-name is returned.
</p>
</dd>
<dt> <code>thread_join(+<var>Id</var>, -<var>Status</var>)</code></dt>
<dd><a name="IDX2403"></a>
<a name="IDX2404"></a>
<a name="IDX2405"></a>
<p>Wait for the termination of thread with given <var>Id</var>.  Then unify the
result-status of the thread with <var>Status</var>.  After this call,
<var>Id</var> becomes invalid and all resources associated with the thread
are reclaimed.  Note that threads with the attribute <code>detached</code>
<code>true</code> cannot be joined.  See also <code>current_thread/2</code>.
</p>
<p>A thread that has been completed without <code>thread_join/2</code> being
called on it is partly reclaimed: the Prolog stacks are released and the
C-thread is destroyed. A small data-structure representing the
exit-status of the thread is retained until <code>thread_join/2</code> is called on
the thread.  Defined values for <var>Status</var> are:
</p>
<dl compact="compact">
<dt> <code>true</code></dt>
<dd><p>The goal has been proven successfully.
</p>
    </dd>
<dt> <code>false</code></dt>
<dd><p>The goal has failed.
</p>
    </dd>
<dt> <code>exception(<var>Term</var>)</code></dt>
<dd><p> The thread is terminated on an
exception.  See <code>print_message/2</code> to turn system exceptions into
readable messages.
</p>
    </dd>
<dt> <code>exited(<var>Term</var>)</code></dt>
<dd><p>The thread is terminated on <code>thread_exit/1</code> using the argument <var>Term</var>.
</p></dd>
</dl>


</dd>
<dt> <code>thread_detach(+<var>Id</var>)</code></dt>
<dd><a name="IDX2406"></a>
<a name="IDX2407"></a>
<a name="IDX2408"></a>
<p>Switch thread into detached-state (see <code>detached</code> option at
<code>thread_create/3</code> at runtime.  <var>Id</var> is the identifier of the thread
placed in detached state.
</p>
<p>One of the possible applications is to simplify debugging. Threads that
are created as <code>detached</code> leave no traces if they crash. For
not-detached threads the status can be inspected using
<code>current_thread/2</code>.  Threads nobody is waiting for may be created
normally and detach themselves just before completion.  This way they
leave no traces on normal completion and their reason for failure can be
inspected.
</p>
</dd>
<dt> <code>thread_yield</code></dt>
<dd><a name="IDX2409"></a>
<a name="IDX2410"></a>
<a name="IDX2411"></a>
<p>Voluntarily relinquish the processor.
</p>
</dd>
<dt> <code>thread_exit(+<var>Term</var>)</code></dt>
<dd><a name="IDX2412"></a>
<a name="IDX2413"></a>
<a name="IDX2414"></a>
<p>Terminates the thread immediately, leaving <code>exited(<var>Term</var>)</code> as
result-state for <code>thread_join/2</code>.  If the thread has the attribute
<code>detached</code> <code>true</code> it terminates, but its exit status cannot be
retrieved using <code>thread_join/2</code> making the value of <var>Term</var>
irrelevant.  The Prolog stacks and C-thread are reclaimed.
</p>
</dd>
<dt> <code>thread_at_exit(:<var>Term</var>)</code></dt>
<dd><a name="IDX2415"></a>
<a name="IDX2416"></a>
<a name="IDX2417"></a>
<p>Run <var>Goal</var> just before releasing the thread resources. This is to
be compared to <code>at_halt/1</code>, but only for the current
thread. These hooks are ran regardless of why the execution of the
thread has been completed. As these hooks are run, the return-code is
already available through <code>current_thread/2</code> using the result of
<code>thread_self/1</code> as thread-identifier.
</p>
</dd>
<dt> <code>thread_setconcurrency(+<var>Old</var>, -<var>New</var>)</code></dt>
<dd><a name="IDX2418"></a>
<a name="IDX2419"></a>
<a name="IDX2420"></a>
<p>Determine the concurrency of the process, which is defined as the
maximum number of concurrently active threads. `Active' here means
they are using CPU time. This option is provided if the
thread-implementation provides
<code>pthread_setconcurrency()</code>. Solaris is a typical example of this
family. On other systems this predicate unifies <var>Old</var> to 0 (zero)
and succeeds silently.
</p>
</dd>
<dt> <code>thread_sleep(+<var>Time</var>)</code></dt>
<dd><a name="IDX2421"></a>
<a name="IDX2422"></a>
<a name="IDX2423"></a>
<p>Make current thread sleep for <var>Time</var> seconds. <var>Time</var> may be an
integer or a floating point number. When time is zero or a negative value 
the call succeeds and returns immediately. This call should not be used if
alarms are also being used.
</p></dd>
</dl>


<hr size="6">
<a name="Monitoring-Threads"></a>
<a name="SEC145"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC144" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC146" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC143" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC143" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC151" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 14.2 Monitoring Threads </h2>

<p>Normal multi-threaded applications should not need these the predicates
from this section because almost any usage of these predicates is
unsafe. For example checking the existence of a thread before signalling
it is of no use as it may vanish between the two calls. Catching
exceptions using <code>catch/3</code> is the only safe way to deal with
thread-existence errors.
</p>
<p>These predicates are provided for diagnosis and monitoring tasks.
</p>

<dl compact="compact">
<dt> <code>thread_property(?<var>Id</var>, ?<var>Property</var>)</code></dt>
<dd><a name="IDX2424"></a>
<a name="IDX2425"></a>
<a name="IDX2426"></a>
<p>Enumerates the properties of the specified thread.
Calling <code>thread_property/2</code> does not influence any thread.  See also
<code>thread_join/2</code>.  For threads that have an alias-name, this name can
be used in <var>Id</var> instead of the numerical thread identifier.
<var>Property</var> is one of:
</p>
<dl compact="compact">
<dt> <code>status(<var>Status</var>)</code></dt>
<dd><p>The thread status of a thread (see below).
</p>
    </dd>
<dt> <code>alias(<var>Alias</var>)</code></dt>
<dd><p>The thread alias, if it exists.
</p>
    </dd>
<dt> <code>detached(<var>Boolean</var>)</code></dt>
<dd><p>The detached state of the thread.
</p>
    </dd>
<dt> <code>stack(<var>Size</var>)</code></dt>
<dd><p>The thread stack data-area size.
</p>
    </dd>
<dt> <code>trail(<var>Size</var>)</code></dt>
<dd><p>The thread trail data-area size.
</p>
    </dd>
<dt> <code>system(<var>Size</var>)</code></dt>
<dd><p>The thread system data-area size.
</p></dd>
</dl>

</dd>
<dt> <code>current_thread(+<var>Id</var>, -<var>Status</var>)</code></dt>
<dd><a name="IDX2427"></a>
<a name="IDX2428"></a>
<a name="IDX2429"></a>
<p>Enumerates identifiers and status of all currently known threads.
Calling <code>current_thread/2</code> does not influence any thread.  See also
<code>thread_join/2</code>.  For threads that have an alias-name, this name is
returned in <var>Id</var> instead of the numerical thread identifier.
<var>Status</var> is one of:
</p>
<dl compact="compact">
<dt> <code>running</code></dt>
<dd><p>The thread is running.  This is the initial status of a thread.  Please
note that threads waiting for something are considered running too.
</p>
    </dd>
<dt> <code>false</code></dt>
<dd><p>The <var>Goal</var> of the thread has been completed and failed.
</p>
    </dd>
<dt> <code>true</code></dt>
<dd><p>The <var>Goal</var> of the thread has been completed and succeeded.
</p>
    </dd>
<dt> <code>exited(<var>Term</var>)</code></dt>
<dd><p>The <var>Goal</var> of the thread has been terminated using <code>thread_exit/1</code>
with <var>Term</var> as argument.  If the underlying native thread has
exited (using pthread_exit()) <var>Term</var> is unbound.
</p>
    </dd>
<dt> <code>exception(<var>Term</var>)</code></dt>
<dd><p>The <var>Goal</var> of the thread has been terminated due to an uncaught
exception (see <code>throw/1</code> and <code>catch/3</code>).
</p></dd>
</dl>

</dd>
<dt> <code>thread_statistics(+<var>Id</var>, +<var>Key</var>, -<var>Value</var>)</code></dt>
<dd><a name="IDX2430"></a>
<a name="IDX2431"></a>
<a name="IDX2432"></a>
<p>Obtains statistical information on thread <var>Id</var> as <code>statistics/2</code>
does in single-threaded applications.  This call returns all keys
of <code>statistics/2</code>, although only information statistics about the
stacks and CPU time yield different values for each thread.
</p>
</dd>
<dt> <code>mutex_statistics</code></dt>
<dd><a name="IDX2433"></a>
<a name="IDX2434"></a>
<a name="IDX2435"></a>
<p>Print usage statistics on internal mutexes and mutexes associated
with dynamic predicates.  For each mutex two numbers are printed:
the number of times the mutex was acquired and the number of
collisions: the number times the calling thread has to
wait for the mutex.  The collistion-count is not available on
Windows as this would break portability to Windows-95/98/ME or
significantly harm performance.  Generally collision count is
close to zero on single-CPU hardware.
</p>
</dd>
<dt> <code>threads</code></dt>
<dd><a name="IDX2436"></a>
<a name="IDX2437"></a>
<a name="IDX2438"></a>
<p>Prints a table of current threads and their status.
</p></dd>
</dl>


<hr size="6">
<a name="Thread-Communication"></a>
<a name="SEC146"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC145" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC147" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC143" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC143" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC151" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 14.3 Thread communication </h2>

<table class="menu" border="0" cellspacing="0">
<p>Subnodes of Thread Communication
<a href="#SEC147">14.3.1 Message Queues</a>&nbsp;</p>
<tr><td align="left" valign="top"><a href="#SEC148">14.3.2 Signalling Threads</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC149">14.3.3 Threads and Dynamic Predicates</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">   
</td></tr>
</table>

<hr size="6">
<a name="Message-Queues"></a>
<a name="SEC147"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC146" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC148" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC143" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC146" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC151" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 14.3.1 Message Queues </h3>

<p>Prolog threads can exchange data using dynamic predicates, database
records, and other globally shared data. These provide no suitable means
to wait for data or a condition as they can only be checked in an
expensive polling loop. <em>Message queues</em> provide a means for
threads to wait for data or conditions without using the CPU.
</p>
<p>Each thread has a message-queue attached to it that is identified
by the thread. Additional queues are created using
<code>message_queue_create/2</code>.
</p>
<dl compact="compact">
<dt> <code>thread_send_message(+<var>Term</var>)</code></dt>
<dd><a name="IDX2439"></a>
<a name="IDX2440"></a>
<a name="IDX2441"></a>
<p>Places <var>Term</var> in the message-queue of the thread running the goal. 
Any term can be placed in a message queue, but note that the term is 
copied to the receiving thread and variable-bindings are thus lost. 
This call returns immediately.
</p>
</dd>
<dt> <code>thread_send_message(+<var>QueueOrThreadId</var>, +<var>Term</var>)</code></dt>
<dd><a name="IDX2442"></a>
<a name="IDX2443"></a>
<a name="IDX2444"></a>
<p>Place <var>Term</var> in the given queue or default queue of the indicated
thread (which can even be the message queue of itself (see
<code>thread_self/1</code>). Any term can be placed in a message queue, but note that
the term is copied to the receiving thread and variable-bindings are
thus lost. This call returns immediately.
</p>
<p>If more than one thread is waiting for messages on the given queue and
at least one of these is waiting with a partially instantiated
<var>Term</var>, the waiting threads are <em>all</em> sent a wakeup signal,
starting a rush for the available messages in the queue.  This behaviour
can seriously harm performance with many threads waiting on the same
queue as all-but-the-winner perform a useless scan of the queue. If
there is only one waiting thread or all waiting threads wait with an
unbound variable an arbitrary thread is restarted to scan the queue.
</p>
</dd>
<dt> <code>thread_get_message(?<var>Term</var>)</code></dt>
<dd><a name="IDX2445"></a>
<a name="IDX2446"></a>
<a name="IDX2447"></a>
<p>Examines the thread message-queue and if necessary blocks execution
until a term that unifies to <var>Term</var> arrives in the queue.  After
a term from the queue has been unified unified to <var>Term</var>, the
term is deleted from the queue and this predicate returns.
</p>
<p>Please note that not-unifying messages remain in the queue.  After
the following has been executed, thread 1 has the term <code>gnu</code>
in its queue and continues execution using <var>A</var> is <code>gnat</code>.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">   &lt;thread 1&gt;
   thread_get_message(a(A)),

   &lt;thread 2&gt;
   thread_send_message(b(gnu)),
   thread_send_message(a(gnat)),
</pre></td></tr></table>

<p>See also <code>thread_peek_message/1</code>.
</p>
</dd>
<dt> <code>message_queue_create(?<var>Queue</var>)</code></dt>
<dd><a name="IDX2448"></a>
<a name="IDX2449"></a>
<a name="IDX2450"></a>
<p>If <var>Queue</var> is an atom, create a named queue.  To avoid ambiguity
on <code>thread_send_message/2</code>, the name of a queue may not be in use
as a thread-name.  If <var>Queue</var> is unbound an anonymous queue is
created and <var>Queue</var> is unified to its identifier.
</p>
</dd>
<dt> <code>message_queue_destroy(+<var>Queue</var>)</code></dt>
<dd><a name="IDX2451"></a>
<a name="IDX2452"></a>
<a name="IDX2453"></a>
<p>Destroy a message queue created with <code>message_queue_create/1</code>.  It is
<em>not</em> allows to destroy the queue of a thread.  Neither is it
allowed to destroy a queue other threads are waiting for or, for
anynymous message queues, may try to wait for later.
</p>
</dd>
<dt> <code>thread_get_message(+<var>Queue</var>, ?<var>Term</var>)</code></dt>
<dd><a name="IDX2454"></a>
<a name="IDX2455"></a>
<a name="IDX2456"></a>
<p>As <code>thread_get_message/1</code>, operating on a given queue. It is allowed to
peek into another thread's message queue, an operation that can be used
to check whether a thread has swallowed a message sent to it.
</p>
</dd>
<dt> <code>thread_peek_message(?<var>Term</var>)</code></dt>
<dd><a name="IDX2457"></a>
<a name="IDX2458"></a>
<a name="IDX2459"></a>
<p>Examines the thread message-queue and compares the queued terms
with <var>Term</var> until one unifies or the end of the queue has been
reached.  In the first case the call succeeds (possibly instantiating
<var>Term</var>.  If no term from the queue unifies this call fails.
</p>
</dd>
<dt> <code>thread_peek_message(+<var>Queue</var>, ?<var>Term</var>)</code></dt>
<dd><a name="IDX2460"></a>
<a name="IDX2461"></a>
<a name="IDX2462"></a>
<p>As <code>thread_peek_message/1</code>, operating on a given queue. It is allowed to
peek into another thread's message queue, an operation that can be used
to check whether a thread has swallowed a message sent to it.
</p>
</dd>
</dl>


<p>Explicit message queues are designed with the <em>worker-pool</em> model
in mind, where multiple threads wait on a single queue and pick up the
first goal to execute.  Below is a simple implementation where the
workers execute arbitrary Prolog goals.  Note that this example provides
no means to tell when all work is done. This must be realised using
additional synchronisation.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">%	create_workers(+Id, +N)
%	
%	Create a pool with given Id and number of workers.

create_workers(Id, N) :-
	message_queue_create(Id),
	forall(between(1, N, _),
	       thread_create(do_work(Id), _, [])).

do_work(Id) :-
	repeat,
	  thread_get_message(Id, Goal),
	  (   catch(Goal, E, print_message(error, E))
	  -&gt;  true
	  ;   print_message(error, goal_failed(Goal, worker(Id)))
	  ),
	fail.

%	work(+Id, +Goal)
%	
%	Post work to be done by the pool

work(Id, Goal) :-
	thread_send_message(Id, Goal).
</pre></td></tr></table>

<hr size="6">
<a name="Signalling-Threads"></a>
<a name="SEC148"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC147" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC149" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC143" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC146" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC151" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 14.3.2 Signalling Threads </h3>

<p>These predicates provide a mechanism to make another thread execute some
goal as an <em>interrupt</em>.  Signalling threads is safe as these
interrupts are only checked at safe points in the virtual machine.
Nevertheless, signalling in multi-threaded environments should be
handled with care as the receiving thread may hold a <em>mutex</em>
(see <code>with_mutex/2</code>).  Signalling probably only makes sense to start
debugging threads and to cancel no-longer-needed threads with <code>throw/1</code>,
where the receiving thread should be designed carefully do handle
exceptions at any point.
</p>
<dl compact="compact">
<dt> <code>thread_signal(+<var>ThreadId</var>, :<var>Goal</var>)</code></dt>
<dd><a name="IDX2463"></a>
<a name="IDX2464"></a>
<a name="IDX2465"></a>
<p>Make thread <var>ThreadId</var> execute <var>Goal</var> at the first
opportunity.  In the current implementation, this implies at the first
pass through the <em>Call-port</em>. The predicate <code>thread_signal/2</code>
itself places <var>Goal</var> into the signalled-thread's signal queue
and returns immediately.
</p>
<p>Signals (interrupts) do not cooperate well with the world of
multi-threading, mainly because the status of mutexes cannot be
guaranteed easily.  At the call-port, the Prolog virtual machine
holds no locks and therefore the asynchronous execution is safe.
</p>
<p><var>Goal</var> can be any valid Prolog goal, including <code>throw/1</code> to make
the receiving thread generate an exception and <code>trace/0</code> to start
tracing the receiving thread.
</p>
</dd>
</dl>

<hr size="6">
<a name="Threads-and-Dynamic-Predicates"></a>
<a name="SEC149"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC148" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC150" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC143" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC146" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC151" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 14.3.3 Threads and Dynamic Predicates </h3>

<p>Besides queues threads can share and exchange data using dynamic
predicates. The multi-threaded version knows about two types of
dynamic predicates. By default, a predicate declared <em>dynamic</em>
(see <code>dynamic/1</code>) is shared by all threads. Each thread may
assert, retract and run the dynamic predicate. Synchronisation inside
Prolog guarantees the consistency of the predicate. Updates are
<em>logical</em>: visible clauses are not affected by assert/retract
after a query started on the predicate. In many cases primitive from
thread synchronysation should be used to ensure application invariants on
the predicate are maintained.
</p>
<p>Besides shared predicates, dynamic predicates can be declared with the
<code>thread_local/1</code> directive. Such predicates share their
attributes, but the clause-list is different in each thread.
</p>
<dl compact="compact">
<dt> <code>thread_local(<var>+Functor/Arity</var>)</code> </dt>
<dd><a name="IDX2466"></a>
<a name="IDX2467"></a>
<a name="IDX2468"></a>
<p>related to the dynamic/1 directive.  It tells the system that the
predicate may be modified using <code>assert/1</code>, <code>retract/1</code>,
etc, during execution of the program.  Unlike normal shared dynamic
data however each thread has its own clause-list for the predicate.
As a thread starts, this clause list is empty.  If there are still
clauses as the thread terminates these are automatically reclaimed by
the system.  The <code>thread_local</code> property implies
the property <code>dynamic</code>.
</p>
<p>Thread-local dynamic predicates are intended for maintaining
thread-specific state or intermediate results of a computation.
</p>
<p>It is not recommended to put clauses for a thread-local predicate into
a file as in the example below as the clause is only visible from the
thread that loaded the source-file.  All other threads start with an
empty clause-list.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">:- thread_local
	foo/1.

foo(gnat).
</pre></td></tr></table>

</dd>
</dl>


<hr size="6">
<a name="Thread-Synchronisation"></a>
<a name="SEC150"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC149" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC151" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC143" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC143" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC151" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 14.4 Thread Synchronisation </h2>

<p>All internal Prolog operations are thread-safe. This implies two Prolog
threads can operate on the same dynamic predicate without corrupting the
consistency of the predicate. This section deals with user-level
<em>mutexes</em> (called <em>monitors</em> in ADA or
<em>critical-sections</em> by Microsoft).  A mutex is a
<em>MUT</em>ual <em>EX</em>clusive device, which implies at most one thread
can <em>hold</em> a mutex.
</p>
<p>Mutexes are used to realise related updates to the Prolog database.
With `related', we refer to the situation where a `transaction' implies
two or more changes to the Prolog database.  For example, we have a
predicate <code>address/2</code>, representing the address of a person and we want
to change the address by retracting the old and asserting the new
address.  Between these two operations the database is invalid: this
person has either no address or two addresses, depending on the
assert/retract order.
</p>
<p>Here is how to realise a correct update:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">:- initialization
	mutex_create(addressbook).

change_address(Id, Address) :-
	mutex_lock(addressbook),
	retractall(address(Id, _)),
	asserta(address(Id, Address)),
	mutex_unlock(addressbook).
</pre></td></tr></table>


<dl compact="compact">
<dt> <code>mutex_create(?<var>MutexId</var>)</code></dt>
<dd><a name="IDX2469"></a>
<a name="IDX2470"></a>
<a name="IDX2471"></a>
<p>Create a mutex.  if <var>MutexId</var> is an atom, a <em>named</em> mutex is
created.  If it is a variable, an anonymous mutex reference is returned.
There is no limit to the number of mutexes that can be created.
</p>
</dd>
<dt> <code>mutex_destroy(+<var>MutexId</var>)</code></dt>
<dd><a name="IDX2472"></a>
<a name="IDX2473"></a>
<a name="IDX2474"></a>
<p>Destroy a mutex.  After this call, <var>MutexId</var> becomes invalid and
further references yield an <code>existence_error</code> exception.
</p>
</dd>
<dt> <code>with_mutex(+<var>MutexId</var>, :<var>Goal</var>)</code></dt>
<dd><a name="IDX2475"></a>
<a name="IDX2476"></a>
<a name="IDX2477"></a>
<p>Execute <var>Goal</var> while holding <var>MutexId</var>.  If <var>Goal</var> leaves
choicepoints, these are destroyed (as in <code>once/1</code>).  The mutex is unlocked
regardless of whether <var>Goal</var> succeeds, fails or raises an exception.
An exception thrown by <var>Goal</var> is re-thrown after the mutex has been
successfully unlocked.  See also <code>mutex_create/2</code>.
</p>
<p>Although described in the thread-section, this predicate is also
available in the single-threaded version, where it behaves simply as
<code>once/1</code>.
</p>
</dd>
<dt> <code>mutex_lock(+<var>MutexId</var>)</code></dt>
<dd><a name="IDX2478"></a>
<a name="IDX2479"></a>
<a name="IDX2480"></a>
<p>Lock the mutex.  Prolog mutexes are <em>recursive</em> mutexes: they
can be locked multiple times by the same thread.  Only after unlocking
it as many times as it is locked, the mutex becomes available for
locking by other threads. If another thread has locked the mutex the
calling thread is suspended until to mutex is unlocked.
</p>
<p>If <var>MutexId</var> is an atom, and there is no current mutex with that
name, the mutex is created automatically using <code>mutex_create/1</code>.  This
implies named mutexes need not be declared explicitly.
</p>
<p>Please note that locking and unlocking mutexes should be paired
carefully. Especially make sure to unlock mutexes even if the protected
code fails or raises an exception. For most common cases use
<code>with_mutex/2</code>, wich provides a safer way for handling prolog-level
mutexes.
</p>
</dd>
<dt> <code>mutex_trylock(+<var>MutexId</var>)</code></dt>
<dd><a name="IDX2481"></a>
<a name="IDX2482"></a>
<a name="IDX2483"></a>
<p>As mutex_lock/1, but if the mutex is held by another thread, this
predicates fails immediately.
</p>
</dd>
<dt> <code>mutex_unlock(+<var>MutexId</var>)</code></dt>
<dd><a name="IDX2484"></a>
<a name="IDX2485"></a>
<a name="IDX2486"></a>
<p>Unlock the mutex. This can only be called if the mutex is held by the
calling thread. If this is not the case, a <code>permission_error</code>
exception is raised.
</p>
</dd>
<dt> <code>mutex_unlock_all</code></dt>
<dd><a name="IDX2487"></a>
<a name="IDX2488"></a>
<a name="IDX2489"></a>
<p>Unlock all mutexes held by the current thread.  This call is especially
useful to handle thread-termination using <code>abort/0</code> or exceptions.  See
also <code>thread_signal/2</code>.
</p>
</dd>
<dt> <code>current_mutex(?<var>MutexId</var>, ?<var>ThreadId</var>, ?<var>Count</var>)</code></dt>
<dd><a name="IDX2490"></a>
<a name="IDX2491"></a>
<a name="IDX2492"></a>
<p>Enumerates all existing mutexes.  If the mutex is held by some thread,
<var>ThreadId</var> is unified with the identifier of te holding thread and
<var>Count</var> with the recursive count of the mutex. Otherwise,
<var>ThreadId</var> is <code>[]</code> and <var>Count</var> is 0.
</p></dd>
</dl>


<hr size="6">
<a name="Parallelism"></a>
<a name="SEC151"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC150" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC152" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC143" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC152" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 15. Parallelism </h1>

<p>There has been a sizeable amount of work on an or-parallel
implementation for YAP, called <strong>YAPOr</strong>. Most of this work has
been performed by Ricardo Rocha. In this system parallelism is exploited
implicitly by running several alternatives in or-parallel. This option
can be enabled from the <code>configure</code> script or by checking the
system's <code>Makefile</code>.
</p>
<p><strong>YAPOr</strong> is still a very experimental system, going through rapid
development. The following restrictions are of note:
</p>
<ul>
<li> <strong>YAPOr</strong> currently only supports the Linux/X86 and SPARC/Solaris
platforms. Porting to other Unix-like platforms should be straightforward.

</li><li> <strong>YAPOr</strong> does not support parallel updates to the
data-base.

</li><li> <strong>YAPOr</strong> does not support opening or closing of streams during
parallel execution.

</li><li> Garbage collection and stack shifting are not supported in
<strong>YAPOr</strong>.  

</li><li> Built-ins that cause side-effects can only be executed when
left-most in the search-tree. There are no primitives to provide
asynchronous or cavalier execution of these built-ins, as in Aurora or
Muse.

</li><li> YAP does not support voluntary suspension of work.
</li></ul>

<p>We expect that some of these restrictions will be removed in future
releases.
</p>
<hr size="6">
<a name="Tabling"></a>
<a name="SEC152"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC151" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC153" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC151" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC153" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 16. Tabling </h1>

<p><strong>YAPTab</strong> is the tabling engine that extends YAP's execution
model to support tabled evaluation for definite programs. YAPTab was
implemented by Ricardo Rocha and its implementation is largely based
on the ground-breaking design of the XSB Prolog system, which
implements the SLG-WAM. Tables are implemented using tries and YAPTab
supports the dynamic intermixing of batched scheduling and local
scheduling at the subgoal level. Currently, the following restrictions
are of note:
</p><ul>
<li> YAPTab does not handle tabled predicates with loops through negation (undefined behaviour).
</li><li> YAPTab does not handle tabled predicates with cuts (undefined behaviour).
</li><li> YAPTab does not support coroutining (configure error).
</li><li> YAPTab does not support tabling dynamic predicates (permission error).
</li></ul>

<p>To experiment with YAPTab use <code>--enable-tabling</code> in the configure
script or add <code>-DTABLING</code> to <code>YAP_EXTRAS</code> in the system's
<code>Makefile</code>. We next describe the set of built-ins predicates
designed to interact with YAPTab and control tabled execution:
</p>
<dl compact="compact">
<dt> <code>table +<var>P</var></code></dt>
<dd><a name="IDX2493"></a>
<a name="IDX2494"></a>
<a name="IDX2495"></a>
<p>Declares predicate <var>P</var> (or a list of predicates
<var>P1</var>,...,<var>Pn</var> or [<var>P1</var>,...,<var>Pn</var>]) as a tabled
predicate. <var>P</var> must be written in the form
<var>name/arity</var>. Examples:
</p><table><tr><td>&nbsp;</td><td><pre class="example">:- table son/3.
:- table father/2.
:- table mother/2.
</pre></td></tr></table>
<p>or
</p><table><tr><td>&nbsp;</td><td><pre class="example">:- table son/3, father/2, mother/2.
</pre></td></tr></table>
<p>or
</p><table><tr><td>&nbsp;</td><td><pre class="example">:- table [son/3, father/2, mother/2].
</pre></td></tr></table>

</dd>
<dt> <code>is_tabled(+<var>P</var>)</code></dt>
<dd><a name="IDX2496"></a>
<a name="IDX2497"></a>
<a name="IDX2498"></a>
<p>Succeeds if the predicate <var>P</var> (or a list of predicates
<var>P1</var>,...,<var>Pn</var> or [<var>P1</var>,...,<var>Pn</var>]), of the form
<var>name/arity</var>, is a tabled predicate.
</p>
</dd>
<dt> <code>tabling_mode(+<var>P</var>,?<var>Mode</var>)</code></dt>
<dd><a name="IDX2499"></a>
<a name="IDX2500"></a>
<a name="IDX2501"></a>
<p>Sets or reads the default tabling mode for a tabled predicate <var>P</var>
(or a list of predicates <var>P1</var>,...,<var>Pn</var> or
[<var>P1</var>,...,<var>Pn</var>]). The list of <var>Mode</var> options includes:
</p><dl compact="compact">
<dt> <code>batched</code></dt>
<dd><p>      Defines that, by default, batched scheduling is the scheduling
      strategy to be used to evaluated calls to predicate <var>P</var>.
</p></dd>
<dt> <code>local</code></dt>
<dd><p>      Defines that, by default, local scheduling is the scheduling
      strategy to be used to evaluated calls to predicate <var>P</var>.
</p></dd>
<dt> <code>exec_answers</code></dt>
<dd><p>      Defines that, by default, when a call to predicate <var>P</var> is
      already evaluated (completed), answers are obtained by executing
      compiled WAM-like code directly from the trie data
      structure. This reduces the loading time when backtracking, but
      the order in which answers are obtained is undefined.
</p></dd>
<dt> <code>load_answers</code></dt>
<dd><p>      Defines that, by default, when a call to predicate <var>P</var> is
      already evaluated (completed), answers are obtained (as a
      consumer) by loading them from the trie data structure. This
      guarantees that answers are obtained in the same order as they
      were found. Somewhat less efficient but creates less choice-points.
</p></dd>
</dl>
<p>The default tabling mode for a new tabled predicate is <code>batched</code>
and <code>exec_answers</code>. To set the tabling mode for all predicates at
once you can use the <code>yap_flag/2</code> predicate as described next.
</p>
</dd>
<dt> <code>yap_flag(tabling_mode,?<var>Mode</var>)</code></dt>
<dd><a name="IDX2502"></a>
<p>Sets or reads the tabling mode for all tabled predicates. The list of
<var>Mode</var> options includes:
</p><dl compact="compact">
<dt> <code>default</code></dt>
<dd><p>      Defines that (i) all calls to tabled predicates are evaluated
      using the predicate default mode, and that (ii) answers for all
      completed calls are obtained by using the predicate default mode.
</p></dd>
<dt> <code>batched</code></dt>
<dd><p>      Defines that all calls to tabled predicates are evaluated using
      batched scheduling. This option ignores the default tabling mode
      of each predicate.
</p></dd>
<dt> <code>local</code></dt>
<dd><p>      Defines that all calls to tabled predicates are evaluated using
      local scheduling. This option ignores the default tabling mode
      of each predicate.
</p></dd>
<dt> <code>exec_answers</code></dt>
<dd><p>      Defines that answers for all completed calls are obtained by
      executing compiled WAM-like code directly from the trie data
      structure. This option ignores the default tabling mode
      of each predicate.
</p></dd>
<dt> <code>load_answers</code></dt>
<dd><p>      Defines that answers for all completed calls are obtained by
      loading them from the trie data structure. This option ignores
      the default tabling mode of each predicate.
</p></dd>
</dl>

</dd>
<dt> <code>abolish_table(+<var>P</var>)</code></dt>
<dd><a name="IDX2503"></a>
<a name="IDX2504"></a>
<a name="IDX2505"></a>
<p>Removes all the entries from the table space for predicate <var>P</var> (or
a list of predicates <var>P1</var>,...,<var>Pn</var> or
[<var>P1</var>,...,<var>Pn</var>]). The predicate remains as a tabled predicate.
</p>
</dd>
<dt> <code>abolish_all_tables/0</code></dt>
<dd><a name="IDX2506"></a>
<a name="IDX2507"></a>
<a name="IDX2508"></a>
<p>Removes all the entries from the table space for all tabled
predicates. The predicates remain as tabled predicates.
</p>
</dd>
<dt> <code>show_table(+<var>P</var>)</code></dt>
<dd><a name="IDX2509"></a>
<a name="IDX2510"></a>
<a name="IDX2511"></a>
<p>Prints table contents (subgoals and answers) for predicate <var>P</var>
(or a list of predicates <var>P1</var>,...,<var>Pn</var> or
[<var>P1</var>,...,<var>Pn</var>]).
</p>
</dd>
<dt> <code>table_statistics(+<var>P</var>)</code></dt>
<dd><a name="IDX2512"></a>
<a name="IDX2513"></a>
<a name="IDX2514"></a>
<p>Prints table statistics (subgoals and answers) for predicate <var>P</var>
(or a list of predicates <var>P1</var>,...,<var>Pn</var> or
[<var>P1</var>,...,<var>Pn</var>]).
</p>
</dd>
<dt> <code>tabling_statistics/0</code></dt>
<dd><a name="IDX2515"></a>
<a name="IDX2516"></a>
<a name="IDX2517"></a>
<p>Prints statistics on space used by all tables.
</p></dd>
</dl>


<hr size="6">
<a name="Low-Level-Tracing"></a>
<a name="SEC153"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC152" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC154" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC152" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC154" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 17. Tracing at Low Level </h1>

<p>It is possible to follow the flow at abstract machine level if
YAP is compiled with the flag <code>LOW_LEVEL_TRACER</code>. Note
that this option is of most interest to implementers, as it quickly generates
an huge amount of information.
</p>
<p>Low level tracing can be toggled from an interrupt handler by using the
option <code>T</code>. There are also two built-ins that activate and
deactivate low level tracing:
</p>
<dl compact="compact">
<dt> <code>start_low_level_trace</code></dt>
<dd><a name="IDX2518"></a>
<a name="IDX2519"></a>
<a name="IDX2520"></a>
<p>Begin display of messages at procedure entry and retry.
</p>
</dd>
<dt> <code>stop_low_level_trace</code></dt>
<dd><a name="IDX2521"></a>
<a name="IDX2522"></a>
<a name="IDX2523"></a>
<p>Stop display of messages at procedure entry and retry.
</p></dd>
</dl>

<p>Note that this compile-time option will slow down execution.
</p>
<hr size="6">
<a name="Low-Level-Profiling"></a>
<a name="SEC154"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC153" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC155" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC153" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC155" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 18. Profiling the Abstract Machine </h1>

<p>Implementors may be interested in detecting on which abstract machine
instructions are executed by a program. The <code>ANALYST</code> flag can give
WAM level information. Note that this option slows down execution very
substantially, and is only of interest to developers of the system
internals, or to system debuggers.
</p>
<dl compact="compact">
<dt> <code>reset_op_counters</code></dt>
<dd><a name="IDX2524"></a>
<a name="IDX2525"></a>
<a name="IDX2526"></a>
<p>Reinitialize all counters.
</p>
</dd>
<dt> <code>show_op_counters(+<var>A</var>)</code></dt>
<dd><a name="IDX2527"></a>
<a name="IDX2528"></a>
<a name="IDX2529"></a>
<p>Display the current value for the counters, using label <var>A</var>. The
label must be an atom.
</p>
</dd>
<dt> <code>show_ops_by_group(+<var>A</var>)</code></dt>
<dd><a name="IDX2530"></a>
<a name="IDX2531"></a>
<a name="IDX2532"></a>
<p>Display the current value for the counters, organized by groups, using
label <var>A</var>. The label must be an atom.
</p>
</dd>
</dl>

<hr size="6">
<a name="Debugging"></a>
<a name="SEC155"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC154" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC156" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC154" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC158" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 19. Debugging </h1>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC156">19.1 Debugging Predicates</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC157">19.2 Interacting with the debugger</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="Deb-Preds"></a>
<a name="SEC156"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC155" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC157" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC155" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC155" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC158" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 19.1 Debugging Predicates </h2>

<p>The following predicates are available to control the debugging of
programs:
</p>
<dl compact="compact">
<dt> <code>debug</code></dt>
<dd><a name="IDX2533"></a>
<a name="IDX2534"></a>
<a name="IDX2535"></a>
<p>Switches the debugger on.
</p>
</dd>
<dt> <code>debugging</code></dt>
<dd><a name="IDX2536"></a>
<a name="IDX2537"></a>
<a name="IDX2538"></a>
<p>Outputs status information about the debugger which includes the leash
mode and the existing spy-points, when the debugger is on.
</p>
</dd>
<dt> <code>nodebug</code></dt>
<dd><a name="IDX2539"></a>
<a name="IDX2540"></a>
<a name="IDX2541"></a>
<p>Switches the debugger off.
</p>
</dd>
<dt> <code>spy +<var>P</var></code></dt>
<dd><a name="IDX2542"></a>
<a name="IDX2543"></a>
<a name="IDX2544"></a>
<p> Sets spy-points on all the predicates represented by
<var>P</var>. <var>P</var> can either be a single specification or a list of 
specifications. Each one must be of the form <var>Name/Arity</var> 
or <var>Name</var>. In the last case all predicates with the name 
<var>Name</var> will be spied. As in C-Prolog, system predicates and 
predicates written in C, cannot be spied.
</p>
</dd>
<dt> <code>nospy +<var>P</var></code></dt>
<dd><a name="IDX2545"></a>
<a name="IDX2546"></a>
<a name="IDX2547"></a>
<p> Removes spy-points from all predicates specified by <var>P</var>.
The possible forms for <var>P</var> are the same as in <code>spy P</code>.
</p>
</dd>
<dt> <code>nospyall</code></dt>
<dd><a name="IDX2548"></a>
<a name="IDX2549"></a>
<a name="IDX2550"></a>
<p>Removes all existing spy-points.
</p>
</dd>
<dt> <code>notrace</code></dt>
<dd><p>Switches off the debugger and stops tracing.
</p>
</dd>
<dt> <code>leash(+<var>M</var>)</code></dt>
<dd><a name="IDX2551"></a>
<a name="IDX2552"></a>
<a name="IDX2553"></a>
<p> Sets leashing mode to <var>M</var>.
The mode can be specified as:
</p><dl compact="compact">
<dt> <code>full</code></dt>
<dd><p>prompt on Call, Exit, Redo and Fail
</p></dd>
<dt> <code>tight</code></dt>
<dd><p>prompt on Call, Redo and Fail
</p></dd>
<dt> <code>half</code></dt>
<dd><p>prompt on Call and Redo
</p></dd>
<dt> <code>loose</code></dt>
<dd><p>prompt on Call
</p></dd>
<dt> <code>off</code></dt>
<dd><p>never prompt
</p></dd>
<dt> <code>none</code></dt>
<dd><p>never prompt, same as <code>off</code>
</p></dd>
</dl>
<p>The initial leashing mode is <code>full</code>.
</p>

<p>The user may also specify directly the debugger ports 
where he wants to be prompted. If the argument for leash 
is a number <var>N</var>, each of lower four bits of the number is used to
control prompting at one the ports of the box model. The debugger will 
prompt according to the following conditions:
</p>
<ul>
<li>
if <code>N/\ 1 =\= 0</code>  prompt on fail 
</li><li>
if <code>N/\ 2 =\= 0</code> prompt on redo
</li><li>
if <code>N/\ 4 =\= 0</code> prompt on exit
</li><li>
if <code>N/\ 8 =\= 0</code> prompt on call
</li></ul>
<p>Therefore, <code>leash(15)</code> is equivalent to <code>leash(full)</code> and
<code>leash(0)</code> is equivalent to <code>leash(off)</code>.
</p>
<p>Another way of using <code>leash</code> is to give it a list with the names of
the ports where the debugger should stop. For example,
<code>leash([call,exit,redo,fail])</code> is the same as <code>leash(full)</code> or
<code>leash(15)</code> and <code>leash([fail])</code> might be used instead of
<code>leash(1)</code>.
</p>
</dd>
<dt> <code>spy_write(+<var>Stream</var>,Term)</code></dt>
<dd><a name="IDX2554"></a>
<a name="IDX2555"></a>
<a name="IDX2556"></a>
<p>If defined by the user, this predicate will be used to print goals by
the debugger instead of <code>write/2</code>.
</p>
</dd>
<dt> <code>trace</code></dt>
<dd><a name="IDX2557"></a>
<a name="IDX2558"></a>
<a name="IDX2559"></a>
<p>Switches on the debugger and starts tracing.
</p>
</dd>
<dt> <code>notrace</code></dt>
<dd><a name="IDX2560"></a>
<a name="IDX2561"></a>
<a name="IDX2562"></a>
<p>Ends tracing and exits the debugger. This is the same as
<code>nodebug/0</code>.
</p>
</dd>
</dl>


<hr size="6">
<a name="Deb-Interaction"></a>
<a name="SEC157"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC156" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC158" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC155" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC155" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC158" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 19.2 Interacting with the debugger </h2>

<p>Debugging with YAP is similar to debugging with C-Prolog. Both systems
include a procedural debugger, based on Byrd's four port model. In this
model, execution is seen at the procedure level: each activation of a
procedure is seen as a box with control flowing into and out of that
box.
</p>
<p> In the four port model control is caught at four key points: before 
entering the procedure, after exiting the procedure (meaning successful 
evaluation of all queries activated by the procedure), after backtracking but 
before trying new alternative to the procedure and after failing the 
procedure. Each one of these points is named a port:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">           *--------------------------------------*
   Call    |                                      |    Exit
---------&gt; +  descendant(X,Y) :- offspring(X,Y).  + ---------&gt;
           |                                      |
           |  descendant(X,Z) :-                  |
&lt;--------- +     offspring(X,Y), descendant(Y,Z). + &lt;---------
   Fail    |                                      |    Redo
           *--------------------------------------*
</pre></td></tr></table>

<dl compact="compact">
<dt> <code>Call</code></dt>
<dd><p>The call port is activated before initial invocation of
procedure. Afterwards, execution will try to match the goal with the
head of existing clauses for the procedure.
</p></dd>
<dt> <code>Exit</code></dt>
<dd><p>This port is activated if the procedure succeeds.
Control will  now leave the procedure and return to its ancestor.
</p></dd>
<dt> <code>Redo</code></dt>
<dd><p>if the goal, or goals, activated after the call port
fail  then backtracking will eventually return control to this procedure
through  the redo port.
</p></dd>
<dt> <code>Fail</code></dt>
<dd><p>If all clauses for this predicate fail, then the
invocation fails,  and control will try to redo the ancestor of this
invocation.
</p></dd>
</dl>

<p>To start debugging, the user will either call <code>trace</code> or spy the
relevant procedures, entering debug mode, and start execution of the
program. When finding the first spy-point, YAP's debugger will take
control and show a message of the form:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">* (1)  call:  quicksort([1,2,3],_38) ?
</pre></td></tr></table>

<p> The debugger message will be shown while creeping, or at spy-points,
and it includes four or five fields:
</p>
<ul>
<li>
 The first three characters are used to point out special states of the
debugger. If the port is exit and the first character is '?', the
current call is non-deterministic, that is, it still has alternatives to
be tried. If the second character is a <code>*</code>, execution is at a
spy-point. If the third character is a <code>&gt;</code>, execution has returned
either from a skip, a fail or a redo command.
</li><li>
 The second field is the activation number, and uniquely identifies the
activation. The number will start from 1 and will be incremented for
each activation found by the debugger.
</li><li>
 In the third field, the debugger shows the active port.
</li><li>
 The fourth field is the goal. The goal is written by
 <code>write_term/3</code> on the standard error stream, using the options
 given by <code>debugger_print_options</code>.
</li></ul>

<p> If the active port is leashed, the debugger will prompt the user with a
<code>?</code>, and wait for a command. A debugger command is just a
character, followed by a return. By default, only the call and redo
entries are leashed, but the <code>leash/1</code> predicate can be used in
order to make the debugger stop where needed.
</p>
<p> There are several commands available, but the user only needs to 
remember the help command, which is <code>h</code>. This command shows all the 
available options, which are:
</p><dl compact="compact">
<dt> <code>c - creep</code></dt>
<dd><p>this command makes YAP continue execution and stop at the next
leashed port.
</p></dd>
<dt> <code>return - creep</code></dt>
<dd><p>the same as c
</p></dd>
<dt> <code>l - leap</code></dt>
<dd><p>YAP will execute until it meets a port for a spied predicate; this mode
keeps all computation history for debugging purposes, so it is more
expensive than standard execution. Use <tt>k</tt> or <tt>z</tt> for fast execution.
</p></dd>
<dt> <code>k - quasi-leap</code></dt>
<dd><p>similar to leap but faster since the computation history is
not kept; useful when leap becomes too slow.
</p></dd>
<dt> <code>z - zip</code></dt>
<dd><p>same as <tt>k</tt>
</p></dd>
<dt> <code>s - skip</code></dt>
<dd><p>YAP will continue execution without showing any messages until
returning to the current activation. Spy-points will be  ignored in this
mode. Note that this command keeps all debugging history, use <tt>t</tt> for fast execution. This command is meaningless, and therefore illegal, in the fail
and exit ports.
</p></dd>
<dt> <code>t - fast-skip</code></dt>
<dd><p>similar to skip but faster since computation history is not
kept; useful if skip becomes slow.
</p></dd>
<dt> <code>f [<var>GoalId</var>] - fail</code></dt>
<dd><p>If given no argument, forces YAP to fail the goal, skipping the fail
port and backtracking to the parent. 
 If <tt>f</tt> receives a goal number as
the argument, the command fails all the way to the goal. If goal <var>GoalId</var> has completed execution, YAP fails until meeting the first active ancestor.
</p></dd>
<dt> <code>r [<var>GoalId</var>] - retry</code></dt>
<dd><p>This command forces YAP to jump back call to the port. Note that any
side effects of the goal cannot be undone. This command is not available
at the call port.  If <tt>f</tt> receives a goal number as the argument, the
command retries goal <var>GoalId</var> instead. If goal <var>GoalId</var> has
completed execution, YAP fails until meeting the first active ancestor.
</p>    
</dd>
<dt> <code>a - abort</code></dt>
<dd><p>execution will be aborted, and the interpreter will return to the
top-level. YAP disactivates debug mode, but spypoints are not removed.
</p></dd>
<dt> <code>n - nodebug</code></dt>
<dd><p>stop debugging and continue execution. The command will not clear active
spy-points.
</p></dd>
<dt> <code>e - exit</code></dt>
<dd><p>leave YAP.
</p></dd>
<dt> <code>h - help</code></dt>
<dd><p>show the debugger commands.
</p></dd>
<dt> <code>! Query</code></dt>
<dd><p>execute a query. YAP will not show the result of the query.
</p></dd>
<dt> <code>b - break</code></dt>
<dd><p>break active execution and launch a break level. This is  the same as <code>!
break</code>.
</p></dd>
<dt> <code>+ - spy this goal</code></dt>
<dd><p>start spying the active goal. The same as <code>! spy  G</code> where <var>G</var>
is the active goal.
</p></dd>
<dt> <code>- - nospy this goal</code></dt>
<dd><p>stop spying the active goal. The same as <code>! nospy G</code> where <var>G</var> is
the active goal.
</p></dd>
<dt> <code>p - print</code></dt>
<dd><p>shows the active goal using print/1
</p></dd>
<dt> <code>d - display</code></dt>
<dd><p>shows the active goal using display/1
</p></dd>
<dt> <code>&lt;Depth - debugger write depth</code></dt>
<dd><p>sets the maximum write depth, both for composite terms and lists, that
will be used by the debugger. For more
information about <code>write_depth/2</code> (see section <a href="#SEC52">Controlling Input/Output</a>).
</p></dd>
<dt> <code>&lt; - full term</code></dt>
<dd><p>resets to the default of ten the debugger's maximum write depth. For
more information about <code>write_depth/2</code> (see section <a href="#SEC52">Controlling Input/Output</a>).
</p></dd>
<dt> <code>A - alternatives</code></dt>
<dd><p> show the list of backtrack points in the current execution. 
</p></dd>
<dt> <code>g [<var>N</var>]</code> </dt>
<dd><p> show the list of ancestors in the current debugging environment. If it
 receives <var>N</var>, show the first <var>N</var> ancestors.
</p></dd>
</dl>

<p>The debugging information, when fast-skip <code>quasi-leap</code> is used, will
be lost.
</p>
<hr size="6">
<a name="Efficiency"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC157" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC159" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC155" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC164" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>

<a name="SEC158"></a>
<h1 class="chapter"> 20. Efficiency Considerations </h1>

<p>We next discuss several issues on trying to make Prolog programs run
fast in YAP. We assume two different programming styles:
</p>
<dl compact="compact">
<dt>&bull; Execution of <em>deterministic</em> programs often</dt>
<dd><p>boils down to a recursive loop of the form:
</p><table><tr><td>&nbsp;</td><td><pre class="example">loop(Env) :-
        do_something(Env,NewEnv),
        loop(NewEnv).
</pre></td></tr></table>

</dd>
</dl>

<hr size="6">
<a name="SEC159"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC158" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC160" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC158" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC158" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC164" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 20.1 Deterministic Programs </h2>

<hr size="6">
<a name="SEC160"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC159" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC161" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC158" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC158" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC164" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 20.2 Non-Deterministic Programs </h2>

<hr size="6">
<a name="SEC161"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC160" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC162" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC158" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC158" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC164" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 20.3 Data-Base Operations </h2>

<hr size="6">
<a name="SEC162"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC161" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC163" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC158" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC158" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC164" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 20.4 Indexing </h2>

<hr size="6">
<a name="SEC163"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC162" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC164" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC158" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC158" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC164" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 20.5 Profiling </h2>

<p>The indexation mechanism restricts the set of clauses to be tried in a 
procedure by using information about the status of a selected argument of 
the goal (in YAP, as in most compilers, the first argument). 
This argument 
is then used as a key, selecting a restricted set of a clauses from all the 
clauses forming the procedure.
</p>
<p>As an example, the two clauses for concatenate:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">concatenate([],L,L).
concatenate([H|T],A,[H|NT]) :- concatenate(T,A,NT).
</pre></td></tr></table>

<p>If the first argument for the goal is a list, then only the second clause 
is of interest. If the first argument is the nil atom, the system needs to 
look only for the first clause. The indexation generates instructions that 
test the value of the first argument, and then proceed to a selected clause, 
or group of clauses.
</p>
<p>Note that if the first argument was a free variable, then both clauses 
should be tried. In general, indexation will not be useful if the first 
argument is a free variable.
</p>
<p>When activating a predicate, a Prolog system needs to store state 
information. This information, stored in a structure known as choice point 
or fail point, is necessary when backtracking to other clauses for the 
predicate. The operations of creating and using a choice point are very 
expensive, both in the terms of space used and time spent.
Creating a choice point is not necessary if there is only a clause for 
the predicate as there are no clauses to backtrack to. With indexation, this 
situation is extended: in the example, if the first argument was the atom 
nil, then only one clause would really be of interest, and it is pointless to 
create a choice point. This feature is even more useful if the first argument 
is a list: without indexation, execution would try the first clause, creating 
a choice point. The clause would fail, the choice point would then be used to 
restore the previous state of the computation and the second clause would 
be tried. The code generated by the indexation mechanism would behave 
much more efficiently: it would test the first argument and see whether it 
is a list, and then proceed directly to the second clause.
</p>
<p>An important side effect concerns the use of &quot;cut&quot;. In the above 
example, some programmers would use a &quot;cut&quot; in the first clause just to 
inform the system that the predicate is not backtrackable and force the 
removal the choice point just created. As a result, less space is needed but 
with a great loss in expressive power: the &quot;cut&quot; would prevent some uses of 
the procedure, like generating lists through backtracking. Of course, with 
indexation the &quot;cut&quot; becomes useless: the choice point is not even created.
</p>
<p>Indexation is also very important for predicates with a large number 
of clauses that are used like tables:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">logician(aristhoteles,greek).
logician(frege,german).
logician(russel,english).
logician(godel,german).
logician(whitehead,english).
</pre></td></tr></table>

<p>An interpreter like C-Prolog, trying to answer the query:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">?- logician(godel,X).
</pre></td></tr></table>

<p>would blindly follow the standard Prolog strategy, trying first the
first clause, then the second, the third and finally finding the
relevant clause.  Also, as there are some more clauses after the
important one, a choice point has to be created, even if we know the
next clauses will certainly fail. A &quot;cut&quot; would be needed to prevent
some possible uses for the procedure, like generating all logicians.  In
this situation, the indexing mechanism generates instructions that
implement a search table. In this table, the value of the first argument
would be used as a key for fast search of possibly matching clauses. For
the query of the last example, the result of the search would be just
the fourth clause, and again there would be no need for a choice point.
</p>
<p> If the first argument is a complex term, indexation will select clauses
just by testing its main functor. However, there is an important
exception: if the first argument of a clause is a list, the algorithm
also uses the list's head if not a variable. For instance, with the
following clauses,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">rules([],B,B).
rules([n(N)|T],I,O) :- rules_for_noun(N,I,N), rules(T,N,O).
rules([v(V)|T],I,O) :- rules_for_verb(V,I,N), rules(T,N,O).
rules([q(Q)|T],I,O) :- rules_for_qualifier(Q,I,N), rules(T,N,O).
</pre></td></tr></table>
<p>if the first argument of the goal is a list, its head will be tested, and only 
the clauses matching it will be tried during execution.
</p>
<p>Some advice on how to take a good advantage of this mechanism:
</p>
<ul>
<li>
 Try to make the first argument an input argument.

</li><li>
 Try to keep together all clauses whose first argument is not a 
variable, that will decrease the number of tests since the other clauses are 
always tried.

</li><li>
 Try to avoid predicates having a lot of clauses with the same key. 
For instance, the procedure:

</li></ul>

<table><tr><td>&nbsp;</td><td><pre class="example">type(n(mary),person).
type(n(john), person).
type(n(chair),object).
type(v(eat),active).
type(v(rest),passive).
</pre></td></tr></table>

<p> becomes more efficient with:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">type(n(N),T) :- type_of_noun(N,T).
type(v(V),T) :- type_of_verb(V,T).

type_of_noun(mary,person).
type_of_noun(john,person).
type_of_noun(chair,object).

type_of_verb(eat,active).
type_of_verb(rest,passive).
</pre></td></tr></table>

<hr size="6">
<a name="C_002dInterface"></a>
<a name="SEC164"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC163" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC165" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC158" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC176" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 21. C Language interface to YAP </h1>

<p>YAP provides the user with the necessary facilities for writing
predicates in a language other than prolog. Since, under Unix systems,
most language implementations are link-able to C, we will describe here
only the YAP interface to the C language.
</p>
<p>Before describing in full detail how to interface to C code, we will examine 
a brief example.
</p>
<p>Assume the user requires a predicate <code>my_process_id(Id)</code> which succeeds
when <var>Id</var> unifies with the number of the process under which YAP is running.
</p>
<p>In this case we will create a <code>my_process.c</code> file containing the
C-code described below.
</p>
<table><tr><td>&nbsp;</td><td><table class="cartouche" border="1"><tr><td>
<pre class="example">#include &quot;YAP/YAPInterface.h&quot;

static int my_process_id(void) 
{
     YAP_Term pid = YAP_MkIntTerm(getpid());
     YAP_Term out = YAP_ARG1;
     return(YAP_Unify(out,pid));
}

void init_my_predicates()
{
     YAP_UserCPredicate(&quot;my_process_id&quot;,my_process_id,1);
}
</pre></td></tr></table>
</td></tr></table>

<p>The commands to compile the above file depend on the operating
system. Under Linux (i386 and Alpha) you should use:
</p><table><tr><td>&nbsp;</td><td><pre class="example">      gcc -c -shared -fPIC my_process.c
      ld -shared -o my_process.so my_process.o
</pre></td></tr></table>
<p>Under WIN32 in a MINGW/CYGWIN environment, using the standard
installation path you should use:
</p><table><tr><td>&nbsp;</td><td><pre class="example">      gcc -mno-cygwin  -I &quot;c:/Yap/include&quot; -c my_process.c
      gcc -mno-cygwin &quot;c:/Yap/bin/yap.dll&quot; --shared -o my_process.dll my_process.o
</pre></td></tr></table>
<p>Under WIN32 in a pure CYGWIN environment, using the standard
installation path, you should use:
</p><table><tr><td>&nbsp;</td><td><pre class="example">      gcc -I/usr/local -c my_process.c
      gcc -shared -o my_process.dll my_process.o /usr/local/bin/yap.dll
</pre></td></tr></table>
<p>Under Solaris2 it is sufficient to use:
</p><table><tr><td>&nbsp;</td><td><pre class="example">      gcc  -fPIC -c my_process.c
</pre></td></tr></table>
<p>Under SunOS it is sufficient to use:
</p><table><tr><td>&nbsp;</td><td><pre class="example">      gcc -c my_process.c
</pre></td></tr></table>
<p>Under Digital Unix you need to create a <code>so</code> file. Use:
</p><table><tr><td>&nbsp;</td><td><pre class="example">      gcc tst.c -c -fpic
      ld my_process.o -o my_process.so -shared -expect_unresolved '*'
</pre></td></tr></table>
<p>and replace my <code>process.so</code> for my <code>process.o</code> in the
remainder of the example.
And could be loaded, under YAP, by executing the following prolog goal
</p><table><tr><td>&nbsp;</td><td><pre class="example">      load_foreign_files(['my_process'],[],init_my_predicates).
</pre></td></tr></table>
<p>Note that since YAP4.3.3 you should not give the suffix for object
files. YAP will deduce the correct suffix from the operating system it
is running under.
</p>
<p>After loading that file the following prolog goal 
</p><table><tr><td>&nbsp;</td><td><pre class="example">       my_process_id(N)
</pre></td></tr></table>
<p>would unify N with the number of the process under which YAP is running.
</p>

<p>Having presented a full example, we will now examine in more detail the
contents of the C source code file presented above.
</p>
<p>The include statement is used to make available to the C source code the
macros for the handling of prolog terms and also some YAP public
definitions.
</p>
<p>The function <code>my_process_id</code> is the implementation, in C, of the
desired predicate.  Note that it returns an integer denoting the success
of failure of the goal and also that it has no arguments even though the
predicate being defined has one.
 In fact the arguments of a prolog predicate written in C are accessed
through macros, defined in the include file, with names <var>YAP_ARG1</var>,
<var>YAP_ARG2</var>, ..., <var>YAP_ARG16</var> or with <var>YAP_A</var>(<var>N</var>)
where <var>N</var> is the argument number (starting with 1).  In the present
case the function uses just one local variable of type <code>YAP_Term</code>, the
type used for holding YAP terms, where the integer returned by the
standard unix function <code>getpid()</code> is stored as an integer term (the
conversion is done by <code>YAP_MkIntTerm(Int))</code>. Then it calls the
pre-defined routine <code>YAP_Unify(YAP_Term, YAP_Term)</code> which in turn returns an
integer denoting success or failure of the unification.
</p>
<p>The role of the procedure <code>init_my_predicates</code> is to make known to
YAP, by calling <code>YAP_UserCPredicate</code>, the predicates being
defined in the file.  This is in fact why, in the example above,
<code>init_my_predicates</code> was passed as the third argument to
<code>load_foreign_files</code>.
</p>
<p>The rest of this appendix describes exhaustively how to interface C to YAP.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC165">21.1 Terms</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Primitives available to the C programmer
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC166">21.2 Unification</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> How to Unify Two Prolog Terms
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC167">21.3 Strings</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> From character arrays to Lists of codes and back
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC168">21.4 Memory Allocation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Stealing Memory From YAP
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC169">21.5 Controlling YAP Streams from <code>C</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Control How YAP sees Streams
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC170">21.6 From <code>C</code> back to Prolog</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> From C to YAP to C to YAP 
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC171">21.7 Module Manipulation in C</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Create and Test Modules from within C
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC172">21.8 Writing predicates in C</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Writing Predicates in C
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC173">21.9 Loading Object Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC174">21.10 Saving and Restoring</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC175">21.11 Changes to the C-Interface in YAP4</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Changes in Foreign Predicates Interface
</td></tr>
</table>

<hr size="6">
<a name="Manipulating-Terms"></a>
<a name="SEC165"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC164" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC166" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC164" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC164" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC176" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 21.1 Terms </h2>

<p>This section provides information about the primitives available to the C
programmer for manipulating prolog terms.
</p>
<p>Several C typedefs are included in the header file <code>yap/YAPInterface.h</code> to
describe, in a portable way, the C representation of prolog terms.
The user should write is programs using this macros to ensure portability of
code across different versions of YAP.
</p>

<p>The more important typedef is <var>YAP_Term</var> which is used to denote the
type of a prolog term.
</p>
<p>Terms, from a point of view of the C-programmer,  can be classified as
follows
</p><dl compact="compact">
<dt>    <i>uninstantiated variables</i></dt>
<dt>    <i>instantiated variables</i></dt>
<dt>    <i>integers</i></dt>
<dt>    <i>floating-point numbers</i></dt>
<dt>    <i>database references</i></dt>
<dt>    <i>atoms</i></dt>
<dt>    <i>pairs (lists)</i></dt>
<dt>    <i>compound terms</i></dt>
</dl>

<a name="IDX2563"></a>
<p>The primitive
</p><table><tr><td>&nbsp;</td><td><pre class="example">     YAP_Bool YAP_IsVarTerm(YAP_Term <var>t</var>)
</pre></td></tr></table>
<a name="IDX2564"></a>
<p>returns true iff its argument is an uninstantiated variable. Conversely the
primitive
</p><table><tr><td>&nbsp;</td><td><pre class="example">      YAP_Bool YAP_NonVarTerm(YAP_Term <var>t</var>)
</pre></td></tr></table>
<p>returns true iff its argument is not a variable.
</p>

<p>The user can create a new uninstantiated variable using the primitive
</p><table><tr><td>&nbsp;</td><td><pre class="example">      YAP_Term  YAP_MkVarTerm()
</pre></td></tr></table>


<a name="IDX2565"></a>
<a name="IDX2566"></a>
<a name="IDX2567"></a>
<a name="IDX2568"></a>
<a name="IDX2569"></a>
<a name="IDX2570"></a>
<p>The following primitives can be used to discriminate among the different types
of non-variable terms:
</p><table><tr><td>&nbsp;</td><td><pre class="example">      YAP_Bool YAP_IsIntTerm(YAP_Term <var>t</var>)
      YAP_Bool YAP_IsFloatTerm(YAP_Term <var>t</var>)
      YAP_Bool YAP_IsDbRefTerm(YAP_Term <var>t</var>)
      YAP_Bool YAP_IsAtomTerm(YAP_Term <var>t</var>)
      YAP_Bool YAP_IsPairTerm(YAP_Term <var>t</var>)
      YAP_Bool YAP_IsApplTerm(YAP_Term <var>t</var>)
</pre></td></tr></table>

<p>Next, we mention the primitives that allow one to destruct and construct
terms. All the above primitives ensure that their result is
<i>dereferenced</i>, i.e. that it is not a pointer to another term.
</p>
<a name="IDX2571"></a>
<a name="IDX2572"></a>
<p>The following primitives are provided for creating an integer term from an
integer and to access the value of an integer term.
</p><table><tr><td>&nbsp;</td><td><pre class="example">      YAP_Term YAP_MkIntTerm(YAP_Int  <var>i</var>)
      YAP_Int  YAP_IntOfTerm(YAP_Term <var>t</var>)
</pre></td></tr></table>
<p>where <code>YAP_Int</code> is a typedef for the C integer type appropriate for
the machine or compiler in question (normally a long integer). The size
of the allowed integers is implementation dependent but is always
greater or equal to 24 bits: usually 32 bits on 32 bit machines, and 64
on 64 bit machines.
</p>
<a name="IDX2573"></a>
<a name="IDX2574"></a>
<p>The two following primitives play a similar role for floating-point terms
</p><table><tr><td>&nbsp;</td><td><pre class="example">      YAP_Term YAP_MkFloatTerm(YAP_flt <var>double</var>)
      YAP_flt  YAP_FloatOfTerm(YAP_Term <var>t</var>)
</pre></td></tr></table>
<p>where <code>flt</code> is a typedef for the appropriate C floating point type,
nowadays a <code>double</code>
</p>
<a name="IDX2575"></a>
<a name="IDX2576"></a>
<a name="IDX2577"></a>
<p>The following primitives are provided for verifying whether a term is
a big int, creating a term from a big integer and to access the value
of a big int from a term.
</p><table><tr><td>&nbsp;</td><td><pre class="example">      YAP_Bool YAP_IsBigNumTerm(YAP_Term <var>t</var>)
      YAP_Term YAP_MkBigNumTerm(void  *<var>b</var>)
      void *YAP_BigNumOfTerm(YAP_Term <var>t</var>, void *<var>b</var>)
</pre></td></tr></table>
<p>YAP must support bignum for the configuration you are using (check the
YAP configuration and setup). For now, YAP only supports the GNU GMP
library, and <code>void *</code> will be a cast for <code>mpz_t</code>. Notice
that <code>YAP_BigNumOfTerm</code> requires the number to be already
initialised. As an example, we show how to print a bignum:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">static int
p_print_bignum(void)
{
  mpz_t mz;
  if (!YAP_IsBigNumTerm(YAP_ARG1))
    return FALSE;

  mpz_init(mz);
  YAP_BigNumOfTerm(YAP_ARG1, mz);
  gmp_printf(&quot;Shows up as %Zd\n&quot;, mz);
  mpz_clear(mz);
  return TRUE;
}
</pre></td></tr></table>


<p>Currently, no primitives are supplied to users for manipulating data base
references. 
</p>
<a name="IDX2578"></a>
<a name="IDX2579"></a>
<p>A special typedef <code>YAP_Atom</code> is provided to describe prolog
<i>atoms</i> (symbolic constants). The two following primitives can be used
to manipulate atom terms
</p><table><tr><td>&nbsp;</td><td><pre class="example">      YAP_Term YAP_MkAtomTerm(YAP_Atom at)
      YAP_Atom YAP_AtomOfTerm(YAP_Term <var>t</var>)
</pre></td></tr></table>
<a name="IDX2580"></a>
<a name="IDX2581"></a>
<a name="IDX2582"></a>
<p>The following primitives are available for associating atoms with their
names 
</p><table><tr><td>&nbsp;</td><td><pre class="example">      YAP_Atom  YAP_LookupAtom(char * <var>s</var>)
      YAP_Atom  YAP_FullLookupAtom(char * <var>s</var>)
      char     *YAP_AtomName(YAP_Atom <var>t</var>)
</pre></td></tr></table>
<p>The function <code>YAP_LookupAtom</code> looks up an atom in the standard hash
table. The function <code>YAP_FullLookupAtom</code> will also search if the
atom had been &quot;hidden&quot;: this is useful for system maintenance from C
code. The functor <code>YAP_AtomName</code> returns a pointer to the string
for the atom.
</p>
<a name="IDX2583"></a>
<a name="IDX2584"></a>
<a name="IDX2585"></a>
<p>The following primitives handle constructing atoms from strings with
wide characters, and vice-versa:
</p><table><tr><td>&nbsp;</td><td><pre class="example">      YAP_Atom  YAP_LookupWideAtom(wchar_t * <var>s</var>)
      wchar_t  *YAP_WideAtomName(YAP_Atom <var>t</var>)
</pre></td></tr></table>

<a name="IDX2586"></a>
<p>The following primitive tells whether an atom needs wide atoms in its
representation:
</p><table><tr><td>&nbsp;</td><td><pre class="example">      int  YAP_IsWideAtom(YAP_Atom <var>t</var>)
</pre></td></tr></table>

<a name="IDX2587"></a>
<p>The following primitive can be used to obtain the size of an atom in a
representation-independent way: 
</p><table><tr><td>&nbsp;</td><td><pre class="example">      int      YAP_AtomNameLength(YAP_Atom <var>t</var>)
</pre></td></tr></table>

<a name="IDX2588"></a>
<a name="IDX2589"></a>
<a name="IDX2590"></a>
<p>The next routines give users some control over  the atom
garbage collector. They allow the user to guarantee that an atom is not
to be garbage collected (this is important if the atom is hold
externally to the Prolog engine, allow it to be collected, and call a
hook on garbage collection:
</p><table><tr><td>&nbsp;</td><td><pre class="example">      int  YAP_AtomGetHold(YAP_Atom <var>at</var>)
      int  YAP_AtomReleaseHold(YAP_Atom <var>at</var>)
      int  YAP_AGCRegisterHook(YAP_AGC_hook <var>f</var>)
      YAP_Term  YAP_TailOfTerm(YAP_Term <var>t</var>)
</pre></td></tr></table>

<a name="IDX2591"></a>
<a name="IDX2592"></a>
<a name="IDX2593"></a>
<a name="IDX2594"></a>
<p>A <i>pair</i> is a Prolog term which consists of a tuple of two prolog
terms designated as the <i>head</i> and the <i>tail</i> of the term. Pairs are
most often used to build <em>lists</em>. The following primitives can be
used to manipulate pairs:
</p><table><tr><td>&nbsp;</td><td><pre class="example">      YAP_Term  YAP_MkPairTerm(YAP_Term <var>Head</var>, YAP_Term <var>Tail</var>)
      YAP_Term  YAP_MkNewPairTerm(void)
      YAP_Term  YAP_HeadOfTerm(YAP_Term <var>t</var>)
      YAP_Term  YAP_TailOfTerm(YAP_Term <var>t</var>)
</pre></td></tr></table>
<p>One can construct a new pair from two terms, or one can just build a
pair whose head and tail are new unbound variables. Finally, one can
fetch the head or the tail.
</p>
<a name="IDX2595"></a>
<a name="IDX2596"></a>
<a name="IDX2597"></a>
<a name="IDX2598"></a>
<a name="IDX2599"></a>
<p>A <i>compound</i> term consists of a <i>functor</i> and a sequence of terms with
length equal to the <i>arity</i> of the functor. A functor, described in C by
the typedef <code>Functor</code>, consists of an atom and of an integer.
The following primitives were designed to manipulate compound terms and 
functors
</p><table><tr><td>&nbsp;</td><td><pre class="example">      YAP_Term     YAP_MkApplTerm(YAP_Functor <var>f</var>, unsigned long int <var>n</var>, YAP_Term[] <var>args</var>)
      YAP_Term     YAP_MkNewApplTerm(YAP_Functor <var>f</var>, int <var>n</var>)
      YAP_Term     YAP_ArgOfTerm(int argno,YAP_Term <var>ts</var>)
      YAP_Term    *YAP_ArgsOfTerm(YAP_Term <var>ts</var>)
      YAP_Functor  YAP_FunctorOfTerm(YAP_Term <var>ts</var>)
</pre></td></tr></table>
<p>The <code>YAP_MkApplTerm</code> function constructs a new term, with functor
<var>f</var> (of arity <var>n</var>), and using an array <var>args</var> of <var>n</var>
terms with <var>n</var> equal to the arity of the
functor. <code>YAP_MkNewApplTerm</code> builds up a compound term whose
arguments are unbound variables. <code>YAP_ArgOfTerm</code> gives an argument
to a compound term. <code>argno</code> should be greater or equal to 1 and
less or equal to the arity of the functor.  <code>YAP_ArgsOfTerm</code>
returns a pinter to an array of arguments.
</p>
<p>YAP allows one to manipulate the functors of compound term. The function
<code>YAP_FunctorOfTerm</code> allows one to obtain a variable of type
<code>YAP_Functor</code> with the functor to a term. The following functions
then allow one to construct functors, and to obtain their name and arity. 
</p>
<a name="IDX2600"></a>
<a name="IDX2601"></a>
<a name="IDX2602"></a>
<table><tr><td>&nbsp;</td><td><pre class="example">      YAP_Functor  YAP_MkFunctor(YAP_Atom <var>a</var>,unsigned long int <var>arity</var>)
      YAP_Atom     YAP_NameOfFunctor(YAP_Functor <var>f</var>)
      YAP_Int      YAP_ArityOfFunctor(YAP_Functor <var>f</var>)
</pre></td></tr></table>

<p>Note that the functor is essentially a pair formed by an atom, and
arity.
</p>
<hr size="6">
<a name="Unifying-Terms"></a>
<a name="SEC166"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC165" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC167" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC164" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC164" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC176" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 21.2 Unification </h2>

<p>YAP provides a single routine to attempt the unification of two prolog
terms. The routine may succeed or fail:
</p><table><tr><td>&nbsp;</td><td><pre class="example">      Int      YAP_Unify(YAP_Term <var>a</var>, YAP_Term <var>b</var>)
</pre></td></tr></table>
<p>The routine attempts to unify the terms <var>a</var> and
<var>b</var> returning <code>TRUE</code> if the unification succeeds and <code>FALSE</code>
otherwise.
</p>
<hr size="6">
<a name="Manipulating-Strings"></a>
<a name="SEC167"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC166" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC168" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC164" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC164" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC176" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 21.3 Strings </h2>

<p>The YAP C-interface now includes an utility routine to copy a string
represented as a list of a character codes to a previously allocated buffer
</p><table><tr><td>&nbsp;</td><td><pre class="example">      int YAP_StringToBuffer(YAP_Term <var>String</var>, char *<var>buf</var>, unsigned int <var>bufsize</var>)
</pre></td></tr></table>
<p>The routine copies the list of character codes <var>String</var> to a
previously allocated buffer <var>buf</var>. The string including a
terminating null character must fit in <var>bufsize</var> characters,
otherwise the routine will simply fail. The <var>StringToBuffer</var> routine
fails and generates an exception if <var>String</var> is not a valid string.
</p>
<a name="IDX2603"></a>
<a name="IDX2604"></a>
<p>The C-interface also includes utility routines to do the reverse, that
is, to copy a from a buffer to a list of character codes or to a list of
character atoms
</p><table><tr><td>&nbsp;</td><td><pre class="example">      YAP_Term YAP_BufferToString(char *<var>buf</var>)
      YAP_Term YAP_BufferToAtomList(char *<var>buf</var>)
</pre></td></tr></table>
<p>The user-provided string must include a terminating null character.
</p>
<a name="IDX2605"></a>
<p>The C-interface function calls the parser on a sequence of characters
stored at <var>buf</var> and returns the resulting term.
</p><table><tr><td>&nbsp;</td><td><pre class="example">      YAP_Term YAP_ReadBuffer(char *<var>buf</var>,YAP_Term *<var>error</var>)
</pre></td></tr></table>
<p>The user-provided string must include a terminating null
character. Syntax errors will cause returning <code>FALSE</code> and binding
<var>error</var> to a Prolog term.
</p>
<hr size="6">
<a name="Memory-Allocation"></a>
<a name="SEC168"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC167" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC169" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC164" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC164" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC176" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 21.4 Memory Allocation </h2>

<p>The next routine can be used to ask space from the Prolog data-base:
</p><table><tr><td>&nbsp;</td><td><pre class="example">      void      *YAP_AllocSpaceFromYAP(int <var>size</var>)
</pre></td></tr></table>
<p>The routine returns a pointer to a buffer allocated from the code area,
or <code>NULL</code> if sufficient space was not available.
</p>
<a name="IDX2606"></a>
<p>The space allocated with <code>YAP_AllocSpaceFromYAP</code> can be released
back to YAP by using:
</p><table><tr><td>&nbsp;</td><td><pre class="example">      void      YAP_FreeSpaceFromYAP(void *<var>buf</var>)
</pre></td></tr></table>
<p>The routine releases a buffer allocated from the code area. The system
may crash if <code>buf</code> is not a valid pointer to a buffer in the code
area.
</p>
<hr size="6">
<a name="Controlling-Streams"></a>
<a name="SEC169"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC168" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC170" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC164" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC164" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC176" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 21.5 Controlling YAP Streams from <code>C</code> </h2>

<p>The C-Interface also provides the C-application with a measure of
control over the YAP Input/Output system. The first routine allows one
to find a file number given a current stream:
</p><table><tr><td>&nbsp;</td><td><pre class="example">      int      YAP_StreamToFileNo(YAP_Term <var>stream</var>)
</pre></td></tr></table>
<p>This function gives the file descriptor for a currently available
stream. Note that null streams and in memory streams do not have
corresponding open streams, so the routine will return a
negative. Moreover, YAP will not be aware of any direct operations on
this stream, so information on, say, current stream position, may become
stale.
</p>
<a name="IDX2607"></a>
<p>A second routine that is sometimes useful is:
</p><table><tr><td>&nbsp;</td><td><pre class="example">      void      YAP_CloseAllOpenStreams(void)
</pre></td></tr></table>
<p>This routine closes the YAP Input/Output system except for the first
three streams, that are always associated with the three standard Unix
streams. It is most useful if you are doing <code>fork()</code>.
</p>
<a name="IDX2608"></a>
<p>The next routine allows a currently open file to become a stream. The
routine receives as arguments a file descriptor, the true file name as a
string, an atom with the user name, and a set of flags:
</p><table><tr><td>&nbsp;</td><td><pre class="example">      void      YAP_OpenStream(void *<var>FD</var>, char *<var>name</var>, YAP_Term <var>t</var>, int <var>flags</var>)
</pre></td></tr></table>
<p>The available flags are <code>YAP_INPUT_STREAM</code>,
<code>YAP_OUTPUT_STREAM</code>, <code>YAP_APPEND_STREAM</code>,
<code>YAP_PIPE_STREAM</code>, <code>YAP_TTY_STREAM</code>, <code>YAP_POPEN_STREAM</code>,
<code>YAP_BINARY_STREAM</code>, and <code>YAP_SEEKABLE_STREAM</code>. By default, the
stream is supposed to be at position 0. The argument <var>name</var> gives
the name by which YAP should know the new stream.
</p>
<hr size="6">
<a name="Calling-YAP-From-C"></a>
<a name="SEC170"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC169" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC171" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC164" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC164" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC176" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 21.6 From <code>C</code> back to Prolog </h2>

<p>There are several ways to call Prolog code from C-code. By default, the
<code>YAP_RunGoal()</code> should be used for this task. It assumes the engine
has been initialised before:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">  YAP_RunGoal(YAP_Term Goal)
</pre></td></tr></table>
<p>Execute query <var>Goal</var> and return 1 if the query succeeds, and 0
otherwise. The predicate returns 0 if failure, otherwise it will return
an <var>YAP_Term</var>. 
</p>
<p>One problem is that <var>YAP_Term</var> may change due to garbage
collection. To make sure you have access to the current value, it may be
a good idea to reload the term, as next example shows:
</p><table><tr><td>&nbsp;</td><td><pre class="example">  val = YAP_RunGoal(YAP_ARG1);
  if (val == 0) return FALSE;
  else t = YAP_ARG1;
</pre></td></tr></table>
<p>Note that even if execution failed, garbage collection might still have
been called and moved the term. In this case, this is not a problem:
</p>
<p>An alternative that ensures correct access to arguments is to use
<em>slots</em>, as shown next:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">  long sl = YAP_InitSlot(scoreTerm);

  out = YAP_RunGoal(t);
  t = YAP_GetFromSlot(sl);
  YAP_RecoverSlots(1);
  if (out == 0) return FALSE;
</pre></td></tr></table>
<p>Slots are safe houses in the stack, preserved by the garbage collector
and the stack shifter. In this case, we use a slot to preserve <var>t</var>
during the execution of <code>YAP_RunGoal</code>. When the execution of
<var>t</var> is over we read the (possibly changed) value of <var>t</var> back
from the slot <var>sl</var> and tell YAP that the slot <var>sl</var> is not needed
and can be given back to the system. The slot functions are as follows:
</p>
<dl compact="compact">
<dt> <code>long int YAP_NewSlots(int <var>NumberOfSlots</var>)</code></dt>
<dd><a name="IDX2609"></a>
<p>Allocate <var>NumberOfSlots</var> from the stack and return an handle to the
last one. Th eother hand can be obtained by decrementing the handle.
</p>
</dd>
<dt> <code>long int YAP_CurrentSlot(void)</code></dt>
<dd><a name="IDX2610"></a>
<p>Return a handle to the system's default slot.
</p>
</dd>
<dt> <code>long YAP_InitSlot(YAP_Term <var>t</var>)</code></dt>
<dd><a name="IDX2611"></a>
<p>Create a new slot, initialise it with <var>t</var>, and return a handle to
this slot, that also becomes the current slot.
</p>
</dd>
<dt> <code>YAP_Term *YAP_AddressFromSlot(long int <var>slot</var>)</code></dt>
<dd><a name="IDX2612"></a>
<p>Return the address of slot <var>slot</var>: please use with care.
</p>
</dd>
<dt> <code>void YAP_PutInSlot(long int <var>slot</var>, YAP_Term <var>t</var>)</code></dt>
<dd><a name="IDX2613"></a>
<p>Set the contents of slot <var>slot</var> to <var>t</var>.
</p>
</dd>
<dt> <code>void YAP_RecoverSlots(int <var>HowMany</var>)</code></dt>
<dd><a name="IDX2614"></a>
<p>Recover the space for <var>HowMany</var> slots: these will include the
current default slot.
</p></dd>
</dl>

<p>The following functions complement <var>YAP_RunGoal</var>:
</p><dl compact="compact">
<dd><a name="IDX2615"></a>
<p>Look for the next solution to the current query by forcing YAP to
backtrack to the latest goal. Notice that slots allocated since the last
<code>YAP_RunGoal</code> will become invalid.
</p>
</dd>
<dt>  <code><code>int</code> YAP_Reset(<code>void</code>)</code></dt>
<dd><a name="IDX2616"></a>
<p>Reset execution environment (similar to the <code>abort/0</code>
built-in). This is useful when you want to start a new query before
asking all solutions to the previous query.
</p>
</dd>
<dt>  <code><code>int</code> YAP_ShutdownGoal(<code>int backtrack</code>)</code></dt>
<dd><a name="IDX2617"></a>
<p>Clean up the current goal. If
<code>backtrack</code> is true, stack space will be recovered and bindings
will be undone. In both cases, any slots allocated since the goal was
created will become invalid.
</p>
</dd>
<dt>  <code><code>YAP_Bool</code> YAP_GoalHasException(<code>YAP_Term *tp</code>)</code></dt>
<dd><a name="IDX2618"></a>
<p>Check if the last goal generated an exception, and if so copy it to the
space pointed to by <var>tp</var>
</p>
</dd>
<dt>  <code><code>void</code> YAP_ClearExceptions(<code>void</code>)</code></dt>
<dd><a name="IDX2619"></a>
<p>Reset any exceptions left over by the system.
</p></dd>
</dl>

<p>The <var>YAP_RunGoal</var> interface is designed to be very robust, but may
not be the most efficient when repeated calls to the same goal are made
and when there is no interest in processing exception. The
<var>YAP_EnterGoal</var> interface should have lower-overhead:
</p><dl compact="compact">
<dt>  <code><code>YAP_PredEntryPtr</code> YAP_FunctorToPred(<code>YAP_Functor</code> <var>f</var>,</code></dt>
<dd><a name="IDX2620"></a>
<p>Return the predicate whose main functor is <var>f</var>.
</p>
</dd>
<dt>  <code><code>YAP_PredEntryPtr</code> YAP_AtomToPred(<code>YAP_Atom</code> <var>at</var>,</code></dt>
<dd><a name="IDX2621"></a>
<p>Return the arity 0 predicate whose name is <var>at</var>.
</p>
</dd>
<dt>  <code><code>YAP_Bool</code> YAP_EnterGoal(<code>YAP_PredEntryPtr</code> <var>pe</var>,</code></dt>
<dd><p><code>YAP_Term *</code> <var>array</var>, <code>YAP_dogoalinfo *</code> <var>infop</var>)
<a name="IDX2622"></a>
Execute a  query for predicate <var>pe</var>. The query is given as an
array of terms <var>Array</var>. <var>infop</var> is the address of a goal
handle that can be used to backtrack and to recover space. Succeeds if
a solution was found.
</p>
<p>Notice that you cannot create new slots if an YAP_EnterGoal goal is open.
</p>
</dd>
<dt>  <code><code>YAP_Bool</code> YAP_RetryGoal(<code>YAP_dogoalinfo *</code> <var>infop</var>)</code></dt>
<dd><a name="IDX2623"></a>
<p>Backtrack to a query created by <code>YAP_EnterGoal</code>. The query is
given by the handle <var>infop</var>. Returns whether a new solution could
be be found.
</p>
</dd>
<dt>  <code><code>YAP_Bool</code> YAP_LeaveGoal(<code>YAP_Bool</code> <var>backtrack</var>,</code></dt>
<dd><p><code>YAP_dogoalinfo *</code> <var>infop</var>)
<a name="IDX2624"></a>
Exit a query query created by <code>YAP_EnterGoal</code>. If
<code>backtrack</code> is <code>TRUE</code>, variable bindings are undone and Heap
space is recovered.  Otherwise, only stack space is recovered, ie,
<code>LeaveGoal</code> executes a cut.
</p></dd>
</dl>
<p>Next, follows an example of how to use <code>YAP_EnterGoal</code>:
</p><table><tr><td>&nbsp;</td><td><pre class="example">void
runall(YAP_Term g)
{
    YAP_dogoalinfo goalInfo;
    YAP_Term *goalArgs = YAP_ArraysOfTerm(g);
    YAP_Functor *goalFunctor = YAP_FunctorOfTerm(g);
    YAP_PredEntryPtr goalPred = YAP_FunctorToGoal(goalFunctor);
    
    result = YAP_EnterGoal( goalPred, goalArgs, &amp;goalInfo );
    while (result)
       result = YAP_RetryGoal( &amp;goalInfo );
    YAP_LeaveGoal(TRUE, &amp;goalInfo);
}
</pre></td></tr></table>

<a name="IDX2625"></a>
<p>YAP allows calling a <strong>new</strong> Prolog interpreter from <code>C</code>. One
way is to first construct a goal <code>G</code>, and then it is sufficient to
perform:
</p><table><tr><td>&nbsp;</td><td><pre class="example">      YAP_Bool      YAP_CallProlog(YAP_Term <var>G</var>)
</pre></td></tr></table>
<p>the result will be <code>FALSE</code>, if the goal failed, or <code>TRUE</code>, if
the goal succeeded. In this case, the variables in <var>G</var> will store
the values they have been unified with. Execution only proceeds until
finding the first solution to the goal, but you can call
<code>findall/3</code> or friends if you need all the solutions.
</p>
<p>Notice that during execution, garbage collection or stack shifting may
have moved the terms 
</p>
<hr size="6">
<a name="Module-Manipulation-in-C"></a>
<a name="SEC171"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC170" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC172" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC164" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC164" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC176" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 21.7 Module Manipulation in C </h2>

<p>YAP allows one to create a new module from C-code. To create the new
code it is sufficient to call:
</p><table><tr><td>&nbsp;</td><td><pre class="example">      YAP_Module      YAP_CreateModule(YAP_Atom <var>ModuleName</var>)
</pre></td></tr></table>
<p>Notice that the new module does not have any predicates associated and
that it is not the current module. To find the current module, you can call:
</p><table><tr><td>&nbsp;</td><td><pre class="example">      YAP_Module      YAP_CurrentModule()
</pre></td></tr></table>

<p>Given a module, you may want to obtain the corresponding name. This is
possioble by using:
</p><table><tr><td>&nbsp;</td><td><pre class="example">      YAP_Term      YAP_ModuleName(YAP_Module mod)
</pre></td></tr></table>
<p>Notice that this function returns a term, and not an atom. You can
<code>YAP_AtomOfTerm</code> to extract the corresponding Prolog atom.
</p>
<hr size="6">
<a name="Writing-C"></a>
<a name="SEC172"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC171" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC173" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC164" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC164" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC176" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 21.8 Writing predicates in C </h2>

<p>We will distinguish two kinds of predicates:
</p><dl compact="compact">
<dt> <i><i>deterministic</i> predicates which either fail or succeed but are not</i></dt>
<dd><p>backtrackable, like the one in the introduction;
</p></dd>
<dt> <i><i>backtrackable</i></i></dt>
<dd><p>predicates which can succeed more than once.
</p></dd>
</dl>

<a name="IDX2626"></a>
<p>The first kind of predicates should be implemented as a C function with
no arguments which should return zero if the predicate fails and a
non-zero value otherwise. The predicate should be declared to
YAP, in the initialization routine, with a call to
</p><table><tr><td>&nbsp;</td><td><pre class="example">      void YAP_UserCPredicate(char *<var>name</var>, YAP_Bool *<var>fn</var>(), unsigned long int <var>arity</var>);
</pre></td></tr></table>
<p>where <var>name</var> is the name of the predicate, <var>fn</var> is the C function
implementing the predicate and <var>arity</var> is its arity.
</p>
<a name="IDX2627"></a>
<a name="IDX2628"></a>
<a name="IDX2629"></a>
<a name="IDX2630"></a>
<a name="IDX2631"></a>
<p>For the second kind of predicates we need two C functions. The first one
which is called when the predicate is first activated, and the second one
to be called on backtracking to provide (possibly) other solutions. Note
also that we normally also need to preserve some information to find out
the next solution.
</p>
<p>In fact the role of the two functions can be better understood from the
following prolog definition
</p><table><tr><td>&nbsp;</td><td><pre class="example">       p :- start.
       p :- repeat,
                continue.
</pre></td></tr></table>
<p>where <code>start</code> and <code>continue</code> correspond to the two C functions
described above.
</p>

<p>As an example we will consider implementing in C a predicate <code>n100(N)</code>
which, when called with an instantiated argument should succeed if that
argument is a numeral less or equal to 100, and, when called with an
uninstantiated argument, should provide, by backtracking, all the positive
integers less or equal to 100.
</p>
<p>   To do that we first declare a structure, which can only consist
of prolog terms, containing the information to be preserved on backtracking
and a pointer variable to a structure of that type.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">#include &quot;YAPInterface.h&quot;

static int start_n100(void);
static int continue_n100(void);

typedef struct {
    YAP_Term next_solution;  /* the next solution */
   } n100_data_type;

n100_data_type *n100_data;
</pre></td></tr></table>

<p>We now write the <code>C</code> function to handle the first call:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">static int start_n100(void)
{
      YAP_Term t = YAP_ARG1;
      YAP_PRESERVE_DATA(n100_data,n100_data_type);
      if(YAP_IsVarTerm(t)) {
          n100_data-&gt;next_solution = YAP_MkIntTerm(0);
          return continue_n100();
       }
      if(!YAP_IsIntTerm(t) || YAP_IntOfTerm(t)&lt;0 || YAP_IntOfTerm(t)&gt;100) {
          YAP_cut_fail();
      } else {
          YAP_cut_succeed();
      }
}

</pre></td></tr></table>

<p>The routine starts by getting the dereference value of the argument.
The call to <code>YAP_PRESERVE_DATA</code> is used to initialize the memory which will
hold the information to be preserved across backtracking. The first
argument is the variable we shall use, and the second its type. Note
that we can only use <code>YAP_PRESERVE_DATA</code> once, so often we will
want the variable to be a structure.
</p>
<p>If the argument of the predicate is a variable, the routine initializes the 
structure to be preserved across backtracking with the information
required to provide the next solution, and exits by calling <code>
continue_n100</code> to provide that solution.
</p>
<p>If the argument was not a variable, the routine then checks if it was an
integer, and if so, if its value is positive and less than 100. In that
case it exits, denoting success, with <code>YAP_cut_succeed</code>, or
otherwise exits with <code>YAP_cut_fail</code> denoting failure.
</p>
<p>The reason for using for using the functions <code>YAP_cut_succeed</code> and
<code>YAP_cut_fail</code> instead of just returning a non-zero value in the
first case, and zero in the second case, is that otherwise, if
backtracking occurred later, the routine <code>continue_n100</code> would be
called to provide additional solutions.
</p>
<p>The code required for the second function is
</p><table><tr><td>&nbsp;</td><td><pre class="example">static int continue_n100(void)
{
      int n;
      YAP_Term t;
      YAP_Term sol = YAP_ARG1;
      YAP_PRESERVED_DATA(n100_data,n100_data_type);
      n = YAP_IntOfTerm(n100_data-&gt;next_solution);
      if( n == 100) {
           t = YAP_MkIntTerm(n);
           YAP_Unify(sol,t);
           YAP_cut_succeed();
        }
       else {
           YAP_Unify(sol,n100_data-&gt;next_solution);
           n100_data-&gt;next_solution = YAP_MkIntTerm(n+1);
           return(TRUE);
        }
}
</pre></td></tr></table>

<p>Note that again the macro <code>YAP_PRESERVED_DATA</code> is used at the
beginning of the function to access the data preserved from the previous
solution.  Then it checks if the last solution was found and in that
case exits with <code>YAP_cut_succeed</code> in order to cut any further
backtracking.  If this is not the last solution then we save the value
for the next solution in the data structure and exit normally with 1
denoting success. Note also that in any of the two cases we use the
function <code>YAP_unify</code> to bind the argument of the call to the value
saved in <code> n100_state-&gt;next_solution</code>.
</p>

<p>Note also that the only correct way to signal failure in a backtrackable
predicate is to use the <code>YAP_cut_fail</code> macro.
</p>
<p>Backtrackable predicates should be declared to YAP, in a way
similar to what happened with deterministic ones, but using instead a
call to
</p><table><tr><td>&nbsp;</td><td><pre class="example">      void YAP_UserBackCPredicate(char *<var>name</var>,
                 int *<var>init</var>(), int *<var>cont</var>(),
                 unsigned long int <var>arity</var>, unsigned int <var>sizeof</var>);
</pre></td></tr></table>
<p>where <var>name</var> is a string with the name of the predicate, <var>init</var> and
<var>cont</var> are the C functions used to start and continue the execution of
the predicate, <var>arity</var> is the predicate arity, and <var>sizeof</var> is
the size of the data to be preserved in the stack. In this example, we
would have something like
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">void
init_n100(void)
{
  YAP_UserBackCPredicate(&quot;n100&quot;, start_n100, continue_n100, 1, 1);
}
</pre></td></tr></table>


<hr size="6">
<a name="Loading-Objects"></a>
<a name="SEC173"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC172" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC174" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC164" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC164" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC176" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 21.9 Loading Object Files </h2>

<p>The primitive predicate
</p><table><tr><td>&nbsp;</td><td><pre class="example">      load_foreign_files(<var>Files</var>,<var>Libs</var>,<var>InitRoutine</var>)
</pre></td></tr></table>
<p>should be used, from inside YAP, to load object files produced by the C
compiler. The argument <var>ObjectFiles</var> should be a list of atoms
specifying the object files to load, <var>Libs</var> is a list (possibly
empty) of libraries to be passed to the unix loader (<code>ld</code>) and
InitRoutine is the name of the C routine (to be called after the files
are loaded) to perform the necessary declarations to YAP of the
predicates defined in the files. 
</p>
<p>YAP will search for <var>ObjectFiles</var> in the current directory first. If
it cannot find them it will search for the files using the environment
variable <code>YAPLIBDIR</code>, if defined, or in the default library.
</p>
<p>In a.out systems YAP by default only reserves a fixed amount of memory
for object code (64 Kbytes in the current version). Should this size
prove inadequate the flag <code>-c n</code> can be passed to YAP (in the
command line invoking YAP) to force the allocation of <code>n</code> Kbytes.
</p>
<hr size="6">
<a name="Save_0026Rest"></a>
<a name="SEC174"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC173" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC175" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC164" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC164" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC176" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 21.10 Saving and Restoring </h2>


<p>YAP4 currently does not support <code>save</code> and <code>restore</code> for object code
loaded with <code>load_foreign_files</code>. We plan to support save and restore
in future releases of YAP.
</p>
<hr size="6">
<a name="YAP4-Notes"></a>
<a name="SEC175"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC174" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC176" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC164" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC164" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC176" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 21.11 Changes to the C-Interface in YAP4 </h2>

<p>YAP4 includes several changes over the previous <code>load_foreign_files</code>
interface. These changes were required to support the new binary code
formats, such as ELF used in Solaris2 and Linux.
</p><ul>
<li> All Names of YAP objects now start with <var>YAP_</var>. This is
designed to avoid clashes with other code. Use <code>YAPInterface.h</code> to
take advantage of the new interface. <code>c_interface.h</code> is still
available if you cannot port the code to the new interface.

</li><li> Access to elements in the new interface always goes through
<em>functions</em>. This includes access to the argument registers,
<code>YAP_ARG1</code> to <code>YAP_ARG16</code>. This change breaks code such as
<code>unify(&amp;ARG1,&amp;t)</code>, which is nowadays:
<table><tr><td>&nbsp;</td><td><pre class="example">{
   YAP_Unify(ARG1, t);
}
</pre></td></tr></table>

</li><li> <code>cut_fail()</code> and <code>cut_succeed()</code> are now functions.

</li><li> The use of <code>Deref</code> is deprecated. All functions that return
Prolog terms, including the ones that access arguments, already
dereferenciate their arguments.

</li><li> Space allocated with PRESERVE_DATA is ignored by garbage
collection and stack shifting. As a result, any pointers to a Prolog
stack object, including some terms, may be corrupted after garbage
collection or stack shifting. Prolog terms should instead be stored as
arguments to the backtrackable procedure.

</li></ul>

<hr size="6">
<a name="YAPLibrary"></a>
<a name="SEC176"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC175" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC164" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 22. Using YAP as a Library </h1>

<p>YAP can be used as a library to be called from other
programs. To do so, you must first create the YAP library:
</p><table><tr><td>&nbsp;</td><td><pre class="example">make library
make install_library
</pre></td></tr></table>
<p>This will install a file <code>libyap.a</code> in <var>LIBDIR</var> and the Prolog
headers in <var>INCLUDEDIR</var>. The library contains all the functionality
available in YAP, except the foreign function loader and for
<code>YAP</code>'s startup routines.
</p>
<p>To actually use this library you must follow a five step process:
</p>
<ol>
<li>
 You must initialize the YAP environment. A single function,
<code>YAP_FastInit</code> asks for a contiguous chunk in your memory space, fills
it in with the data-base, and sets up YAP's stacks and
execution registers. You can use a saved space from a standard system by
calling <code>save_program/1</code>.
     
</li><li> You then have to prepare a query to give to
YAP. A query is a Prolog term, and you just have to use the same
functions that are available in the C-interface.

</li><li> You can then use <code>YAP_RunGoal(query)</code> to actually evaluate your
query. The argument is the query term <code>query</code>, and the result is 1
if the query succeeded, and 0 if it failed.

</li><li> You can use the term destructor functions to check how
arguments were instantiated.

</li><li> If you want extra solutions, you can use
<code>YAP_RestartGoal()</code> to obtain the next solution.

</li></ol>

<p>The next program shows how to use this system. We assume the saved
program contains two facts for the procedure <tt>b</tt>:
</p>
<table><tr><td>&nbsp;</td><td><table class="cartouche" border="1"><tr><td>
<pre class="example">#include &lt;stdio.h&gt;
#include &quot;YAP/YAPInterface.h&quot;


int
main(int argc, char *argv[]) {
  if (YAP_FastInit(&quot;saved_state&quot;) == YAP_BOOT_ERROR)
    exit(1);
  if (YAP_RunGoal(YAP_MkAtomTerm(YAP_LookupAtom(&quot;do&quot;)))) {
    printf(&quot;Success\n&quot;);
    while (YAP_RestartGoal())
      printf(&quot;Success\n&quot;);
  }
  printf(&quot;NO\n&quot;);
}
</pre></td></tr></table>
</td></tr></table>

<p>The program first initializes YAP, calls the query for the
first time and succeeds, and then backtracks twice. The first time
backtracking succeeds, the second it fails and exits.
</p>
<p>To compile this program it should be sufficient to do:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">cc -o exem -I../YAP4.3.0 test.c -lYAP -lreadline -lm
</pre></td></tr></table>

<p>You may need to adjust the libraries and library paths depending on the
Operating System and your installation of YAP.
</p>
<p>Note that YAP4.3.0 provides the first version of the interface. The
interface may change and improve in the future.
</p>
<p>The following C-functions are available from YAP:
</p>
<ul>
<li>  YAP_CompileClause(<code>YAP_Term</code> <var>Clause</var>)
<a name="IDX2632"></a>
Compile the Prolog term <var>Clause</var> and assert it as the last clause
for the corresponding procedure.

</li><li>  <code>int</code> YAP_ContinueGoal(<code>void</code>)
<a name="IDX2633"></a>
Continue execution from the point where it stopped.

</li><li>  <code>void</code> YAP_Error(<code>int</code> <var>ID</var>,<code>YAP_Term</code> <var>Cause</var>,<code>char *</code> <var>error_description</var>)
<a name="IDX2634"></a>
Generate an YAP System Error with description given by the string
<var>error_description</var>. <var>ID</var> is the error ID, if known, or
<code>0</code>. <var>Cause</var> is the term that caused the crash.

</li><li>  <code>void</code> YAP_Exit(<code>int</code> <var>exit_code</var>)
<a name="IDX2635"></a>
Exit YAP immediately. The argument <var>exit_code</var> gives the error code
and is supposed to be 0 after successful execution in Unix and Unix-like
systems.

</li><li>  <code>YAP_Term</code> YAP_GetValue(<code>Atom</code> <var>at</var>)
<a name="IDX2636"></a>
Return the term <var>value</var> associated with the atom <var>at</var>. If no
such term exists the function will return the empty list.

</li><li>  YAP_FastInit(<code>char *</code> <var>SavedState</var>)
<a name="IDX2637"></a>
Initialize a copy of YAP from <var>SavedState</var>. The copy is
monolithic and currently must be loaded at the same address where it was
saved. <code>YAP_FastInit</code> is a simpler version of <code>YAP_Init</code>.

</li><li>  YAP_Init(<var>InitInfo</var>)
<a name="IDX2638"></a>
Initialize YAP. The arguments are in a <code>C</code>
structure of type <code>YAP_init_args</code>.

<p>The fields of <var>InitInfo</var> are <code>char *</code> <var>SavedState</var>,
<code>int</code> <var>HeapSize</var>, <code>int</code> <var>StackSize</var>, <code>int</code>
<var>TrailSize</var>, <code>int</code> <var>NumberofWorkers</var>, <code>int</code>
<var>SchedulerLoop</var>, <code>int</code> <var>DelayedReleaseLoad</var>, <code>int</code>
<var>argc</var>, <code>char **</code> <var>argv</var>, <code>int</code> <var>ErrorNo</var>, and
<code>char *</code> <var>ErrorCause</var>. The function returns an integer, which
indicates the current status. If the result is <code>YAP_BOOT_ERROR</code>
booting failed.
</p>
<p>If <var>SavedState</var> is not NULL, try to open and restore the file
<var>SavedState</var>. Initially YAP will search in the current directory. If
the saved state does not exist in the current directory YAP will use
either the default library directory or the directory given by the
environment variable <code>YAPLIBDIR</code>. Note that currently
the saved state must be loaded at the same address where it was saved.
</p>
<p>If <var>HeapSize</var> is different from 0 use <var>HeapSize</var> as the minimum
size of the Heap (or code space). If <var>StackSize</var> is different from 0
use <var>HeapSize</var> as the minimum size for the Stacks. If
<var>TrailSize</var> is different from 0 use <var>TrailSize</var> as the minimum
size for the Trails.
</p>
<p>The <var>NumberofWorkers</var>, <var>NumberofWorkers</var>, and
<var>DelayedReleaseLoad</var> are only of interest to the or-parallel system.
</p>
<p>The argument count <var>argc</var> and string of arguments <var>argv</var>
arguments are to be passed to user programs as the arguments used to
call YAP.
</p>
<p>If booting failed you may consult <code>ErrorNo</code> and <code>ErrorCause</code>
for the cause of the error, or call
<code>YAP_Error(ErrorNo,0L,ErrorCause)</code> to do default processing. 
</p>

</li><li>  <code>void</code> YAP_PutValue(<code>Atom</code> <var>at</var>, <code>YAP_Term</code> <var>value</var>)
<a name="IDX2639"></a>
Associate the term <var>value</var> with the atom <var>at</var>. The term
<var>value</var> must be a constant. This functionality is used by YAP as a
simple way for controlling and communicating with the Prolog run-time.

</li><li>  <code>YAP_Term</code> YAP_Read(<code>int (*)(void)</code> <var>GetC</var>)
<a name="IDX2640"></a>
Parse a Term  using the function <var>GetC</var> to input characters.

</li><li>  <code>YAP_Term</code> YAP_Write(<code>YAP_Term</code> <var>t</var>)
<a name="IDX2641"></a>
Copy a Term <var>t</var> and all associated constraints. May call the garbage
collector and returns <code>0L</code> on error (such as no space being
available).

</li><li>  <code>void</code> YAP_Write(<code>YAP_Term</code> <var>t</var>, <code>void (*)(int)</code>
<var>PutC</var>, <code>int</code> <var>flags</var>)
<a name="IDX2642"></a>
Write a Term <var>t</var> using the function <var>PutC</var> to output
characters. The term is written according to a mask of the following
flags in the <code>flag</code> argument: <code>YAP_WRITE_QUOTED</code>,
<code>YAP_WRITE_HANDLE_VARS</code>,  and <code>YAP_WRITE_IGNORE_OPS</code>.

</li><li>  <code>void</code> YAP_WriteBuffer(<code>YAP_Term</code> <var>t</var>, <code>char *</code>
<var>buff</var>, <code>unsigned int</code>
<var>size</var>, <code>int</code> <var>flags</var>)
<a name="IDX2643"></a>
Write a YAP_Term <var>t</var> to buffer <var>buff</var> with size <var>size</var>. The
term is written according to a mask of the following flags in the
<code>flag</code> argument: <code>YAP_WRITE_QUOTED</code>,
<code>YAP_WRITE_HANDLE_VARS</code>, and <code>YAP_WRITE_IGNORE_OPS</code>.

</li><li>  <code>void</code> YAP_InitConsult(<code>int</code> <var>mode</var>, <code>char *</code> <var>filename</var>)
<a name="IDX2644"></a>
Enter consult mode on file <var>filename</var>. This mode maintains a few
data-structures internally, for instance to know whether a predicate
before or not. It is still possible to execute goals in consult mode.

<p>If <var>mode</var> is <code>TRUE</code> the file will be reconsulted, otherwise
just consulted. In practice, this function is most useful for
bootstrapping Prolog, as otherwise one may call the Prolog predicate
<code>compile/1</code> or <code>consult/1</code> to do compilation.
</p>
<p>Note that it is up to the user to open the file <var>filename</var>. The
<code>YAP_InitConsult</code> function only uses the file name for internal
bookkeeping.
</p>
</li><li>  <code>void</code> YAP_EndConsult(<code>void</code>)
<a name="IDX2645"></a>
Finish consult mode.

</li></ul>

<p>Some observations:
</p>
<ul>
<li> The system will core dump if you try to load the saved state in a
different address from where it was made. This may be a problem if
your program uses <code>mmap</code>. This problem will be addressed in future
versions of YAP.

</li><li> Currently, the YAP library will pollute the name
space for your program.

</li><li> The initial library includes the complete YAP system. In
the future we plan to split this library into several smaller libraries
(e.g. if you do not want to perform I/O).

</li><li> You can generate your own saved states. Look at  the
<code>boot.yap</code> and <code>init.yap</code> files.

</li></ul>

<hr size="6">
<a name="Compatibility"></a>
<a name="SEC177"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC176" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC178" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC176" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC190" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 23. Compatibility with Other Prolog systems </h1>

<p>YAP has been designed to be as compatible as possible with
other Prolog systems, and initially with C-Prolog. More recent work on
YAP has included features initially proposed for the Quintus
and SICStus Prolog systems.
</p>
<p>Developments since <code>YAP4.1.6</code> we have striven at making
YAP compatible with the ISO-Prolog standard. 
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC178">23.1 Compatibility with the C-Prolog interpreter</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC184">23.2 Compatibility with the Quintus and SICStus Prolog systems</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Compatibility with the SICStus Prolog system
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC189">23.3 Compatibility with the ISO Prolog standard</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="C_002dProlog"></a>
<a name="SEC178"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC177" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC179" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC177" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC190" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 23.1 Compatibility with the C-Prolog interpreter </h2>

<table class="menu" border="0" cellspacing="0">
<p>C-Prolog Compatibility
<a href="#SEC179">23.1.1 Major Differences between YAP and C-Prolog.</a>&nbsp; Major Differences between YAP and C-Prolog
<a href="#SEC180">23.1.2 YAP predicates fully compatible with C-Prolog</a>&nbsp; YAP predicates fully compatible with
C-Prolog
<a href="#SEC181">23.1.3 YAP predicates not strictly compatible with C-Prolog</a>&nbsp; YAP predicates not strictly as C-Prolog
<a href="#SEC182">23.1.4 YAP predicates not available in C-Prolog</a>&nbsp; YAP predicates not available in C-Prolog
<a href="#SEC183">23.1.5 YAP predicates not available in C-Prolog</a>&nbsp; C-Prolog predicates not available in YAP
</p></table>

<hr size="6">
<a name="Major-Differences-with-C_002dProlog"></a>
<a name="SEC179"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC178" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC180" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC177" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC178" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC190" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 23.1.1 Major Differences between YAP and C-Prolog. </h3>

<p>YAP includes several extensions over the original C-Prolog system. Even
so, most C-Prolog programs should run under YAP without changes.
</p>
<p>The most important difference between YAP and C-Prolog is that, being
YAP a compiler, some changes should be made if predicates such as
<code>assert</code>, <code>clause</code> and <code>retract</code> are used. First
predicates which will change during execution should be declared as
<code>dynamic</code> by using commands like:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">:- dynamic f/n.
</pre></td></tr></table>

<p>where <code>f</code> is the predicate name and n is the arity of the
predicate. Note that  several such predicates can be declared in a
single command:
</p><table><tr><td>&nbsp;</td><td><pre class="example"> :- dynamic f/2, ..., g/1.
</pre></td></tr></table>

<p>Primitive predicates such as <code>retract</code> apply only to dynamic
predicates.  Finally note that not all the C-Prolog primitive predicates
are implemented in YAP. They can easily be detected using the
<code>unknown</code> system predicate provided by YAP.
</p>
<p>Last, by default YAP enables character escapes in strings. You can
disable the special interpretation for the escape character by using:
</p><table><tr><td>&nbsp;</td><td><pre class="example"><code>:- yap_flag(character_escapes,off).</code>
</pre></td></tr></table>
<p>or by using:
</p><table><tr><td>&nbsp;</td><td><pre class="example"><code>:- yap_flag(language,cprolog).</code>
</pre></td></tr></table>

<hr size="6">
<a name="Fully-C_002dProlog-Compatible"></a>
<a name="SEC180"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC179" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC181" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC177" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC178" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC190" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 23.1.2 YAP predicates fully compatible with C-Prolog </h3>

<p>These are the Prolog built-ins that are fully compatible in both
C-Prolog and YAP:
</p>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#SEC180_0" class="summary-letter"><b>!</b></a>
 &nbsp; 
<a href="#SEC180_1" class="summary-letter"><b>,</b></a>
 &nbsp; 
<a href="#SEC180_2" class="summary-letter"><b>;</b></a>
 &nbsp; 
<a href="#SEC180_3" class="summary-letter"><b>&lt;</b></a>
 &nbsp; 
<a href="#SEC180_4" class="summary-letter"><b>=</b></a>
 &nbsp; 
<a href="#SEC180_5" class="summary-letter"><b>&gt;</b></a>
 &nbsp; 
<a href="#SEC180_6" class="summary-letter"><b>@</b></a>
 &nbsp; 
<a href="#SEC180_7" class="summary-letter"><b>[</b></a>
 &nbsp; 
<a href="#SEC180_8" class="summary-letter"><b>\</b></a>
 &nbsp; 
<br>
<a href="#SEC180_9" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#SEC180_10" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#SEC180_11" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#SEC180_12" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#SEC180_13" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#SEC180_14" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#SEC180_15" class="summary-letter"><b>G</b></a>
 &nbsp; 
<a href="#SEC180_16" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#SEC180_17" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#SEC180_18" class="summary-letter"><b>K</b></a>
 &nbsp; 
<a href="#SEC180_19" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#SEC180_20" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#SEC180_21" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#SEC180_22" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#SEC180_23" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#SEC180_24" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#SEC180_25" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#SEC180_26" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#SEC180_27" class="summary-letter"><b>W</b></a>
 &nbsp; 
</td></tr></table>
<table border="0" class="index-cy">
<tr><td></td><th align="left">Index Entry</th><th align="left"> Section</th></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC180_0">!</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX179">!/0</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC180_1">,</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX164">,/2</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC180_2">;</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX167">;/2</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC180_3">&lt;</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX406">&lt;/2</a></td><td valign="top"><a href="#SEC44">6.8 Arithmetic</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC180_4">=</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX310">=../2</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX418">=:=/2</a></td><td valign="top"><a href="#SEC44">6.8 Arithmetic</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX409">=&lt;/2</a></td><td valign="top"><a href="#SEC44">6.8 Arithmetic</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX376">==/2</a></td><td valign="top"><a href="#SEC43">6.7 Comparing Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX421">=\=/2</a></td><td valign="top"><a href="#SEC44">6.8 Arithmetic</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC180_5">&gt;</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX412">&gt;/2</a></td><td valign="top"><a href="#SEC44">6.8 Arithmetic</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX415">&gt;=/2</a></td><td valign="top"><a href="#SEC44">6.8 Arithmetic</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC180_6">@</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX382">@&lt;/2</a></td><td valign="top"><a href="#SEC43">6.7 Comparing Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX385">@&lt;/2</a></td><td valign="top"><a href="#SEC43">6.7 Comparing Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX388">@&gt;/2</a></td><td valign="top"><a href="#SEC43">6.7 Comparing Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX391">@&gt;=/2</a></td><td valign="top"><a href="#SEC43">6.7 Comparing Terms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC180_7">[</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX23">[-]/1</a></td><td valign="top"><a href="#SEC26">4.1 Program loading and updating</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX20">[]/1</a></td><td valign="top"><a href="#SEC26">4.1 Program loading and updating</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC180_8">\</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX182">\+/1</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX379">\==/2</a></td><td valign="top"><a href="#SEC43">6.7 Comparing Terms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC180_9">A</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX212">abort/0</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX265">atom/1</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX268">atomic/1</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC180_10">B</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX914">bagof/3</a></td><td valign="top"><a href="#SEC60">6.13 Collecting Solutions to a Goal</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX215">break/0</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC180_11">C</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX197">call/1</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX433">close/1</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX373">compare/3</a></td><td valign="top"><a href="#SEC43">6.7 Comparing Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX14">consult/1</a></td><td valign="top"><a href="#SEC26">4.1 Program loading and updating</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX809">current_atom/1</a></td><td valign="top"><a href="#SEC56">6.10.2 Looking at the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX812">current_predicate/1</a></td><td valign="top"><a href="#SEC56">6.10.2 Looking at the Data Base</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC180_12">D</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX274">db_reference/1</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2535">debug/0</a></td><td valign="top"><a href="#SEC156">19.1 Debugging Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2538">debugging/0</a></td><td valign="top"><a href="#SEC156">19.1 Debugging Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX549">display/1</a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC180_13">E</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX860">erase/1</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX863">erased/1</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX702">exists/1</a></td><td valign="top"><a href="#SEC52">6.9.7 Controlling Input/Output</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX62">expand_exprs/2</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX920">expand_term/2</a></td><td valign="top"><a href="#SEC61">6.14 Grammar Rules</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC180_14">F</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX173">fail/0</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX708">fileerrors/0</a></td><td valign="top"><a href="#SEC52">6.9.7 Controlling Input/Output</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX905">findall/3</a></td><td valign="top"><a href="#SEC60">6.13 Collecting Solutions to a Goal</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX307">functor/3</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC180_15">G</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX582">get/1</a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX585">get0/1</a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC180_16">H</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX218">halt/0</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC180_17">I</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX866">instance/2</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX280">integer/1</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC180_18">K</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX397">keysort/2</a></td><td valign="top"><a href="#SEC43">6.7 Comparing Terms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC180_19">L</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2553">leash/1</a></td><td valign="top"><a href="#SEC156">19.1 Debugging Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX400">length/2</a></td><td valign="top"><a href="#SEC43">6.7 Comparing Terms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC180_20">N</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX328">name/2</a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX612">nl/0</a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2541">nodebug/0</a></td><td valign="top"><a href="#SEC156">19.1 Debugging Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX705">nofileerrors/0</a></td><td valign="top"><a href="#SEC52">6.9.7 Controlling Input/Output</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX283">nonvar/1</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2547">nospy/1</a></td><td valign="top"><a href="#SEC156">19.1 Debugging Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX185">not/1</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2562">notrace/0</a></td><td valign="top"><a href="#SEC156">19.1 Debugging Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX286">number/1</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC180_21">O</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1175">op/3</a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC180_22">P</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX289">primitive/1</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX561">print/1</a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1181">prompt/2</a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX570">put/1</a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC180_23">R</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX529">read/1</a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX17">reconsult/1</a></td><td valign="top"><a href="#SEC26">4.1 Program loading and updating</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX836">recorda/3</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX854">recorded/3</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX839">recordz/3</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX950">rename/2</a></td><td valign="top"><a href="#SEC62">6.15 Access to Operating System Functionality</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX194">repeat/0</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC180_24">S</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX119">save/1</a></td><td valign="top"><a href="#SEC29">4.4 Saving and Loading Prolog States</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX520">see/1</a></td><td valign="top"><a href="#SEC47">6.9.2 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX523">seeing/1</a></td><td valign="top"><a href="#SEC47">6.9.2 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX526">seen/0</a></td><td valign="top"><a href="#SEC47">6.9.2 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX917">setof/3</a></td><td valign="top"><a href="#SEC60">6.13 Collecting Solutions to a Goal</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX953">sh/0</a></td><td valign="top"><a href="#SEC62">6.15 Access to Operating System Functionality</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX606">skip/1</a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX394">sort/2</a></td><td valign="top"><a href="#SEC43">6.7 Comparing Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2544">spy/1</a></td><td valign="top"><a href="#SEC156">19.1 Debugging Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1089">statistics/0</a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX956">system/1</a></td><td valign="top"><a href="#SEC62">6.15 Access to Operating System Functionality</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC180_25">T</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX609">tab/1</a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX511">tell/1</a></td><td valign="top"><a href="#SEC47">6.9.2 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX514">telling/1</a></td><td valign="top"><a href="#SEC47">6.9.2 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX923">term_expansion/2</a></td><td valign="top"><a href="#SEC61">6.14 Grammar Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX517">told/0</a></td><td valign="top"><a href="#SEC47">6.9.2 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2559">trace/0</a></td><td valign="top"><a href="#SEC156">19.1 Debugging Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX170">true/0</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC180_26">V</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX262">var/1</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC180_27">W</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX546">write/1</a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX558">writeq/1</a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#SEC180_0" class="summary-letter"><b>!</b></a>
 &nbsp; 
<a href="#SEC180_1" class="summary-letter"><b>,</b></a>
 &nbsp; 
<a href="#SEC180_2" class="summary-letter"><b>;</b></a>
 &nbsp; 
<a href="#SEC180_3" class="summary-letter"><b>&lt;</b></a>
 &nbsp; 
<a href="#SEC180_4" class="summary-letter"><b>=</b></a>
 &nbsp; 
<a href="#SEC180_5" class="summary-letter"><b>&gt;</b></a>
 &nbsp; 
<a href="#SEC180_6" class="summary-letter"><b>@</b></a>
 &nbsp; 
<a href="#SEC180_7" class="summary-letter"><b>[</b></a>
 &nbsp; 
<a href="#SEC180_8" class="summary-letter"><b>\</b></a>
 &nbsp; 
<br>
<a href="#SEC180_9" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#SEC180_10" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#SEC180_11" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#SEC180_12" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#SEC180_13" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#SEC180_14" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#SEC180_15" class="summary-letter"><b>G</b></a>
 &nbsp; 
<a href="#SEC180_16" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#SEC180_17" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#SEC180_18" class="summary-letter"><b>K</b></a>
 &nbsp; 
<a href="#SEC180_19" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#SEC180_20" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#SEC180_21" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#SEC180_22" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#SEC180_23" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#SEC180_24" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#SEC180_25" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#SEC180_26" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#SEC180_27" class="summary-letter"><b>W</b></a>
 &nbsp; 
</td></tr></table>

<hr size="6">
<a name="Not-Strictly-C_002dProlog-Compatible"></a>
<a name="SEC181"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC180" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC182" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC177" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC178" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC190" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 23.1.3 YAP predicates not strictly compatible with C-Prolog </h3>

<p>These are YAP built-ins that are also available in C-Prolog, but
that are not fully compatible:
</p>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#SEC181_0" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#SEC181_1" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#SEC181_2" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#SEC181_3" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#SEC181_4" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#SEC181_5" class="summary-letter"><b>R</b></a>
 &nbsp; 
</td></tr></table>
<table border="0" class="index-ca">
<tr><td></td><th align="left">Index Entry</th><th align="left"> Section</th></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC181_0">A</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX767">abolish/1</a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX770">abolish/2</a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX758">assert/1</a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX824">assert/2</a></td><td valign="top"><a href="#SEC57">6.10.3 Using Data Base References</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX761">asserta/1</a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX827">asserta/2</a></td><td valign="top"><a href="#SEC57">6.10.3 Using Data Base References</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX764">assertz/1</a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX830">assertz/2</a></td><td valign="top"><a href="#SEC57">6.10.3 Using Data Base References</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC181_1">C</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX782">clause/2</a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX785">clause/3</a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC181_2">I</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX403">is/2</a></td><td valign="top"><a href="#SEC44">6.8 Arithmetic</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC181_3">L</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX797">listing/0</a></td><td valign="top"><a href="#SEC56">6.10.2 Looking at the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX800">listing/1</a></td><td valign="top"><a href="#SEC56">6.10.2 Looking at the Data Base</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC181_4">N</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX788">nth_clause/3</a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC181_5">R</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX833">retract/2</a></td><td valign="top"><a href="#SEC57">6.10.3 Using Data Base References</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#SEC181_0" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#SEC181_1" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#SEC181_2" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#SEC181_3" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#SEC181_4" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#SEC181_5" class="summary-letter"><b>R</b></a>
 &nbsp; 
</td></tr></table>

<hr size="6">
<a name="Not-in-C_002dProlog"></a>
<a name="SEC182"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC181" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC183" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC177" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC178" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC190" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 23.1.4 YAP predicates not available in C-Prolog </h3>

<p>These are YAP built-ins not available in C-Prolog.
</p>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#SEC182_0" class="summary-letter"><b>-</b></a>
 &nbsp; 
<a href="#SEC182_1" class="summary-letter"><b>=</b></a>
 &nbsp; 
<a href="#SEC182_2" class="summary-letter"><b>\</b></a>
 &nbsp; 
<br>
<a href="#SEC182_3" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#SEC182_4" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#SEC182_5" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#SEC182_6" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#SEC182_7" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#SEC182_8" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#SEC182_9" class="summary-letter"><b>G</b></a>
 &nbsp; 
<a href="#SEC182_10" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#SEC182_11" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#SEC182_12" class="summary-letter"><b>J</b></a>
 &nbsp; 
<a href="#SEC182_13" class="summary-letter"><b>K</b></a>
 &nbsp; 
<a href="#SEC182_14" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#SEC182_15" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#SEC182_16" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#SEC182_17" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#SEC182_18" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#SEC182_19" class="summary-letter"><b>Q</b></a>
 &nbsp; 
<a href="#SEC182_20" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#SEC182_21" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#SEC182_22" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#SEC182_23" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#SEC182_24" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#SEC182_25" class="summary-letter"><b>W</b></a>
 &nbsp; 
<a href="#SEC182_26" class="summary-letter"><b>Y</b></a>
 &nbsp; 
</td></tr></table>
<table border="0" class="index-cn">
<tr><td></td><th align="left">Index Entry</th><th align="left"> Section</th></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC182_0">-</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX191">-&gt;*/2</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX188">-&gt;/2</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC182_1">=</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX313">=/2</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2300">=@=/2</a></td><td valign="top"><a href="#SEC100">8. SWI-Prolog Emulation</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC182_2">\</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX316">\=/2</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC182_3">A</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2508">abolish_all_tables/0</a></td><td valign="top"><a href="#SEC152">16. Tabling</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2505">abolish_table/1</a></td><td valign="top"><a href="#SEC152">16. Tabling</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX445">absolute_file_name/2</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX442">absolute_file_name/3</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2096">add_edges/3</a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1080">add_to_array_element/4</a></td><td valign="top"><a href="#SEC69">6.20 Arrays</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1298">add_to_heap/4</a></td><td valign="top"><a href="#SEC76">7.4 Heaps</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2090">add_vertices/3</a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX962">alarm/3</a></td><td valign="top"><a href="#SEC62">6.15 Access to Operating System Functionality</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX911">all/3</a></td><td valign="top"><a href="#SEC60">6.13 Collecting Solutions to a Goal</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX716">always_prompt_user/0</a></td><td valign="top"><a href="#SEC52">6.9.7 Controlling Input/Output</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1325">append/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1322">append/3</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2273">append/3</a></td><td valign="top"><a href="#SEC100">8. SWI-Prolog Emulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX304">arg/3</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1050">array/2</a></td><td valign="top"><a href="#SEC69">6.20 Arrays</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1074">array_element/3</a></td><td valign="top"><a href="#SEC69">6.20 Arrays</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX773">assert_static/1</a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX776">asserta_static/1</a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX779">assertz_static/1</a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1235">assoc_to_list/2</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX478">at_end_of_stream/0</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX481">at_end_of_stream/1</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX331">atom_chars/2</a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX334">atom_codes/2</a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX337">atom_concat/2</a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX346">atom_concat/3</a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX343">atom_length/2</a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX355">atom_number/2</a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1862">atom_to_chars/2</a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1865">atom_to_chars/3</a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX340">atomic_concat/2</a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2324">attr_unify_hook/2</a></td><td valign="top"><a href="#SEC103">8.3 hProlog and SWI-Prolog Attributed Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2384">attribute_goal/2</a></td><td valign="top"><a href="#SEC114">10.4 Displaying Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2381">attvar/1</a></td><td valign="top"><a href="#SEC113">10.3 Attributed Unification</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1292">avl_insert/4</a></td><td valign="top"><a href="#SEC75">7.3 AVL Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1295">avl_lookup/3</a></td><td valign="top"><a href="#SEC75">7.3 AVL Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1289">avl_new/1</a></td><td valign="top"><a href="#SEC75">7.3 AVL Trees</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC182_4">B</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX990">b_getval/2</a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2339">b_getval/2</a></td><td valign="top"><a href="#SEC105">8.4 SWI Global variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX987">b_setval/2</a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2336">b_setval/2</a></td><td valign="top"><a href="#SEC105">8.4 SWI Global variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX899">bb_delete/2</a></td><td valign="top"><a href="#SEC59">6.12 The Blackboard</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX896">bb_get/2</a></td><td valign="top"><a href="#SEC59">6.12 The Blackboard</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX893">bb_put/2</a></td><td valign="top"><a href="#SEC59">6.12 The Blackboard</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX902">bb_update/3</a></td><td valign="top"><a href="#SEC59">6.12 The Blackboard</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2276">between/3</a></td><td valign="top"><a href="#SEC100">8. SWI-Prolog Emulation</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC182_5">C</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX935">C/3</a></td><td valign="top"><a href="#SEC61">6.14 Grammar Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2048">call_cleanup/1</a></td><td valign="top"><a href="#SEC93">7.21 Call Cleanup</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2051">call_cleanup/2</a></td><td valign="top"><a href="#SEC93">7.21 Call Cleanup</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1044">call_count_data/0</a></td><td valign="top"><a href="#SEC68">6.19 Counting Calls</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1041">call_count_data/3</a></td><td valign="top"><a href="#SEC68">6.19 Counting Calls</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1047">call_count_data/3</a></td><td valign="top"><a href="#SEC68">6.19 Counting Calls</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2366">call_residue/2</a></td><td valign="top"><a href="#SEC109">9.2 Co-routining</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX203">call_with_args/n</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX295">callable/1</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX224">catch/3</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX938">cd/1</a></td><td valign="top"><a href="#SEC62">6.15 Access to Operating System Functionality</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX364">char_code/2</a></td><td valign="top"><a href="#SEC42">6.6 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX540">char_conversion/2</a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX367">char_type/2</a></td><td valign="top"><a href="#SEC42">6.6 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX499">character_count/2</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2279">chdir/1</a></td><td valign="top"><a href="#SEC100">8. SWI-Prolog Emulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1208">checklist/2</a></td><td valign="top"><a href="#SEC73">7.1 Apply Macros</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1229">checknodes/3</a></td><td valign="top"><a href="#SEC73">7.1 Apply Macros</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2057">cleanup_all/0</a></td><td valign="top"><a href="#SEC93">7.21 Call Cleanup</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX436">close/2</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1496">close_matlab/0</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1068">close_static_array/1</a></td><td valign="top"><a href="#SEC69">6.20 Arrays</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX370">code_type/2</a></td><td valign="top"><a href="#SEC42">6.6 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX26">compile/1</a></td><td valign="top"><a href="#SEC26">4.1 Program loading and updating</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX32">compile/1</a></td><td valign="top"><a href="#SEC26">4.1 Program loading and updating</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX35">compile/1 (directive)</a></td><td valign="top"><a href="#SEC26">4.1 Program loading and updating</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX47">compile_expressions/0</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2111">complement/2</a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2114">compose/3</a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX271">compound/1</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2282">concat_atom/2</a></td><td valign="top"><a href="#SEC100">8. SWI-Prolog Emulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2285">concat_atom/3</a></td><td valign="top"><a href="#SEC100">8. SWI-Prolog Emulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1214">convlist/3</a></td><td valign="top"><a href="#SEC73">7.1 Apply Macros</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX322">copy_term/2</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2333">copy_term_nat/2</a></td><td valign="top"><a href="#SEC104">8.3.1 Special Purpose SWI Predicates for Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX972">create_mutable/2</a></td><td valign="top"><a href="#SEC63">6.16 Term Modification</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX543">current_char_conversion/2</a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX472">current_input/1</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX872">current_key/2</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX490">current_line_number/1</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX493">current_line_number/2</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1083">current_module/1</a></td><td valign="top"><a href="#SEC70">6.21 Predicate Information</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1086">current_module/2</a></td><td valign="top"><a href="#SEC70">6.21 Predicate Information</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2492">current_mutex/3</a></td><td valign="top"><a href="#SEC150">14.4 Thread Synchronisation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1178">current_op/3</a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX475">current_output/1</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX815">current_predicate/2</a></td><td valign="top"><a href="#SEC56">6.10.2 Looking at the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1166">current_prolog_flag/2</a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX451">current_stream/3</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2429">current_thread/2</a></td><td valign="top"><a href="#SEC145">14.2 Monitoring Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1970">cyclic_term/1</a></td><td valign="top"><a href="#SEC91">7.19 Utilities On Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1973">cyclic_term/1</a></td><td valign="top"><a href="#SEC91">7.19 Utilities On Terms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC182_6">D</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1889">datime/1</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1238">del_assoc/4</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2321">del_attr/2</a></td><td valign="top"><a href="#SEC103">8.3 hProlog and SWI-Prolog Attributed Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2099">del_edges/3</a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1241">del_max_assoc/4</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1244">del_min_assoc/4</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2093">del_vertices/3</a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1328">delete/3</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1895">delete_file/1</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1898">delete_file/2</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2147">dgraph_add_edges/3</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2141">dgraph_add_vertices/3</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2159">dgraph_complement/2</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2165">dgraph_compose/3</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2150">dgraph_del_edges/3</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2144">dgraph_del_vertices/3</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2135">dgraph_edge/2</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2138">dgraph_edges/2</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2153">dgraph_neighbors/3</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2156">dgraph_neighbours/3</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2129">dgraph_new/1</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2171">dgraph_symmetric_closure/2</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2177">dgraph_to_ugraph/2</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2216">dgraph_to_undgraph/2</a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2174">dgraph_top_sort/2</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2168">dgraph_transitive_closure/2</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2162">dgraph_transpose/2</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2132">dgraph_vertices/2</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2354">dif/2</a></td><td valign="top"><a href="#SEC109">9.2 Co-routining</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1901">directory_files/2</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX86">discontiguous/1 (directive)</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX552">display/1</a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX624">display/1</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX633">display/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX50">do_not_compile_expressions/0</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX325">duplicate_term/2</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX752">dynamic/1</a></td><td valign="top"><a href="#SEC54">6.10 Using the Clausal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX755">dynamic_predicate/2</a></td><td valign="top"><a href="#SEC54">6.10 Using the Clausal Data Base</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC182_7">E</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2087">edges/2</a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX116">elif/1</a></td><td valign="top"><a href="#SEC28">4.3 Conditional Compilation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX110">else/0</a></td><td valign="top"><a href="#SEC28">4.3 Conditional Compilation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1247">empty_assoc/1</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1301">empty_heap/1</a></td><td valign="top"><a href="#SEC76">7.4 Heaps</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1706">empty_queue/1</a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX113">endif/0</a></td><td valign="top"><a href="#SEC28">4.3 Conditional Compilation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX941">environ/2</a></td><td valign="top"><a href="#SEC62">6.15 Access to Operating System Functionality</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1919">environ/2</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX869">eraseall/1</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1940">exec/3</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC182_8">F</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX176">false/0</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX448">file_base_name/2</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1904">file_exists/1</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1907">file_exists/2</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1910">file_property/2</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX95">file_search_path/2</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX908">findall/4</a></td><td valign="top"><a href="#SEC60">6.13 Collecting Solutions to a Goal</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1331">flatten/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX277">float/1</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX457">flush_output/0</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX460">flush_output/1</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2312">forall/2</a></td><td valign="top"><a href="#SEC102">8.2 Forall</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX564">format/2</a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX567">format/3</a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1850">format_to_chars/3</a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1853">format_to_chars/4</a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2045">fragile</a></td><td valign="top"><a href="#SEC93">7.21 Call Cleanup</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2357">freeze/2</a></td><td valign="top"><a href="#SEC109">9.2 Co-routining</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2360">frozen/2</a></td><td valign="top"><a href="#SEC109">9.2 Co-routining</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC182_9">G</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX230">garbage_collect/0</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX233">garbage_collect_atoms/0</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX236">gc/0</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1250">gen_assoc/3</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX651">get/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX654">get0/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1262">get_assoc/3</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1256">get_assoc/5</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2318">get_attr/3</a></td><td valign="top"><a href="#SEC103">8.3 hProlog and SWI-Prolog Attributed Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2327">get_attrs/2</a></td><td valign="top"><a href="#SEC104">8.3.1 Special Purpose SWI Predicates for Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2372">get_atts/2</a></td><td valign="top"><a href="#SEC112">10.2 Attribute Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX588">get_byte/1</a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX657">get_byte/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX591">get_char/1</a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX660">get_char/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX594">get_code/1</a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX663">get_code/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1304">get_from_heap/4</a></td><td valign="top"><a href="#SEC76">7.4 Heaps</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2063">get_label/3</a></td><td valign="top"><a href="#SEC95">7.23 Updatable Binary Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX975">get_mutable/2</a></td><td valign="top"><a href="#SEC63">6.16 Term Modification</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX981">get_mutable/2</a></td><td valign="top"><a href="#SEC63">6.16 Term Modification</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1253">get_next_assoc/4</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1259">get_prev_assoc/4</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX881">get_value/2</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX944">getcwd/1</a></td><td valign="top"><a href="#SEC62">6.15 Access to Operating System Functionality</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1718">getrand/1</a></td><td valign="top"><a href="#SEC84">7.12 Random Number Generator</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX926">goal_expansion/3</a></td><td valign="top"><a href="#SEC61">6.14 Grammar Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX301">ground/1</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX241">grow_heap/1</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX244">grow_stack/1</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC182_10">H</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX221">halt/1</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1700">head_queue/2</a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1307">heap_size/2</a></td><td valign="top"><a href="#SEC76">7.4 Heaps</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1310">heap_to_list/2</a></td><td valign="top"><a href="#SEC76">7.4 Heaps</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX53">hide/1</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX59">hide_predicate/1</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1922">host_id/1</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1925">host_name/1</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC182_11">I</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX107">if/1</a></td><td valign="top"><a href="#SEC28">4.3 Conditional Compilation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX206">if/3</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX200">incore/1</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1184">initialization/0</a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX89">initialization/1 (directive)</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1265">is_assoc/1</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1334">is_list/1</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX978">is_mutable/1</a></td><td valign="top"><a href="#SEC63">6.16 Term Modification</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1760">is_rbtree/1</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX454">is_stream/1</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2498">is_tabled/1</a></td><td valign="top"><a href="#SEC152">16. Tabling</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC182_12">J</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1688">join_queue/3</a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1694">jump_queue/3</a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC182_13">K</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX878">key_statistics/3</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX875">key_statistics/4</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1928">kill/2</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC182_14">L</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1337">last/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1709">length_queue/2</a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX92">library_directory/1</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX98">library_directory/1</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX496">line_count/2</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX502">line_position/2</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1340">list_concat/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1691">list_join_queue/3</a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1697">list_jump_queue/3</a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1268">list_to_assoc/2</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1313">list_to_heap/2</a></td><td valign="top"><a href="#SEC76">7.4 Heaps</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1619">list_to_ord_set/2</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1712">list_to_queue/2</a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1820">list_to_rbtree/2</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1823">list_to_rbtree/2</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2066">list_to_tree/2</a></td><td valign="top"><a href="#SEC95">7.23 Updatable Binary Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX29">load_files/2</a></td><td valign="top"><a href="#SEC26">4.1 Program loading and updating</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC182_15">M</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1913">make_directory/2</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1685">make_queue/1</a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1271">map_assoc/2</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1274">map_assoc/3</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2069">map_tree/3</a></td><td valign="top"><a href="#SEC95">7.23 Updatable Binary Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1220">mapargs/3</a></td><td valign="top"><a href="#SEC73">7.1 Apply Macros</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2303">maplist/2</a></td><td valign="top"><a href="#SEC101">8.1 Invoking Predicates on all Members of a List</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1205">maplist/3</a></td><td valign="top"><a href="#SEC73">7.1 Apply Macros</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2306">maplist/3</a></td><td valign="top"><a href="#SEC101">8.1 Invoking Predicates on all Members of a List</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2309">maplist/4</a></td><td valign="top"><a href="#SEC101">8.1 Invoking Predicates on all Members of a List</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1226">mapnodes/3</a></td><td valign="top"><a href="#SEC73">7.1 Apply Macros</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1508">matlab_cells/2</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1511">matlab_cells/3</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1502">matlab_eval_string/1</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1505">matlab_eval_string/2</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1523">matlab_get_variable/2</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1514">matlab_initialized_cells/4</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1526">matlab_item/3</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1532">matlab_item/3</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1529">matlab_item/4</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1535">matlab_item/4</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1517">matlab_matrix/4</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1499">matlab_on/0</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1538">matlab_sequence/3</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1520">matlab_set/4</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1541">matlab_vector/4</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1544">matlab_zeros/2</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1547">matlab_zeros/3</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1550">matlab_zeros/4</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1553">matlab_zeros/4</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1427">matrix_add/3</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1466">matrix_agg_cols/2</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1463">matrix_agg_lines/2</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1442">matrix_arg_to_offset/3</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1436">matrix_dec/2</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1439">matrix_dec/3</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1403">matrix_dims/2</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1487">matrix_expand/3</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1418">matrix_get/3</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1430">matrix_inc/2</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1433">matrix_inc/3</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1448">matrix_max/2</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1451">matrix_maxarg/2</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1454">matrix_min/2</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1457">matrix_minarg/2</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1406">matrix_ndims/2</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1394">matrix_new/3</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1397">matrix_new/4</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1400">matrix_new_set/4</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1445">matrix_offset_to_arg/3</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1469">matrix_op/4</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1472">matrix_op/4</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1478">matrix_op_to_cols/4</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1475">matrix_op_to_lines/4</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1484">matrix_reorder/3</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1490">matrix_select/3</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1421">matrix_set/3</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1424">matrix_set_all/2</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1481">matrix_shuffle/3</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1409">matrix_size/2</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1460">matrix_sum/2</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1415">matrix_to_list/2</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1412">matrix_type/2</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1277">max_assoc/3</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1388">max_list/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1343">member/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1346">memberchk/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1622">merge/3</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX259">message_hook/3</a></td><td valign="top"><a href="#SEC39">6.3 Message Handling</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2450">message_queue_create/1</a></td><td valign="top"><a href="#SEC147">14.3.1 Message Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2453">message_queue_destroy/1</a></td><td valign="top"><a href="#SEC147">14.3.1 Message Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX152">meta_predicate/1 (directive)</a></td><td valign="top"><a href="#SEC34">5.4 Meta-Predicates in Modules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1280">min_assoc/3</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1391">min_list/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1316">min_of_heap/3</a></td><td valign="top"><a href="#SEC76">7.4 Heaps</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1319">min_of_heap/5</a></td><td valign="top"><a href="#SEC76">7.4 Heaps</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1931">mktemp/2</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1892">mktime/2</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX140">module/1</a></td><td valign="top"><a href="#SEC32">5.2 Defining a New Module</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX134">module/2 (directive)</a></td><td valign="top"><a href="#SEC32">5.2 Defining a New Module</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX137">module/3 (directive)</a></td><td valign="top"><a href="#SEC32">5.2 Defining a New Module</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX155">module_transparent/1 (directive)</a></td><td valign="top"><a href="#SEC34">5.4 Meta-Predicates in Modules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2258">mpi_barrier/0</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2261">mpi_bcast/2</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2264">mpi_bcast/3</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2267">mpi_bcast/3</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2228">mpi_comm_rank/1</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2225">mpi_comm_size/1</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2222">mpi_finalize/0</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2270">mpi_gc/0</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2219">mpi_init/0</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2243">mpi_irecv/3</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2237">mpi_isend/4</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2240">mpi_recv/3</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2234">mpi_send/3</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2255">mpi_test/2</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2249">mpi_test_recv/3</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2231">mpi_version/2</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2252">mpi_wait/2</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2246">mpi_wait_recv/3</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX83">multifile/1 (directive)</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2471">mutex_create/1</a></td><td valign="top"><a href="#SEC150">14.4 Thread Synchronisation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2474">mutex_destroy/1</a></td><td valign="top"><a href="#SEC150">14.4 Thread Synchronisation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2480">mutex_lock/1</a></td><td valign="top"><a href="#SEC150">14.4 Thread Synchronisation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2435">mutex_statistics/0</a></td><td valign="top"><a href="#SEC145">14.2 Monitoring Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2483">mutex_trylock/1</a></td><td valign="top"><a href="#SEC150">14.4 Thread Synchronisation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2486">mutex_unlock/1</a></td><td valign="top"><a href="#SEC150">14.4 Thread Synchronisation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2489">mutex_unlock_all/0</a></td><td valign="top"><a href="#SEC150">14.4 Thread Synchronisation</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC182_16">N</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1598">nb_beam/1</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1604">nb_beam_add/3</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1601">nb_beam_close/1</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1607">nb_beam_del/3</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1616">nb_beam_empty/1</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1610">nb_beam_peek/3</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1613">nb_beam_size/2</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1014">nb_current/2</a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2348">nb_current/2</a></td><td valign="top"><a href="#SEC105">8.4 SWI Global variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2351">nb_delete/1</a></td><td valign="top"><a href="#SEC105">8.4 SWI Global variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1017">nb_delete/2</a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX996">nb_getval/2</a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2345">nb_getval/2</a></td><td valign="top"><a href="#SEC105">8.4 SWI Global variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1577">nb_heap/1</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1583">nb_heap_add/3</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1580">nb_heap_close/1</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1586">nb_heap_del/3</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1595">nb_heap_empty/1</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1589">nb_heap_peek/3</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1592">nb_heap_size/2</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1011">nb_linkarg/3</a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX999">nb_linkval/2</a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1556">nb_queue/1</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1559">nb_queue_close/3</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1565">nb_queue_dequeue/2</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1574">nb_queue_empty/1</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1562">nb_queue_enqueue/2</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1568">nb_queue_peek/2</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1571">nb_queue_size/2</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1008">nb_set_shared_arg/3</a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1002">nb_set_shared_val/2</a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1005">nb_setarg/3</a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX993">nb_setval/2</a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2342">nb_setval/2</a></td><td valign="top"><a href="#SEC105">8.4 SWI Global variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2105">neighbors/3</a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2108">neighbours/3</a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX681">nl/1</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX44">no_source/0</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX239">nogc/0</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2550">nospyall/0</a></td><td valign="top"><a href="#SEC156">19.1 Debugging Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1352">nth/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1358">nth/4</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1349">nth0/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1355">nth0/4</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2288">nth1/3</a></td><td valign="top"><a href="#SEC100">8. SWI-Prolog Emulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX857">nth_recorded/3</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX358">number_atom/2</a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX349">number_chars/2</a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX352">number_codes/2</a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1868">number_to_chars/2</a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1871">number_to_chars/3</a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX298">numbervars/3</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC182_17">O</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2054">on_cleanup/1</a></td><td valign="top"><a href="#SEC93">7.21 Call Cleanup</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX965">on_signal/3</a></td><td valign="top"><a href="#SEC62">6.15 Access to Operating System Functionality</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX209">once/1</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX427">open/3</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX430">open/4</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1877">open_chars_stream/2</a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1625">ord_add_element/3</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1628">ord_del_element/3</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1631">ord_disjoint/2</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1637">ord_insert/3</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1640">ord_intersect/2</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1643">ord_intersect/3</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1646">ord_intersect/4</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1283">ord_list_to_assoc/2</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1634">ord_member/2</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1649">ord_seteq/2</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1652">ord_setproduct/3</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1658">ord_subtract/3</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1661">ord_symdiff/3</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1664">ord_union/2</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1667">ord_union/3</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1670">ord_union/4</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1655">ordsubset/2</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC182_18">P</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX65">path/1</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX68">path/1</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX71">path/1</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX597">peek_byte/1</a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX666">peek_byte/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX600">peek_char/1</a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX669">peek_char/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX603">peek_code/1</a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX672">peek_code/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1361">permutation/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX932">phrase/2</a></td><td valign="top"><a href="#SEC61">6.14 Grammar Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX929">phrase/3</a></td><td valign="top"><a href="#SEC61">6.14 Grammar Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1934">pid/1</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1946">popen/3</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX803">portray_clause/1</a></td><td valign="top"><a href="#SEC56">6.10.2 Looking at the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX806">portray_clause/2</a></td><td valign="top"><a href="#SEC56">6.10.2 Looking at the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX821">predicate_property/2</a></td><td valign="top"><a href="#SEC56">6.10.2 Looking at the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX636">print/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX253">print_message/2</a></td><td valign="top"><a href="#SEC39">6.3 Message Handling</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX256">print_message_lines/3</a></td><td valign="top"><a href="#SEC39">6.3 Message Handling</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1020">profile_data/3</a></td><td valign="top"><a href="#SEC66">6.18.1 The Count Profiler</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1023">profiled_reset/0</a></td><td valign="top"><a href="#SEC66">6.18.1 The Count Profiler</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1026">profinit/0</a></td><td valign="top"><a href="#SEC67">6.18.2 Tick Profiler</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1032">profoff/0</a></td><td valign="top"><a href="#SEC67">6.18.2 Tick Profiler</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1029">profon/0</a></td><td valign="top"><a href="#SEC67">6.18.2 Tick Profiler</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2387">project_attributes/2</a></td><td valign="top"><a href="#SEC114">10.4 Displaying Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2390">project_attributes/2</a></td><td valign="top"><a href="#SEC115">10.5 Projecting Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX101">prolog_file_name/2</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1169">prolog_flag/3</a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1187">prolog_initialization/1</a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1196">prolog_load_context/2</a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX104">public/1 (directive)</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX639">put/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1286">put_assoc/4</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2315">put_attr/3</a></td><td valign="top"><a href="#SEC103">8.3 hProlog and SWI-Prolog Attributed Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2330">put_attrs/2</a></td><td valign="top"><a href="#SEC104">8.3.1 Special Purpose SWI Predicates for Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2375">put_atts/2</a></td><td valign="top"><a href="#SEC112">10.2 Attribute Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX573">put_byte/1</a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX642">put_byte/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX576">put_char/1</a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX645">put_char/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX579">put_code/1</a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX648">put_code/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2072">put_label/4</a></td><td valign="top"><a href="#SEC95">7.23 Updatable Binary Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX947">putenv/2</a></td><td valign="top"><a href="#SEC62">6.15 Access to Operating System Functionality</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC182_19">Q</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1715">queue_to_list/2</a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC182_20">R</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1721">random/1</a></td><td valign="top"><a href="#SEC84">7.12 Random Number Generator</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1724">random/3</a></td><td valign="top"><a href="#SEC84">7.12 Random Number Generator</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1727">randseq/3</a></td><td valign="top"><a href="#SEC84">7.12 Random Number Generator</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1730">randset/3</a></td><td valign="top"><a href="#SEC84">7.12 Random Number Generator</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1673">rannum/1</a></td><td valign="top"><a href="#SEC82">7.10 Pseudo Random Number Integer Generator</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1676">ranstart/0</a></td><td valign="top"><a href="#SEC82">7.10 Pseudo Random Number Integer Generator</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1679">ranstart/1</a></td><td valign="top"><a href="#SEC82">7.10 Pseudo Random Number Integer Generator</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1682">ranunif/2</a></td><td valign="top"><a href="#SEC82">7.10 Pseudo Random Number Integer Generator</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1787">rb_apply/4</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1805">rb_clone/3</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1781">rb_del_max/4</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1778">rb_del_min/4</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1772">rb_delete/3</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1775">rb_delete/4</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1757">rb_empty/1</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1763">rb_insert/4</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1796">rb_keys/2</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1766">rb_lookup/3</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1769">rb_lookupall/3</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1799">rb_map/3</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1811">rb_max/3</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1808">rb_min/3</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1754">rb_new/1</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1814">rb_next/4</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1802">rb_partial_map/4</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1817">rb_previous/4</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1793">rb_size/2</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1784">rb_update/4</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1790">rb_visit/2</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2126">reachable/3</a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX615">read/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1748">read_file_to_codes/3</a></td><td valign="top"><a href="#SEC85">7.13 Read Utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1751">read_file_to_terms/3</a></td><td valign="top"><a href="#SEC85">7.13 Read Utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1874">read_from_chars/2</a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1736">read_line_to_codes/2</a></td><td valign="top"><a href="#SEC85">7.13 Read Utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1739">read_line_to_codes/3</a></td><td valign="top"><a href="#SEC85">7.13 Read Utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1742">read_stream_to_codes/3</a></td><td valign="top"><a href="#SEC85">7.13 Read Utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1745">read_stream_to_codes/3</a></td><td valign="top"><a href="#SEC85">7.13 Read Utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX532">read_term/2</a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX618">read_term/3</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX851">recorda/3</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX842">recorda_at/3</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX848">recordaifnot/3</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX890">recordaifnot/3</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX845">recordz_at/3</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX887">recordzifnot/3</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX158">reexport/1</a></td><td valign="top"><a href="#SEC35">5.5 Re-Exporting Predicates From Other Modules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX161">reexport/2</a></td><td valign="top"><a href="#SEC35">5.5 Re-Exporting Predicates From Other Modules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1826">regexp/3</a></td><td valign="top"><a href="#SEC87">7.15 Regular Expressions</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1829">regexp/4</a></td><td valign="top"><a href="#SEC87">7.15 Regular Expressions</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1364">remove_duplicates/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX74">remove_from_path/1</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1916">rename_file/2</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2526">reset_op_counters/0</a></td><td valign="top"><a href="#SEC154">18. Profiling the Abstract Machine</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1071">resize_static_array/3</a></td><td valign="top"><a href="#SEC69">6.20 Arrays</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX131">restore/1</a></td><td valign="top"><a href="#SEC29">4.4 Saving and Loading Prolog States</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX791">retract/1</a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX794">retractall/1</a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1367">reverse/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC182_21">S</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1370">same_length/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX122">save/2</a></td><td valign="top"><a href="#SEC29">4.4 Saving and Loading Prolog States</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX125">save_program/1</a></td><td valign="top"><a href="#SEC29">4.4 Saving and Loading Prolog States</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX128">save_program/2</a></td><td valign="top"><a href="#SEC29">4.4 Saving and Loading Prolog States</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1373">select/3</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1211">selectlist/3</a></td><td valign="top"><a href="#SEC73">7.1 Apply Macros</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1703">serve_queue/3</a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX463">set_input/1</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX466">set_output/1</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1172">set_prolog_flag/2</a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX484">set_stream_position/2</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX884">set_value/2</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX968">setarg/3n</a></td><td valign="top"><a href="#SEC63">6.16 Term Modification</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2291">setenv/2</a></td><td valign="top"><a href="#SEC100">8. SWI-Prolog Emulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1733">setrand/1</a></td><td valign="top"><a href="#SEC84">7.12 Random Number Generator</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1949">shell/0</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1952">shell/1</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1955">shell/1</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2529">show_op_counters/1</a></td><td valign="top"><a href="#SEC154">18. Profiling the Abstract Machine</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2532">show_ops_by_group/1</a></td><td valign="top"><a href="#SEC154">18. Profiling the Abstract Machine</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2511">show_table/1</a></td><td valign="top"><a href="#SEC152">16. Tabling</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1035">showprofres/0</a></td><td valign="top"><a href="#SEC67">6.18.2 Tick Profiler</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1038">showprofres/1</a></td><td valign="top"><a href="#SEC67">6.18.2 Tick Profiler</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX292">simple/1</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX675">skip/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1958">sleep/1</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX722">socket/2</a></td><td valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX719">socket/4</a></td><td valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX737">socket_accept/2</a></td><td valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX743">socket_accept/2</a></td><td valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX740">socket_accept/3</a></td><td valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX728">socket_bind/2</a></td><td valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX746">socket_buffering/4</a></td><td valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX725">socket_close/1</a></td><td valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX731">socket_connect/3</a></td><td valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX734">socket_listen/2</a></td><td valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX749">socket_select/5</a></td><td valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX41">source/0</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX38">source_mode/2</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1832">splay_access/5</a></td><td valign="top"><a href="#SEC88">7.16 Splay Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1835">splay_delete/4</a></td><td valign="top"><a href="#SEC88">7.16 Splay Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1838">splay_init/3</a></td><td valign="top"><a href="#SEC88">7.16 Splay Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1841">splay_insert/4</a></td><td valign="top"><a href="#SEC88">7.16 Splay Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1844">splay_join/3</a></td><td valign="top"><a href="#SEC88">7.16 Splay Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1847">splay_split/5</a></td><td valign="top"><a href="#SEC88">7.16 Splay Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2556">spy_write/2</a></td><td valign="top"><a href="#SEC156">19.1 Debugging Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX424">srandom/1</a></td><td valign="top"><a href="#SEC44">6.8 Arithmetic</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2520">start_low_level_trace/0</a></td><td valign="top"><a href="#SEC153">17. Tracing at Low Level</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2523">start_low_level_trace/0</a></td><td valign="top"><a href="#SEC153">17. Tracing at Low Level</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1493">start_matlab/1</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1053">static_array/3</a></td><td valign="top"><a href="#SEC69">6.20 Arrays</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1065">static_array/3</a></td><td valign="top"><a href="#SEC69">6.20 Arrays</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1056">static_array_location/4</a></td><td valign="top"><a href="#SEC69">6.20 Arrays</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1059">static_array_properties/3</a></td><td valign="top"><a href="#SEC69">6.20 Arrays</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1062">static_array_to_term/3</a></td><td valign="top"><a href="#SEC69">6.20 Arrays</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1092">statistics/2</a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX505">stream_position/2</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX508">stream_position_data/3</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX487">stream_property/2</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX469">stream_select/3</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX77">style_check/1</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX80">style_check/1</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX361">sub_atom/5</a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1376">sublist/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1988">subsumes/2</a></td><td valign="top"><a href="#SEC91">7.19 Utilities On Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1991">subsumes_chk/2</a></td><td valign="top"><a href="#SEC91">7.19 Utilities On Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1379">suffix/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1382">sum_list/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1223">sumargs/4</a></td><td valign="top"><a href="#SEC73">7.1 Apply Macros</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1385">sumlist/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1217">sumlist/4</a></td><td valign="top"><a href="#SEC73">7.1 Apply Macros</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1232">sumnodes/4</a></td><td valign="top"><a href="#SEC73">7.1 Apply Macros</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1961">system/0</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1964">system/2</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX818">system_predicate/2</a></td><td valign="top"><a href="#SEC56">6.10.2 Looking at the Data Base</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC182_22">T</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX678">tab/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2495">table/1</a></td><td valign="top"><a href="#SEC152">16. Tabling</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2514">table_statistics/1</a></td><td valign="top"><a href="#SEC152">16. Tabling</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2501">tabling_mode/2</a></td><td valign="top"><a href="#SEC152">16. Tabling</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2517">tabling_statistics/0</a></td><td valign="top"><a href="#SEC152">16. Tabling</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1976">term_hash/2</a></td><td valign="top"><a href="#SEC91">7.19 Utilities On Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1979">term_hash/4</a></td><td valign="top"><a href="#SEC91">7.19 Utilities On Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2294">term_to_atom/2</a></td><td valign="top"><a href="#SEC100">8. SWI-Prolog Emulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1982">term_variables/2</a></td><td valign="top"><a href="#SEC91">7.19 Utilities On Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2417">thread_at_exit/1</a></td><td valign="top"><a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2399">thread_create/1</a></td><td valign="top"><a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2396">thread_create/2</a></td><td valign="top"><a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2393">thread_create/3</a></td><td valign="top"><a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2408">thread_detach/1</a></td><td valign="top"><a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2414">thread_exit/1</a></td><td valign="top"><a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2447">thread_get_message/1</a></td><td valign="top"><a href="#SEC147">14.3.1 Message Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2456">thread_get_message/2</a></td><td valign="top"><a href="#SEC147">14.3.1 Message Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2405">thread_join/2</a></td><td valign="top"><a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2468">thread_local/1 (directive)</a></td><td valign="top"><a href="#SEC149">14.3.3 Threads and Dynamic Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2459">thread_peek_message/1</a></td><td valign="top"><a href="#SEC147">14.3.1 Message Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2462">thread_peek_message/2</a></td><td valign="top"><a href="#SEC147">14.3.1 Message Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2426">thread_property/2</a></td><td valign="top"><a href="#SEC145">14.2 Monitoring Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2402">thread_self/1</a></td><td valign="top"><a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2441">thread_send_message/1</a></td><td valign="top"><a href="#SEC147">14.3.1 Message Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2444">thread_send_message/2</a></td><td valign="top"><a href="#SEC147">14.3.1 Message Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2420">thread_setconcurrency/2</a></td><td valign="top"><a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2465">thread_signal/2</a></td><td valign="top"><a href="#SEC148">14.3.2 Signalling Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2423">thread_sleep/1</a></td><td valign="top"><a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2432">thread_statistics/3</a></td><td valign="top"><a href="#SEC145">14.2 Monitoring Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2411">thread_yield/0</a></td><td valign="top"><a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2438">threads/0</a></td><td valign="top"><a href="#SEC145">14.2 Monitoring Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX227">throw/1</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1105">time/1</a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX439">time_file/2</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2060">time_out/3</a></td><td valign="top"><a href="#SEC94">7.22 Calls With Timeout</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1937">tmpnam/1</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2117">top_sort/2</a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2120">top_sort/3</a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2123">transitive_closure/2</a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2102">transpose/3</a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2075">tree_size/2</a></td><td valign="top"><a href="#SEC95">7.23 Updatable Binary Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2078">tree_to_list/2</a></td><td valign="top"><a href="#SEC95">7.23 Updatable Binary Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2015">trie_check_entry/3</a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2003">trie_close/2</a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2006">trie_close_all/0</a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2018">trie_get_entry/2</a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2030">trie_load/2</a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2036">trie_max_stats/4</a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2009">trie_mode/1</a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2000">trie_open/2</a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2042">trie_print/1</a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2012">trie_put_entry/3</a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2021">trie_remove_entry/1</a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2024">trie_remove_subtree/1</a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2027">trie_save/2</a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2033">trie_stats/4</a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2039">trie_usage/4</a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX687">ttyget/1</a></td><td valign="top"><a href="#SEC51">6.9.6 Compatible C-Prolog predicates for Terminal I/O</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX690">ttyget0/1</a></td><td valign="top"><a href="#SEC51">6.9.6 Compatible C-Prolog predicates for Terminal I/O</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX699">ttynl/0</a></td><td valign="top"><a href="#SEC51">6.9.6 Compatible C-Prolog predicates for Terminal I/O</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX684">ttyput/1</a></td><td valign="top"><a href="#SEC51">6.9.6 Compatible C-Prolog predicates for Terminal I/O</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX693">ttyskip/1</a></td><td valign="top"><a href="#SEC51">6.9.6 Compatible C-Prolog predicates for Terminal I/O</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX696">ttytab/1</a></td><td valign="top"><a href="#SEC51">6.9.6 Compatible C-Prolog predicates for Terminal I/O</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC182_23">U</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2180">ugraph_to_dgraph/2</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2201">undgraph_add_edges/3</a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2195">undgraph_add_vertices/3</a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2213">undgraph_complement/2</a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2204">undgraph_del_edges/3</a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2198">undgraph_del_vertices/3</a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2189">undgraph_edge/2</a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2192">undgraph_edges/2</a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2207">undgraph_neighbors/3</a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2210">undgraph_neighbours/3</a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2183">undgraph_new/1</a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2186">undgraph_vertices/2</a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX56">unhide/1</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1997">unifiable/3</a></td><td valign="top"><a href="#SEC91">7.19 Utilities On Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX319">unify_with_occurs_check/2</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX959">unix/1</a></td><td valign="top"><a href="#SEC62">6.15 Access to Operating System Functionality</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX247">unknown/2</a></td><td valign="top"><a href="#SEC38">6.2 Handling Undefined Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX250">unknown_predicate_handler/3</a></td><td valign="top"><a href="#SEC38">6.2 Handling Undefined Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1077">update_array/3</a></td><td valign="top"><a href="#SEC69">6.20 Arrays</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX984">update_mutable/2</a></td><td valign="top"><a href="#SEC63">6.16 Term Modification</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX143">use_module/1</a></td><td valign="top"><a href="#SEC33">5.3 Using Modules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX146">use_module/2</a></td><td valign="top"><a href="#SEC33">5.3 Using Modules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX149">use_module/3</a></td><td valign="top"><a href="#SEC33">5.3 Using Modules</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC182_24">V</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1994">variable_in_term/2</a></td><td valign="top"><a href="#SEC91">7.19 Utilities On Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1985">variant/2</a></td><td valign="top"><a href="#SEC91">7.19 Utilities On Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2378">verify_attributes/3</a></td><td valign="top"><a href="#SEC113">10.3 Attributed Unification</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1190">version/0</a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1193">version/1</a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2084">vertices/2</a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2081">vertices_edges_to_ugraph/3</a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC182_25">W</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1967">wait/2</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2363">when/2</a></td><td valign="top"><a href="#SEC109">9.2 Co-routining</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2477">with_mutex/2</a></td><td valign="top"><a href="#SEC150">14.4 Thread Synchronisation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1880">with_output_to_chars/2</a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1883">with_output_to_chars/3</a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1886">with_output_to_chars/4</a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2297">working_directory/2</a></td><td valign="top"><a href="#SEC100">8. SWI-Prolog Emulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1943">working_directory/2    </a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX621">write/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX711">write_depth/3</a></td><td valign="top"><a href="#SEC52">6.9.7 Controlling Input/Output</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX555">write_term/2</a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX627">write_term/3</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1856">write_to_chars/2</a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1859">write_to_chars/3</a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX630">writeq/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC182_26">Y</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1108">yap_flag/2</a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#SEC182_0" class="summary-letter"><b>-</b></a>
 &nbsp; 
<a href="#SEC182_1" class="summary-letter"><b>=</b></a>
 &nbsp; 
<a href="#SEC182_2" class="summary-letter"><b>\</b></a>
 &nbsp; 
<br>
<a href="#SEC182_3" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#SEC182_4" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#SEC182_5" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#SEC182_6" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#SEC182_7" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#SEC182_8" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#SEC182_9" class="summary-letter"><b>G</b></a>
 &nbsp; 
<a href="#SEC182_10" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#SEC182_11" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#SEC182_12" class="summary-letter"><b>J</b></a>
 &nbsp; 
<a href="#SEC182_13" class="summary-letter"><b>K</b></a>
 &nbsp; 
<a href="#SEC182_14" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#SEC182_15" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#SEC182_16" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#SEC182_17" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#SEC182_18" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#SEC182_19" class="summary-letter"><b>Q</b></a>
 &nbsp; 
<a href="#SEC182_20" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#SEC182_21" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#SEC182_22" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#SEC182_23" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#SEC182_24" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#SEC182_25" class="summary-letter"><b>W</b></a>
 &nbsp; 
<a href="#SEC182_26" class="summary-letter"><b>Y</b></a>
 &nbsp; 
</td></tr></table>

<hr size="6">
<a name="Not-in-YAP"></a>
<a name="SEC183"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC182" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC184" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC177" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC178" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC190" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 23.1.5 YAP predicates not available in C-Prolog </h3>

<p>These are C-Prolog built-ins not available in YAP:
</p>
<dl compact="compact">
<dt> <code>'LC'</code></dt>
<dd><p>The following Prolog text uses lower case letters.
</p>
</dd>
<dt> <code>'NOLC'</code></dt>
<dd><p>The following Prolog text uses upper case letters only.
</p></dd>
</dl>

<hr size="6">
<a name="SICStus-Prolog"></a>
<a name="SEC184"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC183" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC185" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC177" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC190" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 23.2 Compatibility with the Quintus and SICStus Prolog systems </h2>

<p>The Quintus Prolog system was the first Prolog compiler to use Warren's
Abstract Machine. This system was very influential in the Prolog
community. Quintus Prolog implemented compilation into an abstract
machine code, which was then emulated. Quintus Prolog also included
several new built-ins, an extensive library, and in later releases a
garbage collector. The SICStus Prolog system, developed at SICS (Swedish
Institute of Computer Science), is an emulator based Prolog system
largely compatible with Quintus Prolog. SICStus Prolog has evolved
through several versions. The current version includes several
extensions, such as an object implementation, co-routining, and
constraints.
</p>
<p>Recent work in YAP has been influenced by work in Quintus and
SICStus Prolog. Wherever possible, we have tried to make YAP
compatible with recent versions of these systems, and specifically of
SICStus Prolog. You should use 
</p><table><tr><td>&nbsp;</td><td><pre class="example">:- yap_flag(language, sicstus).
</pre></td></tr></table>
<p>for maximum compatibility with SICStus Prolog.
</p>
<table class="menu" border="0" cellspacing="0">
<p>SICStus Compatibility
<a href="#SEC185">23.2.1 Major Differences between YAP and SICStus Prolog.</a>&nbsp; Major Differences between YAP and SICStus Prolog
<a href="#SEC186">23.2.2 YAP predicates fully compatible with SICStus Prolog</a>&nbsp; YAP predicates fully compatible with
SICStus Prolog
<a href="#SEC187">23.2.3 YAP predicates not strictly compatible with SICStus Prolog</a>&nbsp; YAP predicates not strictly as
SICStus Prolog
<a href="#SEC188">23.2.4 YAP predicates not available in SICStus Prolog</a>&nbsp; YAP predicates not available in SICStus Prolog
</p></table>

<hr size="6">
<a name="Major-Differences-with-SICStus"></a>
<a name="SEC185"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC184" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC186" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC177" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC184" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC190" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 23.2.1 Major Differences between YAP and SICStus Prolog. </h3>

<p>Both YAP and SICStus Prolog obey the Edinburgh Syntax and are based on
the WAM. Even so, there are quite a few important differences:
</p>
<ul>
<li> Differently from SICStus Prolog, YAP does not have a
notion of interpreted code. All code in YAP is compiled.

</li><li> YAP does not support an intermediate byte-code
representation, so the <code>fcompile/1</code> and <code>load/1</code> built-ins are
not available in YAP.

</li><li> YAP implements escape sequences as in the ISO standard. SICStus
Prolog implements Unix-like escape sequences.

</li><li> YAP implements <code>initialization/1</code> as per the ISO
standard. Use <code>prolog_initialization/1</code> for the SICStus Prolog
compatible built-in.

</li><li> Prolog flags are different in SICStus Prolog and in YAP.

</li><li> The SICStus Prolog <code>on_exception/3</code> and
<code>raise_exception</code> built-ins correspond to the ISO built-ins
<code>catch/3</code> and <code>throw/1</code>.

</li><li> The following SICStus Prolog v3 built-ins are not (currently)
implemented in YAP (note that this is only a partial list):
<code>call_cleanup/1</code>, <code>file_search_path/2</code>,
<code>stream_interrupt/3</code>, <code>reinitialize/0</code>, <code>help/0</code>,
<code>help/1</code>, <code>trimcore/0</code>, <code>load_files/1</code>,
<code>load_files/2</code>, and <code>require/1</code>.

<p>      The previous list is incomplete. We also cannot guarantee full
compatibility for other built-ins (although we will try to address any
such incompatibilities). Last, SICStus Prolog is an evolving system, so
one can be expect new incompatibilities to be introduced in future
releases of SICStus Prolog.
</p>
</li><li> YAP allows asserting and abolishing static code during
execution through the <code>assert_static/1</code> and <code>abolish/1</code>
built-ins. This is not allowed in Quintus Prolog or SICStus Prolog.

</li><li> YAP implements rational trees and co-routining but they
are not included by default in the system. You must enable these
extensions when compiling the system.

</li><li> YAP does not currently implement constraints.

</li><li> The socket predicates, although designed to be compatible with
SICStus Prolog, are built-ins, not library predicates, in YAP.

</li><li> This list is incomplete.

</li></ul>

<p>The following differences only exist if the <code>language</code> flag is set
to <code>yap</code> (the default):
</p>
<ul>
<li> The <code>consult/1</code> predicate in YAP follows C-Prolog
semantics. That is, it adds clauses to the data base, even for
preexisting procedures. This is different from <code>consult/1</code> in
SICStus Prolog.

<a name="IDX2646"></a>
</li><li> By default, the data-base in YAP follows &quot;immediate update
semantics&quot;, instead of &quot;logical update semantics&quot;, as Quintus Prolog or
SICStus Prolog do. The difference is depicted in the next example:

<table><tr><td>&nbsp;</td><td><pre class="example">:- dynamic a/1.

?- assert(a(1)).

?- retract(a(X)), X1 is X +1, assertz(a(X)).
</pre></td></tr></table>
<p>With immediate semantics, new clauses or entries to the data base are
visible in backtracking. In this example, the first call to
<code>retract/1</code> will succeed. The call to <strong>assertz/1</strong> will then
succeed. On backtracking, the system will retry
<code>retract/1</code>. Because the newly asserted goal is visible to
<code>retract/1</code>, it can be retracted from the data base, and
<code>retract(a(X))</code> will succeed again. The process will continue
generating integers for ever. Immediate semantics were used in C-Prolog.
</p>
<p>With logical update semantics, any additions or deletions of clauses
for a goal <em>will not affect previous activations of the
goal</em>. In the example, the call to <code>assertz/1</code> will not see the
update performed by the <code>assertz/1</code>, and the query will have a
single solution.
</p>
<p>Calling <code>yap_flag(update_semantics,logical)</code> will switch
YAP to use logical update semantics.
</p>
</li><li> <code>dynamic/1</code> is a built-in, not a directive, in YAP.

</li><li> By default, YAP fails on undefined predicates. To follow default
SICStus Prolog use:
<table><tr><td>&nbsp;</td><td><pre class="example">:- yap_flag(unknown,error).
</pre></td></tr></table>

</li><li> By default, directives in YAP can be called from the top level.

</li></ul>

<hr size="6">
<a name="Fully-SICStus-Compatible"></a>
<a name="SEC186"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC185" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC187" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC177" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC184" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC190" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 23.2.2 YAP predicates fully compatible with SICStus Prolog </h3>

<p>These are the Prolog built-ins that are fully compatible in both SICStus
Prolog and YAP:
</p>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#SEC186_0" class="summary-letter"><b>!</b></a>
 &nbsp; 
<a href="#SEC186_1" class="summary-letter"><b>,</b></a>
 &nbsp; 
<a href="#SEC186_2" class="summary-letter"><b>-</b></a>
 &nbsp; 
<a href="#SEC186_3" class="summary-letter"><b>;</b></a>
 &nbsp; 
<a href="#SEC186_4" class="summary-letter"><b>&lt;</b></a>
 &nbsp; 
<a href="#SEC186_5" class="summary-letter"><b>=</b></a>
 &nbsp; 
<a href="#SEC186_6" class="summary-letter"><b>&gt;</b></a>
 &nbsp; 
<a href="#SEC186_7" class="summary-letter"><b>@</b></a>
 &nbsp; 
<a href="#SEC186_8" class="summary-letter"><b>\</b></a>
 &nbsp; 
<br>
<a href="#SEC186_9" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#SEC186_10" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#SEC186_11" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#SEC186_12" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#SEC186_13" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#SEC186_14" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#SEC186_15" class="summary-letter"><b>G</b></a>
 &nbsp; 
<a href="#SEC186_16" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#SEC186_17" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#SEC186_18" class="summary-letter"><b>J</b></a>
 &nbsp; 
<a href="#SEC186_19" class="summary-letter"><b>K</b></a>
 &nbsp; 
<a href="#SEC186_20" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#SEC186_21" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#SEC186_22" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#SEC186_23" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#SEC186_24" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#SEC186_25" class="summary-letter"><b>Q</b></a>
 &nbsp; 
<a href="#SEC186_26" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#SEC186_27" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#SEC186_28" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#SEC186_29" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#SEC186_30" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#SEC186_31" class="summary-letter"><b>W</b></a>
 &nbsp; 
</td></tr></table>
<table border="0" class="index-sy">
<tr><td></td><th align="left">Index Entry</th><th align="left"> Section</th></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC186_0">!</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX178">!/0</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC186_1">,</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX163">,/2</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC186_2">-</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX187">-&gt;/2</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC186_3">;</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX166">;/2</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC186_4">&lt;</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX405">&lt;/2</a></td><td valign="top"><a href="#SEC44">6.8 Arithmetic</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC186_5">=</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX309">=../2</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX312">=/2</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX417">=:=/2</a></td><td valign="top"><a href="#SEC44">6.8 Arithmetic</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX408">=&lt;/2</a></td><td valign="top"><a href="#SEC44">6.8 Arithmetic</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX375">==/2</a></td><td valign="top"><a href="#SEC43">6.7 Comparing Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX420">=\=/2</a></td><td valign="top"><a href="#SEC44">6.8 Arithmetic</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC186_6">&gt;</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX411">&gt;/2</a></td><td valign="top"><a href="#SEC44">6.8 Arithmetic</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX414">&gt;=/2</a></td><td valign="top"><a href="#SEC44">6.8 Arithmetic</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC186_7">@</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX381">@&lt;/2</a></td><td valign="top"><a href="#SEC43">6.7 Comparing Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX384">@&lt;/2</a></td><td valign="top"><a href="#SEC43">6.7 Comparing Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX387">@&gt;/2</a></td><td valign="top"><a href="#SEC43">6.7 Comparing Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX390">@&gt;=/2</a></td><td valign="top"><a href="#SEC43">6.7 Comparing Terms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC186_8">\</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX181">\+/1</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX378">\==/2</a></td><td valign="top"><a href="#SEC43">6.7 Comparing Terms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC186_9">A</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX211">abort/0</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX444">absolute_file_name/2</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX441">absolute_file_name/3</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2095">add_edges/3</a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1297">add_to_heap/4</a></td><td valign="top"><a href="#SEC76">7.4 Heaps</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2089">add_vertices/3</a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1324">append/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1321">append/3</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX303">arg/3</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1234">assoc_to_list/2</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX477">at_end_of_stream/0</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX480">at_end_of_stream/1</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX264">atom/1</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX333">atom_codes/2</a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX336">atom_concat/2</a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX354">atom_number/2</a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1861">atom_to_chars/2</a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1864">atom_to_chars/3</a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX267">atomic/1</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2383">attribute_goal/2</a></td><td valign="top"><a href="#SEC114">10.4 Displaying Attributes</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC186_10">B</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX898">bb_delete/2</a></td><td valign="top"><a href="#SEC59">6.12 The Blackboard</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX895">bb_get/2</a></td><td valign="top"><a href="#SEC59">6.12 The Blackboard</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX892">bb_put/2</a></td><td valign="top"><a href="#SEC59">6.12 The Blackboard</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX901">bb_update/3</a></td><td valign="top"><a href="#SEC59">6.12 The Blackboard</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX214">break/0</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC186_11">C</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX934">C/3</a></td><td valign="top"><a href="#SEC61">6.14 Grammar Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX196">call/1</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2047">call_cleanup/1</a></td><td valign="top"><a href="#SEC93">7.21 Call Cleanup</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2050">call_cleanup/2</a></td><td valign="top"><a href="#SEC93">7.21 Call Cleanup</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2365">call_residue/2</a></td><td valign="top"><a href="#SEC109">9.2 Co-routining</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX294">callable/1</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX363">char_code/2</a></td><td valign="top"><a href="#SEC42">6.6 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX539">char_conversion/2</a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX498">character_count/2</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2056">cleanup_all/0</a></td><td valign="top"><a href="#SEC93">7.21 Call Cleanup</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX432">close/1</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX372">compare/3</a></td><td valign="top"><a href="#SEC43">6.7 Comparing Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX25">compile/1</a></td><td valign="top"><a href="#SEC26">4.1 Program loading and updating</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX31">compile/1</a></td><td valign="top"><a href="#SEC26">4.1 Program loading and updating</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2110">complement/2</a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2113">compose/3</a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX270">compound/1</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX321">copy_term/2</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX971">create_mutable/2</a></td><td valign="top"><a href="#SEC63">6.16 Term Modification</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX808">current_atom/1</a></td><td valign="top"><a href="#SEC56">6.10.2 Looking at the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX542">current_char_conversion/2</a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX471">current_input/1</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX871">current_key/2</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1082">current_module/1</a></td><td valign="top"><a href="#SEC70">6.21 Predicate Information</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1085">current_module/2</a></td><td valign="top"><a href="#SEC70">6.21 Predicate Information</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1177">current_op/3</a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX474">current_output/1</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX811">current_predicate/1</a></td><td valign="top"><a href="#SEC56">6.10.2 Looking at the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX814">current_predicate/2</a></td><td valign="top"><a href="#SEC56">6.10.2 Looking at the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX450">current_stream/3</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1969">cyclic_term/1</a></td><td valign="top"><a href="#SEC91">7.19 Utilities On Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1972">cyclic_term/1</a></td><td valign="top"><a href="#SEC91">7.19 Utilities On Terms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC186_12">D</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1888">datime/1</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX273">db_reference/1</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2537">debugging/0</a></td><td valign="top"><a href="#SEC156">19.1 Debugging Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1237">del_assoc/4</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2098">del_edges/3</a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1240">del_max_assoc/4</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1243">del_min_assoc/4</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2092">del_vertices/3</a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1327">delete/3</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1894">delete_file/1</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1897">delete_file/2</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2143">dgraph_del_vertices/3</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2353">dif/2</a></td><td valign="top"><a href="#SEC109">9.2 Co-routining</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1900">directory_files/2</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX85">discontiguous/1 (directive)</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX548">display/1</a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX551">display/1</a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX623">display/1</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX632">display/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX324">duplicate_term/2</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC186_13">E</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2086">edges/2</a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1246">empty_assoc/1</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1300">empty_heap/1</a></td><td valign="top"><a href="#SEC76">7.4 Heaps</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1705">empty_queue/1</a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX940">environ/2</a></td><td valign="top"><a href="#SEC62">6.15 Access to Operating System Functionality</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1918">environ/2</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1939">exec/3</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX919">expand_term/2</a></td><td valign="top"><a href="#SEC61">6.14 Grammar Rules</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC186_14">F</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX172">fail/0</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX175">false/0</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1903">file_exists/1</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1906">file_exists/2</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1909">file_property/2</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX94">file_search_path/2</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX707">fileerrors/0</a></td><td valign="top"><a href="#SEC52">6.9.7 Controlling Input/Output</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX904">findall/3</a></td><td valign="top"><a href="#SEC60">6.13 Collecting Solutions to a Goal</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX907">findall/4</a></td><td valign="top"><a href="#SEC60">6.13 Collecting Solutions to a Goal</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1330">flatten/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX276">float/1</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX456">flush_output/0</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX459">flush_output/1</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1849">format_to_chars/3</a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1852">format_to_chars/4</a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2044">fragile</a></td><td valign="top"><a href="#SEC93">7.21 Call Cleanup</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2356">freeze/2</a></td><td valign="top"><a href="#SEC109">9.2 Co-routining</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2359">frozen/2</a></td><td valign="top"><a href="#SEC109">9.2 Co-routining</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX306">functor/3</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC186_15">G</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX229">garbage_collect/0</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX232">garbage_collect_atoms/0</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX235">gc/0</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1249">gen_assoc/3</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX581">get/1</a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX650">get/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX584">get0/1</a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX653">get0/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1261">get_assoc/3</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1255">get_assoc/5</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2371">get_atts/2</a></td><td valign="top"><a href="#SEC112">10.2 Attribute Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1303">get_from_heap/4</a></td><td valign="top"><a href="#SEC76">7.4 Heaps</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2062">get_label/3</a></td><td valign="top"><a href="#SEC95">7.23 Updatable Binary Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX974">get_mutable/2</a></td><td valign="top"><a href="#SEC63">6.16 Term Modification</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX980">get_mutable/2</a></td><td valign="top"><a href="#SEC63">6.16 Term Modification</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1252">get_next_assoc/4</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1258">get_prev_assoc/4</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1717">getrand/1</a></td><td valign="top"><a href="#SEC84">7.12 Random Number Generator</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX300">ground/1</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC186_16">H</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX217">halt/0</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX220">halt/1</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1699">head_queue/2</a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1306">heap_size/2</a></td><td valign="top"><a href="#SEC76">7.4 Heaps</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1309">heap_to_list/2</a></td><td valign="top"><a href="#SEC76">7.4 Heaps</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1921">host_id/1</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1924">host_name/1</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC186_17">I</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX205">if/3</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX199">incore/1</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1183">initialization/0</a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX279">integer/1</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX402">is/2</a></td><td valign="top"><a href="#SEC44">6.8 Arithmetic</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1264">is_assoc/1</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1333">is_list/1</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX977">is_mutable/1</a></td><td valign="top"><a href="#SEC63">6.16 Term Modification</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC186_18">J</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1687">join_queue/3</a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1693">jump_queue/3</a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC186_19">K</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX396">keysort/2</a></td><td valign="top"><a href="#SEC43">6.7 Comparing Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1927">kill/2</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC186_20">L</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1336">last/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2552">leash/1</a></td><td valign="top"><a href="#SEC156">19.1 Debugging Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX399">length/2</a></td><td valign="top"><a href="#SEC43">6.7 Comparing Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1708">length_queue/2</a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX495">line_count/2</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX501">line_position/2</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1690">list_join_queue/3</a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1696">list_jump_queue/3</a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1267">list_to_assoc/2</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1312">list_to_heap/2</a></td><td valign="top"><a href="#SEC76">7.4 Heaps</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1618">list_to_ord_set/2</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1711">list_to_queue/2</a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2065">list_to_tree/2</a></td><td valign="top"><a href="#SEC95">7.23 Updatable Binary Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX799">listing/1</a></td><td valign="top"><a href="#SEC56">6.10.2 Looking at the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX28">load_files/2</a></td><td valign="top"><a href="#SEC26">4.1 Program loading and updating</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC186_21">M</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1912">make_directory/2</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1684">make_queue/1</a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1270">map_assoc/2</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1273">map_assoc/3</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2068">map_tree/3</a></td><td valign="top"><a href="#SEC95">7.23 Updatable Binary Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1276">max_assoc/3</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1387">max_list/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1342">member/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1345">memberchk/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1621">merge/3</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX258">message_hook/3</a></td><td valign="top"><a href="#SEC39">6.3 Message Handling</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX151">meta_predicate/1 (directive)</a></td><td valign="top"><a href="#SEC34">5.4 Meta-Predicates in Modules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1279">min_assoc/3</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1390">min_list/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1315">min_of_heap/3</a></td><td valign="top"><a href="#SEC76">7.4 Heaps</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1318">min_of_heap/5</a></td><td valign="top"><a href="#SEC76">7.4 Heaps</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1930">mktemp/2</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX139">module/1</a></td><td valign="top"><a href="#SEC32">5.2 Defining a New Module</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX133">module/2 (directive)</a></td><td valign="top"><a href="#SEC32">5.2 Defining a New Module</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX136">module/3 (directive)</a></td><td valign="top"><a href="#SEC32">5.2 Defining a New Module</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX154">module_transparent/1 (directive)</a></td><td valign="top"><a href="#SEC34">5.4 Meta-Predicates in Modules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX82">multifile/1 (directive)</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC186_22">N</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX327">name/2</a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2104">neighbors/3</a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2107">neighbours/3</a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX611">nl/0</a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX680">nl/1</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2540">nodebug/0</a></td><td valign="top"><a href="#SEC156">19.1 Debugging Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX704">nofileerrors/0</a></td><td valign="top"><a href="#SEC52">6.9.7 Controlling Input/Output</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX238">nogc/0</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX282">nonvar/1</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2546">nospy/1</a></td><td valign="top"><a href="#SEC156">19.1 Debugging Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2549">nospyall/0</a></td><td valign="top"><a href="#SEC156">19.1 Debugging Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2561">notrace/0</a></td><td valign="top"><a href="#SEC156">19.1 Debugging Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1351">nth/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1357">nth/4</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1348">nth0/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1354">nth0/4</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX285">number/1</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX351">number_codes/2</a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1867">number_to_chars/2</a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1870">number_to_chars/3</a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX297">numbervars/3</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC186_23">O</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2053">on_cleanup/1</a></td><td valign="top"><a href="#SEC93">7.21 Call Cleanup</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1174">op/3</a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX426">open/3</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1876">open_chars_stream/2</a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1624">ord_add_element/3</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1627">ord_del_element/3</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1630">ord_disjoint/2</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1636">ord_insert/3</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1639">ord_intersect/2</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1642">ord_intersect/3</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1645">ord_intersect/4</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1282">ord_list_to_assoc/2</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1633">ord_member/2</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1648">ord_seteq/2</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1651">ord_setproduct/3</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1657">ord_subtract/3</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1660">ord_symdiff/3</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1663">ord_union/2</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1666">ord_union/3</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1669">ord_union/4</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1654">ordsubset/2</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC186_24">P</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX599">peek_char/1</a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1360">permutation/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX931">phrase/2</a></td><td valign="top"><a href="#SEC61">6.14 Grammar Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX928">phrase/3</a></td><td valign="top"><a href="#SEC61">6.14 Grammar Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1933">pid/1</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1945">popen/3</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX802">portray_clause/1</a></td><td valign="top"><a href="#SEC56">6.10.2 Looking at the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX805">portray_clause/2</a></td><td valign="top"><a href="#SEC56">6.10.2 Looking at the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX288">primitive/1</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX560">print/1</a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX635">print/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX252">print_message/2</a></td><td valign="top"><a href="#SEC39">6.3 Message Handling</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX255">print_message_lines/3</a></td><td valign="top"><a href="#SEC39">6.3 Message Handling</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2386">project_attributes/2</a></td><td valign="top"><a href="#SEC114">10.4 Displaying Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2389">project_attributes/2</a></td><td valign="top"><a href="#SEC115">10.5 Projecting Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX100">prolog_file_name/1</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1168">prolog_flag/3</a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1195">prolog_load_context/2</a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1180">prompt/2</a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX569">put/1</a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX638">put/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1285">put_assoc/4</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2374">put_atts/2</a></td><td valign="top"><a href="#SEC112">10.2 Attribute Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2071">put_label/4</a></td><td valign="top"><a href="#SEC95">7.23 Updatable Binary Trees</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC186_25">Q</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1714">queue_to_list/2</a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC186_26">R</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1720">random/1</a></td><td valign="top"><a href="#SEC84">7.12 Random Number Generator</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1723">random/3</a></td><td valign="top"><a href="#SEC84">7.12 Random Number Generator</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1726">randseq/3</a></td><td valign="top"><a href="#SEC84">7.12 Random Number Generator</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1729">randset/3</a></td><td valign="top"><a href="#SEC84">7.12 Random Number Generator</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2125">reachable/3</a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX528">read/1</a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX614">read/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1873">read_from_chars/2</a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1363">remove_duplicates/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1915">rename_file/2</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX193">repeat/0</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX130">restore/1</a></td><td valign="top"><a href="#SEC29">4.4 Saving and Loading Prolog States</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1366">reverse/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC186_27">S</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1369">same_length/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX124">save_program/1</a></td><td valign="top"><a href="#SEC29">4.4 Saving and Loading Prolog States</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX127">save_program/2</a></td><td valign="top"><a href="#SEC29">4.4 Saving and Loading Prolog States</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX519">see/1</a></td><td valign="top"><a href="#SEC47">6.9.2 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX522">seeing/1</a></td><td valign="top"><a href="#SEC47">6.9.2 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX525">seen/0</a></td><td valign="top"><a href="#SEC47">6.9.2 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1372">select/3</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1702">serve_queue/3</a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX462">set_input/1</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX465">set_output/1</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX483">set_stream_position/2</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1732">setrand/1</a></td><td valign="top"><a href="#SEC84">7.12 Random Number Generator</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1948">shell/0</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1951">shell/1</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1954">shell/1</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX291">simple/1</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX605">skip/1</a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX674">skip/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1957">sleep/1</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX721">socket/2</a></td><td valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX718">socket/4</a></td><td valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX736">socket_accept/2</a></td><td valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX742">socket_accept/2</a></td><td valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX739">socket_accept/3</a></td><td valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX727">socket_bind/2</a></td><td valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX745">socket_buffering/4</a></td><td valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX724">socket_close/1</a></td><td valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX730">socket_connect/3</a></td><td valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX733">socket_listen/2</a></td><td valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX748">socket_select/5</a></td><td valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX393">sort/2</a></td><td valign="top"><a href="#SEC43">6.7 Comparing Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2543">spy/1</a></td><td valign="top"><a href="#SEC156">19.1 Debugging Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX504">stream_position/2</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX507">stream_position_data/3</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX468">stream_select/3</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1375">sublist/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1987">subsumes/2</a></td><td valign="top"><a href="#SEC91">7.19 Utilities On Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1990">subsumes_chk/2</a></td><td valign="top"><a href="#SEC91">7.19 Utilities On Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1378">suffix/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1381">sum_list/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1384">sumlist/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1960">system/0</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1963">system/2</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX817">system_predicate/2</a></td><td valign="top"><a href="#SEC56">6.10.2 Looking at the Data Base</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC186_28">T</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX608">tab/1</a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX677">tab/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX510">tell/1</a></td><td valign="top"><a href="#SEC47">6.9.2 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX513">telling/1</a></td><td valign="top"><a href="#SEC47">6.9.2 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX922">term_expansion/2</a></td><td valign="top"><a href="#SEC61">6.14 Grammar Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1975">term_hash/2</a></td><td valign="top"><a href="#SEC91">7.19 Utilities On Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1978">term_hash/4</a></td><td valign="top"><a href="#SEC91">7.19 Utilities On Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1981">term_variables/2</a></td><td valign="top"><a href="#SEC91">7.19 Utilities On Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2059">time_out/3</a></td><td valign="top"><a href="#SEC94">7.22 Calls With Timeout</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1936">tmpnam/1</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX516">told/0</a></td><td valign="top"><a href="#SEC47">6.9.2 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2116">top_sort/2</a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2119">top_sort/3</a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2558">trace/0</a></td><td valign="top"><a href="#SEC156">19.1 Debugging Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2122">transitive_closure/2</a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2101">transpose/3</a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2074">tree_size/2</a></td><td valign="top"><a href="#SEC95">7.23 Updatable Binary Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2077">tree_to_list/2</a></td><td valign="top"><a href="#SEC95">7.23 Updatable Binary Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX169">true/0</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX686">ttyget/1</a></td><td valign="top"><a href="#SEC51">6.9.6 Compatible C-Prolog predicates for Terminal I/O</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX689">ttyget0/1</a></td><td valign="top"><a href="#SEC51">6.9.6 Compatible C-Prolog predicates for Terminal I/O</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX698">ttynl/0</a></td><td valign="top"><a href="#SEC51">6.9.6 Compatible C-Prolog predicates for Terminal I/O</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX683">ttyput/1</a></td><td valign="top"><a href="#SEC51">6.9.6 Compatible C-Prolog predicates for Terminal I/O</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX692">ttyskip/1</a></td><td valign="top"><a href="#SEC51">6.9.6 Compatible C-Prolog predicates for Terminal I/O</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX695">ttytab/1</a></td><td valign="top"><a href="#SEC51">6.9.6 Compatible C-Prolog predicates for Terminal I/O</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC186_29">U</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2197">undgraph_del_vertices/3</a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1996">unifiable/3</a></td><td valign="top"><a href="#SEC91">7.19 Utilities On Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX318">unify_with_occurs_check/2</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX249">unknown_predicate_handler/3</a></td><td valign="top"><a href="#SEC38">6.2 Handling Undefined Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX983">update_mutable/2</a></td><td valign="top"><a href="#SEC63">6.16 Term Modification</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX142">use_module/1</a></td><td valign="top"><a href="#SEC33">5.3 Using Modules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX145">use_module/2</a></td><td valign="top"><a href="#SEC33">5.3 Using Modules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX148">use_module/3</a></td><td valign="top"><a href="#SEC33">5.3 Using Modules</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC186_30">V</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX261">var/1</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1984">variant/2</a></td><td valign="top"><a href="#SEC91">7.19 Utilities On Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2377">verify_attributes/3</a></td><td valign="top"><a href="#SEC113">10.3 Attributed Unification</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1192">version/1</a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2083">vertices/2</a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2080">vertices_edges_to_ugraph/3</a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC186_31">W</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1966">wait/2</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2362">when/2</a></td><td valign="top"><a href="#SEC109">9.2 Co-routining</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1879">with_output_to_chars/2</a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1882">with_output_to_chars/3</a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1885">with_output_to_chars/4</a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1942">working_directory/2</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX545">write/1</a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX620">write/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX554">write_term/2</a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX626">write_term/3</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1855">write_to_chars/2</a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1858">write_to_chars/3</a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX557">writeq/1</a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX629">writeq/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#SEC186_0" class="summary-letter"><b>!</b></a>
 &nbsp; 
<a href="#SEC186_1" class="summary-letter"><b>,</b></a>
 &nbsp; 
<a href="#SEC186_2" class="summary-letter"><b>-</b></a>
 &nbsp; 
<a href="#SEC186_3" class="summary-letter"><b>;</b></a>
 &nbsp; 
<a href="#SEC186_4" class="summary-letter"><b>&lt;</b></a>
 &nbsp; 
<a href="#SEC186_5" class="summary-letter"><b>=</b></a>
 &nbsp; 
<a href="#SEC186_6" class="summary-letter"><b>&gt;</b></a>
 &nbsp; 
<a href="#SEC186_7" class="summary-letter"><b>@</b></a>
 &nbsp; 
<a href="#SEC186_8" class="summary-letter"><b>\</b></a>
 &nbsp; 
<br>
<a href="#SEC186_9" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#SEC186_10" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#SEC186_11" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#SEC186_12" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#SEC186_13" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#SEC186_14" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#SEC186_15" class="summary-letter"><b>G</b></a>
 &nbsp; 
<a href="#SEC186_16" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#SEC186_17" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#SEC186_18" class="summary-letter"><b>J</b></a>
 &nbsp; 
<a href="#SEC186_19" class="summary-letter"><b>K</b></a>
 &nbsp; 
<a href="#SEC186_20" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#SEC186_21" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#SEC186_22" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#SEC186_23" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#SEC186_24" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#SEC186_25" class="summary-letter"><b>Q</b></a>
 &nbsp; 
<a href="#SEC186_26" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#SEC186_27" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#SEC186_28" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#SEC186_29" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#SEC186_30" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#SEC186_31" class="summary-letter"><b>W</b></a>
 &nbsp; 
</td></tr></table>

<hr size="6">
<a name="Not-Strictly-SICStus-Compatible"></a>
<a name="SEC187"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC186" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC188" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC177" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC184" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC190" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 23.2.3 YAP predicates not strictly compatible with SICStus Prolog </h3>

<p>These are YAP built-ins that are also available in SICStus Prolog, but
that are not fully compatible:
</p>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#SEC187_0" class="summary-letter"><b>[</b></a>
 &nbsp; 
<br>
<a href="#SEC187_1" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#SEC187_2" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#SEC187_3" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#SEC187_4" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#SEC187_5" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#SEC187_6" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#SEC187_7" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#SEC187_8" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#SEC187_9" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#SEC187_10" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#SEC187_11" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#SEC187_12" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#SEC187_13" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#SEC187_14" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#SEC187_15" class="summary-letter"><b>V</b></a>
 &nbsp; 
</td></tr></table>
<table border="0" class="index-sa">
<tr><td></td><th align="left">Index Entry</th><th align="left"> Section</th></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC187_0">[</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX22">[-]/1</a></td><td valign="top"><a href="#SEC26">4.1 Program loading and updating</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX19">[]/1</a></td><td valign="top"><a href="#SEC26">4.1 Program loading and updating</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC187_1">A</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX766">abolish/1</a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX769">abolish/2</a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX757">assert/1</a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX823">assert/2</a></td><td valign="top"><a href="#SEC57">6.10.3 Using Data Base References</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX760">asserta/1</a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX826">asserta/2</a></td><td valign="top"><a href="#SEC57">6.10.3 Using Data Base References</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX763">assertz/1</a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX829">assertz/2</a></td><td valign="top"><a href="#SEC57">6.10.3 Using Data Base References</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX330">atom_chars/2</a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC187_2">B</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX913">bagof/3</a></td><td valign="top"><a href="#SEC60">6.13 Collecting Solutions to a Goal</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC187_3">C</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX781">clause/2</a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX784">clause/3</a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX435">close/2</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX489">current_line_number/1</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX492">current_line_number/2</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC187_4">D</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2534">debug/0</a></td><td valign="top"><a href="#SEC156">19.1 Debugging Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX751">dynamic/1</a></td><td valign="top"><a href="#SEC54">6.10 Using the Clausal Data Base</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC187_5">E</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX859">erase/1</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX862">erased/1</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC187_6">F</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX563">format/2</a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX566">format/3</a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC187_7">I</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX865">instance/2</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC187_8">L</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX796">listing/0</a></td><td valign="top"><a href="#SEC56">6.10.2 Looking at the Data Base</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC187_9">N</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX787">nth_clause/3</a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX856">nth_recorded/3</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX348">number_chars/2</a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC187_10">O</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX429">open/4</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC187_11">P</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX820">predicate_property/2</a></td><td valign="top"><a href="#SEC56">6.10.2 Looking at the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1186">prolog_initialization/1</a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC187_12">R</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX531">read_term/2</a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX617">read_term/3</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX835">recorda/3</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX847">recordaifnot/3</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX853">recorded/3</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX838">recordz/3</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX790">retract/1</a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX832">retract/2</a></td><td valign="top"><a href="#SEC57">6.10.3 Using Data Base References</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX793">retractall/1</a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC187_13">S</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX916">setof/3</a></td><td valign="top"><a href="#SEC60">6.13 Collecting Solutions to a Goal</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1088">statistics/0</a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1091">statistics/2</a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC187_14">U</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX246">unknown/2</a></td><td valign="top"><a href="#SEC38">6.2 Handling Undefined Procedures</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC187_15">V</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1189">version/0</a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#SEC187_0" class="summary-letter"><b>[</b></a>
 &nbsp; 
<br>
<a href="#SEC187_1" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#SEC187_2" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#SEC187_3" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#SEC187_4" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#SEC187_5" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#SEC187_6" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#SEC187_7" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#SEC187_8" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#SEC187_9" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#SEC187_10" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#SEC187_11" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#SEC187_12" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#SEC187_13" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#SEC187_14" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#SEC187_15" class="summary-letter"><b>V</b></a>
 &nbsp; 
</td></tr></table>

<hr size="6">
<a name="Not-in-SICStus-Prolog"></a>
<a name="SEC188"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC187" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC189" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC177" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC184" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC190" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 23.2.4 YAP predicates not available in SICStus Prolog </h3>

<p>These are YAP built-ins not available in SICStus Prolog.
</p>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#SEC188_0" class="summary-letter"><b>-</b></a>
 &nbsp; 
<a href="#SEC188_1" class="summary-letter"><b>=</b></a>
 &nbsp; 
<a href="#SEC188_2" class="summary-letter"><b>\</b></a>
 &nbsp; 
<br>
<a href="#SEC188_3" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#SEC188_4" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#SEC188_5" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#SEC188_6" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#SEC188_7" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#SEC188_8" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#SEC188_9" class="summary-letter"><b>G</b></a>
 &nbsp; 
<a href="#SEC188_10" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#SEC188_11" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#SEC188_12" class="summary-letter"><b>K</b></a>
 &nbsp; 
<a href="#SEC188_13" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#SEC188_14" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#SEC188_15" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#SEC188_16" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#SEC188_17" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#SEC188_18" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#SEC188_19" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#SEC188_20" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#SEC188_21" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#SEC188_22" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#SEC188_23" class="summary-letter"><b>W</b></a>
 &nbsp; 
<a href="#SEC188_24" class="summary-letter"><b>Y</b></a>
 &nbsp; 
</td></tr></table>
<table border="0" class="index-sn">
<tr><td></td><th align="left">Index Entry</th><th align="left"> Section</th></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC188_0">-</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX190">-&gt;*/2</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC188_1">=</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2299">=@=/2</a></td><td valign="top"><a href="#SEC100">8. SWI-Prolog Emulation</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC188_2">\</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX315">\=/2</a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC188_3">A</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2507">abolish_all_tables/0</a></td><td valign="top"><a href="#SEC152">16. Tabling</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2504">abolish_table/1</a></td><td valign="top"><a href="#SEC152">16. Tabling</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1079">add_to_array_element/4</a></td><td valign="top"><a href="#SEC69">6.20 Arrays</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX961">alarm/3</a></td><td valign="top"><a href="#SEC62">6.15 Access to Operating System Functionality</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX910">all/3</a></td><td valign="top"><a href="#SEC60">6.13 Collecting Solutions to a Goal</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX715">always_prompt_user/0</a></td><td valign="top"><a href="#SEC52">6.9.7 Controlling Input/Output</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2272">append/3</a></td><td valign="top"><a href="#SEC100">8. SWI-Prolog Emulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1049">array/2</a></td><td valign="top"><a href="#SEC69">6.20 Arrays</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1073">array_element/3</a></td><td valign="top"><a href="#SEC69">6.20 Arrays</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX772">assert_static/1</a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX775">asserta_static/1</a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX778">assertz_static/1</a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX345">atom_concat/3</a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX342">atom_length/2</a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX339">atomic_concat/2</a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2323">attr_unify_hook/2</a></td><td valign="top"><a href="#SEC103">8.3 hProlog and SWI-Prolog Attributed Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2380">attvar/1</a></td><td valign="top"><a href="#SEC113">10.3 Attributed Unification</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1291">avl_insert/4</a></td><td valign="top"><a href="#SEC75">7.3 AVL Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1294">avl_lookup/3</a></td><td valign="top"><a href="#SEC75">7.3 AVL Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1288">avl_new/1</a></td><td valign="top"><a href="#SEC75">7.3 AVL Trees</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC188_4">B</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX989">b_getval/2</a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2338">b_getval/2</a></td><td valign="top"><a href="#SEC105">8.4 SWI Global variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX986">b_setval/2</a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2335">b_setval/2</a></td><td valign="top"><a href="#SEC105">8.4 SWI Global variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2275">between/3</a></td><td valign="top"><a href="#SEC100">8. SWI-Prolog Emulation</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC188_5">C</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1043">call_count_data/0</a></td><td valign="top"><a href="#SEC68">6.19 Counting Calls</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1040">call_count_data/3</a></td><td valign="top"><a href="#SEC68">6.19 Counting Calls</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1046">call_count_data/3</a></td><td valign="top"><a href="#SEC68">6.19 Counting Calls</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX202">call_with_args/n</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX223">catch/3</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX937">cd/1</a></td><td valign="top"><a href="#SEC62">6.15 Access to Operating System Functionality</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX366">char_type/2</a></td><td valign="top"><a href="#SEC42">6.6 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2278">chdir/1</a></td><td valign="top"><a href="#SEC100">8. SWI-Prolog Emulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1207">checklist/2</a></td><td valign="top"><a href="#SEC73">7.1 Apply Macros</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1228">checknodes/3</a></td><td valign="top"><a href="#SEC73">7.1 Apply Macros</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1495">close_matlab/0</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1067">close_static_array/1</a></td><td valign="top"><a href="#SEC69">6.20 Arrays</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX369">code_type/2</a></td><td valign="top"><a href="#SEC42">6.6 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX34">compile/1 (directive)</a></td><td valign="top"><a href="#SEC26">4.1 Program loading and updating</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX46">compile_expressions/0</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2281">concat_atom/2</a></td><td valign="top"><a href="#SEC100">8. SWI-Prolog Emulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2284">concat_atom/3</a></td><td valign="top"><a href="#SEC100">8. SWI-Prolog Emulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX13">consult/1</a></td><td valign="top"><a href="#SEC26">4.1 Program loading and updating</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1213">convlist/3</a></td><td valign="top"><a href="#SEC73">7.1 Apply Macros</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2332">copy_term_nat/2</a></td><td valign="top"><a href="#SEC104">8.3.1 Special Purpose SWI Predicates for Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2491">current_mutex/3</a></td><td valign="top"><a href="#SEC150">14.4 Thread Synchronisation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1165">current_prolog_flag/2</a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2428">current_thread/2</a></td><td valign="top"><a href="#SEC145">14.2 Monitoring Threads</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC188_6">D</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2320">del_attr/2</a></td><td valign="top"><a href="#SEC103">8.3 hProlog and SWI-Prolog Attributed Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2146">dgraph_add_edges/3</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2140">dgraph_add_vertices/3</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2158">dgraph_complement/2</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2164">dgraph_compose/3</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2149">dgraph_del_edges/3</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2134">dgraph_edge/2</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2137">dgraph_edges/2</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2152">dgraph_neighbors/3</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2155">dgraph_neighbours/3</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2128">dgraph_new/1</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2170">dgraph_symmetric_closure/2</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2176">dgraph_to_ugraph/2</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2215">dgraph_to_undgraph/2</a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2173">dgraph_top_sort/2</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2167">dgraph_transitive_closure/2</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2161">dgraph_transpose/2</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2131">dgraph_vertices/2</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX49">do_not_compile_expressions/0</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX754">dynamic_predicate/2</a></td><td valign="top"><a href="#SEC54">6.10 Using the Clausal Data Base</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC188_7">E</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX115">elif/1</a></td><td valign="top"><a href="#SEC28">4.3 Conditional Compilation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX109">else/0</a></td><td valign="top"><a href="#SEC28">4.3 Conditional Compilation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX112">endif/0</a></td><td valign="top"><a href="#SEC28">4.3 Conditional Compilation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX868">eraseall/1</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX701">exists/1</a></td><td valign="top"><a href="#SEC52">6.9.7 Controlling Input/Output</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX61">expand_exprs/2</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC188_8">F</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX447">file_base_name/2</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2311">forall/2</a></td><td valign="top"><a href="#SEC102">8.2 Forall</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC188_9">G</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2317">get_attr/3</a></td><td valign="top"><a href="#SEC103">8.3 hProlog and SWI-Prolog Attributed Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2326">get_attrs/2</a></td><td valign="top"><a href="#SEC104">8.3.1 Special Purpose SWI Predicates for Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX587">get_byte/1</a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX656">get_byte/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX590">get_char/1</a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX659">get_char/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX593">get_code/1</a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX662">get_code/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX880">get_value/2</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX943">getcwd/1</a></td><td valign="top"><a href="#SEC62">6.15 Access to Operating System Functionality</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX925">goal_expansion/3</a></td><td valign="top"><a href="#SEC61">6.14 Grammar Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX240">grow_heap/1</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX243">grow_stack/1</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC188_10">H</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX52">hide/1</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX58">hide_predicate/1</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC188_11">I</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX106">if/1</a></td><td valign="top"><a href="#SEC28">4.3 Conditional Compilation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX88">initialization/1 (directive)</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1759">is_rbtree/1</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX453">is_stream/1</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2497">is_tabled/1</a></td><td valign="top"><a href="#SEC152">16. Tabling</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC188_12">K</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX877">key_statistics/3</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX874">key_statistics/4</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC188_13">L</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX91">library_directory/1</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX97">library_directory/1</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1339">list_concat/2</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1819">list_to_rbtree/2</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1822">list_to_rbtree/2</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC188_14">M</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1219">mapargs/3</a></td><td valign="top"><a href="#SEC73">7.1 Apply Macros</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2302">maplist/2</a></td><td valign="top"><a href="#SEC101">8.1 Invoking Predicates on all Members of a List</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1204">maplist/3</a></td><td valign="top"><a href="#SEC73">7.1 Apply Macros</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2305">maplist/3</a></td><td valign="top"><a href="#SEC101">8.1 Invoking Predicates on all Members of a List</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2308">maplist/4</a></td><td valign="top"><a href="#SEC101">8.1 Invoking Predicates on all Members of a List</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1225">mapnodes/3</a></td><td valign="top"><a href="#SEC73">7.1 Apply Macros</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1507">matlab_cells/2</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1510">matlab_cells/3</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1501">matlab_eval_string/1</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1504">matlab_eval_string/2</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1522">matlab_get_variable/2</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1513">matlab_initialized_cells/4</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1525">matlab_item/3</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1531">matlab_item/3</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1528">matlab_item/4</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1534">matlab_item/4</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1516">matlab_matrix/4</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1498">matlab_on/0</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1537">matlab_sequence/3</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1519">matlab_set/4</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1540">matlab_vector/4</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1543">matlab_zeros/2</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1546">matlab_zeros/3</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1549">matlab_zeros/4</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1552">matlab_zeros/4</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1426">matrix_add/3</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1465">matrix_agg_cols/2</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1462">matrix_agg_lines/2</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1441">matrix_arg_to_offset/3</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1435">matrix_dec/2</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1438">matrix_dec/3</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1402">matrix_dims/2</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1486">matrix_expand/3</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1417">matrix_get/3</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1429">matrix_inc/2</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1432">matrix_inc/3</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1447">matrix_max/2</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1450">matrix_maxarg/2</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1453">matrix_min/2</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1456">matrix_minarg/2</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1405">matrix_ndims/2</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1393">matrix_new/3</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1396">matrix_new/4</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1399">matrix_new_set/4</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1444">matrix_offset_to_arg/3</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1468">matrix_op/4</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1471">matrix_op/4</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1477">matrix_op_to_cols/4</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1474">matrix_op_to_lines/4</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1483">matrix_reorder/3</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1489">matrix_select/3</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1420">matrix_set/3</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1423">matrix_set_all/2</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1480">matrix_shuffle/3</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1408">matrix_size/2</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1459">matrix_sum/2</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1414">matrix_to_list/2</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1411">matrix_type/2</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2449">message_queue_create/1</a></td><td valign="top"><a href="#SEC147">14.3.1 Message Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2452">message_queue_destroy/1</a></td><td valign="top"><a href="#SEC147">14.3.1 Message Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1891">mktime/2</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2257">mpi_barrier/0</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2260">mpi_bcast/2</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2263">mpi_bcast/3</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2266">mpi_bcast/3</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2227">mpi_comm_rank/1</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2224">mpi_comm_size/1</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2221">mpi_finalize/0</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2269">mpi_gc/0</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2218">mpi_init/0</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2242">mpi_irecv/3</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2236">mpi_isend/4</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2239">mpi_recv/3</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2233">mpi_send/3</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2254">mpi_test/2</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2248">mpi_test_recv/3</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2230">mpi_version/2</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2251">mpi_wait/2</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2245">mpi_wait_recv/3</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2470">mutex_create/1</a></td><td valign="top"><a href="#SEC150">14.4 Thread Synchronisation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2473">mutex_destroy/1</a></td><td valign="top"><a href="#SEC150">14.4 Thread Synchronisation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2479">mutex_lock/1</a></td><td valign="top"><a href="#SEC150">14.4 Thread Synchronisation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2434">mutex_statistics/0</a></td><td valign="top"><a href="#SEC145">14.2 Monitoring Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2482">mutex_trylock/1</a></td><td valign="top"><a href="#SEC150">14.4 Thread Synchronisation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2485">mutex_unlock/1</a></td><td valign="top"><a href="#SEC150">14.4 Thread Synchronisation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2488">mutex_unlock_all/0</a></td><td valign="top"><a href="#SEC150">14.4 Thread Synchronisation</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC188_15">N</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1597">nb_beam/1</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1603">nb_beam_add/3</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1600">nb_beam_close/1</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1606">nb_beam_del/3</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1615">nb_beam_empty/1</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1609">nb_beam_peek/3</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1612">nb_beam_size/2</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1013">nb_current/2</a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2347">nb_current/2</a></td><td valign="top"><a href="#SEC105">8.4 SWI Global variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2350">nb_delete/1</a></td><td valign="top"><a href="#SEC105">8.4 SWI Global variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1016">nb_delete/2</a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX995">nb_getval/2</a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2344">nb_getval/2</a></td><td valign="top"><a href="#SEC105">8.4 SWI Global variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1576">nb_heap/1</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1582">nb_heap_add/3</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1579">nb_heap_close/1</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1585">nb_heap_del/3</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1594">nb_heap_empty/1</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1588">nb_heap_peek/3</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1591">nb_heap_size/2</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX998">nb_linkval/2</a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1010">nb_lnkarg/3</a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1555">nb_queue/1</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1558">nb_queue_close/3</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1564">nb_queue_dequeue/2</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1573">nb_queue_empty/1</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1561">nb_queue_enqueue/2</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1567">nb_queue_peek/2</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1570">nb_queue_size/2</a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1007">nb_set_shared_arg/3</a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1001">nb_set_shared_val/2</a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1004">nb_setarg/3</a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX992">nb_setval/2</a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2341">nb_setval/2</a></td><td valign="top"><a href="#SEC105">8.4 SWI Global variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX43">no_source/0</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX184">not/1</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2287">nth1/3</a></td><td valign="top"><a href="#SEC100">8. SWI-Prolog Emulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX357">number_atom/2</a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC188_16">O</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX964">on_signal/3</a></td><td valign="top"><a href="#SEC62">6.15 Access to Operating System Functionality</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX208">once/1</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC188_17">P</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX64">path/1</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX67">path/1</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX70">path/1</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX596">peek_byte/1</a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX665">peek_byte/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX668">peek_char/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX602">peek_code/1</a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX671">peek_code/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1019">profile_data/3</a></td><td valign="top"><a href="#SEC66">6.18.1 The Count Profiler</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1022">profiled_reset/0</a></td><td valign="top"><a href="#SEC66">6.18.1 The Count Profiler</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1025">profinit/0</a></td><td valign="top"><a href="#SEC67">6.18.2 Tick Profiler</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1031">profoff/0</a></td><td valign="top"><a href="#SEC67">6.18.2 Tick Profiler</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1028">profon/0</a></td><td valign="top"><a href="#SEC67">6.18.2 Tick Profiler</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX103">public/1 (directive)</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2314">put_attr/3</a></td><td valign="top"><a href="#SEC103">8.3 hProlog and SWI-Prolog Attributed Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2329">put_attrs/2</a></td><td valign="top"><a href="#SEC104">8.3.1 Special Purpose SWI Predicates for Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX572">put_byte/1</a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX641">put_byte/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX575">put_char/1</a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX644">put_char/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX578">put_code/1</a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX647">put_code/2</a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX946">putenv/2</a></td><td valign="top"><a href="#SEC62">6.15 Access to Operating System Functionality</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC188_18">R</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1672">rannum/1</a></td><td valign="top"><a href="#SEC82">7.10 Pseudo Random Number Integer Generator</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1675">ranstart/0</a></td><td valign="top"><a href="#SEC82">7.10 Pseudo Random Number Integer Generator</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1678">ranstart/1</a></td><td valign="top"><a href="#SEC82">7.10 Pseudo Random Number Integer Generator</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1681">ranunif/2</a></td><td valign="top"><a href="#SEC82">7.10 Pseudo Random Number Integer Generator</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1786">rb_apply/4</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1804">rb_clone/3</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1780">rb_del_max/4</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1777">rb_del_min/4</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1771">rb_delete/3</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1774">rb_delete/4</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1756">rb_empty/1</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1762">rb_insert/4</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1795">rb_keys/2</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1765">rb_lookup/3</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1768">rb_lookupall/3</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1798">rb_map/3</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1810">rb_max/3</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1807">rb_min/3</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1753">rb_new/1</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1813">rb_next/4</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1801">rb_partial_map/4</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1816">rb_previous/4</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1792">rb_size/2</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1783">rb_update/4</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1789">rb_visit/2</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1747">read_file_to_codes/3</a></td><td valign="top"><a href="#SEC85">7.13 Read Utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1750">read_file_to_terms/3</a></td><td valign="top"><a href="#SEC85">7.13 Read Utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1735">read_line_to_codes/2</a></td><td valign="top"><a href="#SEC85">7.13 Read Utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1738">read_line_to_codes/3</a></td><td valign="top"><a href="#SEC85">7.13 Read Utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1741">read_stream_to_codes/3</a></td><td valign="top"><a href="#SEC85">7.13 Read Utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1744">read_stream_to_codes/3</a></td><td valign="top"><a href="#SEC85">7.13 Read Utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX16">reconsult/1</a></td><td valign="top"><a href="#SEC26">4.1 Program loading and updating</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX850">recorda/3</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX841">recorda_at/3</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX889">recordaifnot/3</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX844">recordz_at/3</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX886">recordzifnot/3</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX157">reexport/1</a></td><td valign="top"><a href="#SEC35">5.5 Re-Exporting Predicates From Other Modules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX160">reexport/2</a></td><td valign="top"><a href="#SEC35">5.5 Re-Exporting Predicates From Other Modules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1825">regexp/3</a></td><td valign="top"><a href="#SEC87">7.15 Regular Expressions</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1828">regexp/4</a></td><td valign="top"><a href="#SEC87">7.15 Regular Expressions</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX73">remove_from_path/1</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX949">rename/2</a></td><td valign="top"><a href="#SEC62">6.15 Access to Operating System Functionality</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2525">reset_op_counters/0</a></td><td valign="top"><a href="#SEC154">18. Profiling the Abstract Machine</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1070">resize_static_array/3</a></td><td valign="top"><a href="#SEC69">6.20 Arrays</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC188_19">S</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX118">save/1</a></td><td valign="top"><a href="#SEC29">4.4 Saving and Loading Prolog States</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX121">save/2</a></td><td valign="top"><a href="#SEC29">4.4 Saving and Loading Prolog States</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1210">selectlist/3</a></td><td valign="top"><a href="#SEC73">7.1 Apply Macros</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1171">set_prolog_flag/2</a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX883">set_value/2</a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX967">setarg/3n</a></td><td valign="top"><a href="#SEC63">6.16 Term Modification</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2290">setenv/2</a></td><td valign="top"><a href="#SEC100">8. SWI-Prolog Emulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX952">sh/0</a></td><td valign="top"><a href="#SEC62">6.15 Access to Operating System Functionality</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2528">show_op_counters/1</a></td><td valign="top"><a href="#SEC154">18. Profiling the Abstract Machine</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2531">show_ops_by_group/1</a></td><td valign="top"><a href="#SEC154">18. Profiling the Abstract Machine</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2510">show_table/1</a></td><td valign="top"><a href="#SEC152">16. Tabling</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1034">showprofres/0</a></td><td valign="top"><a href="#SEC67">6.18.2 Tick Profiler</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1037">showprofres/1</a></td><td valign="top"><a href="#SEC67">6.18.2 Tick Profiler</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX40">source/0</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX37">source_mode/2</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1831">splay_access/5</a></td><td valign="top"><a href="#SEC88">7.16 Splay Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1834">splay_delete/4</a></td><td valign="top"><a href="#SEC88">7.16 Splay Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1837">splay_init/3</a></td><td valign="top"><a href="#SEC88">7.16 Splay Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1840">splay_insert/4</a></td><td valign="top"><a href="#SEC88">7.16 Splay Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1843">splay_join/3</a></td><td valign="top"><a href="#SEC88">7.16 Splay Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1846">splay_split/5</a></td><td valign="top"><a href="#SEC88">7.16 Splay Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2555">spy_write/2</a></td><td valign="top"><a href="#SEC156">19.1 Debugging Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX423">srandom/1</a></td><td valign="top"><a href="#SEC44">6.8 Arithmetic</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2519">start_low_level_trace/0</a></td><td valign="top"><a href="#SEC153">17. Tracing at Low Level</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2522">start_low_level_trace/0</a></td><td valign="top"><a href="#SEC153">17. Tracing at Low Level</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1492">start_matlab/1</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1052">static_array/3</a></td><td valign="top"><a href="#SEC69">6.20 Arrays</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1064">static_array/3</a></td><td valign="top"><a href="#SEC69">6.20 Arrays</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1055">static_array_location/4</a></td><td valign="top"><a href="#SEC69">6.20 Arrays</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1058">static_array_properties/3</a></td><td valign="top"><a href="#SEC69">6.20 Arrays</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1061">static_array_to_term/3</a></td><td valign="top"><a href="#SEC69">6.20 Arrays</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX486">stream_property/2</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX76">style_check/1</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX79">style_check/1</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX360">sub_atom/5</a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1222">sumargs/4</a></td><td valign="top"><a href="#SEC73">7.1 Apply Macros</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1216">sumlist/4</a></td><td valign="top"><a href="#SEC73">7.1 Apply Macros</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1231">sumnodes/4</a></td><td valign="top"><a href="#SEC73">7.1 Apply Macros</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX955">system/1</a></td><td valign="top"><a href="#SEC62">6.15 Access to Operating System Functionality</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC188_20">T</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2494">table/1</a></td><td valign="top"><a href="#SEC152">16. Tabling</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2513">table_statistics/1</a></td><td valign="top"><a href="#SEC152">16. Tabling</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2500">tabling_mode/2</a></td><td valign="top"><a href="#SEC152">16. Tabling</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2516">tabling_statistics/0</a></td><td valign="top"><a href="#SEC152">16. Tabling</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2293">term_to_atom/2</a></td><td valign="top"><a href="#SEC100">8. SWI-Prolog Emulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2416">thread_at_exit/1</a></td><td valign="top"><a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2398">thread_create/1</a></td><td valign="top"><a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2395">thread_create/2</a></td><td valign="top"><a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2392">thread_create/3</a></td><td valign="top"><a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2407">thread_detach/1</a></td><td valign="top"><a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2413">thread_exit/1</a></td><td valign="top"><a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2446">thread_get_message/1</a></td><td valign="top"><a href="#SEC147">14.3.1 Message Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2455">thread_get_message/2</a></td><td valign="top"><a href="#SEC147">14.3.1 Message Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2404">thread_join/2</a></td><td valign="top"><a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2467">thread_local/1 (directive)</a></td><td valign="top"><a href="#SEC149">14.3.3 Threads and Dynamic Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2458">thread_peek_message/1</a></td><td valign="top"><a href="#SEC147">14.3.1 Message Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2461">thread_peek_message/2</a></td><td valign="top"><a href="#SEC147">14.3.1 Message Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2425">thread_property/2</a></td><td valign="top"><a href="#SEC145">14.2 Monitoring Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2401">thread_self/1</a></td><td valign="top"><a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2440">thread_send_message/1</a></td><td valign="top"><a href="#SEC147">14.3.1 Message Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2443">thread_send_message/2</a></td><td valign="top"><a href="#SEC147">14.3.1 Message Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2419">thread_setconcurrency/2</a></td><td valign="top"><a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2464">thread_signal/2</a></td><td valign="top"><a href="#SEC148">14.3.2 Signalling Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2422">thread_sleep/1</a></td><td valign="top"><a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2431">thread_statistics/3</a></td><td valign="top"><a href="#SEC145">14.2 Monitoring Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2410">thread_yield/0</a></td><td valign="top"><a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2437">threads/0</a></td><td valign="top"><a href="#SEC145">14.2 Monitoring Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX226">throw/1</a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1104">time/1</a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX438">time_file/2</a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2014">trie_check_entry/3</a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2002">trie_close/1</a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2005">trie_close_all/0</a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2017">trie_get_entry/2</a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2029">trie_load/2</a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2035">trie_max_stats/4</a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2008">trie_mode/1</a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1999">trie_open/1</a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2041">trie_print/1</a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2011">trie_put_entry/3</a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2020">trie_remove_entry/1</a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2023">trie_remove_subtree/1</a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2026">trie_save/2</a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2032">trie_stats/4</a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2038">trie_usage/4</a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC188_21">U</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2179">ugraph_to_dgraph/2</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2200">undgraph_add_edges/3</a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2194">undgraph_add_vertices/3</a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2212">undgraph_complement/2</a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2203">undgraph_del_edges/3</a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2188">undgraph_edge/2</a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2191">undgraph_edges/2</a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2206">undgraph_neighbors/3</a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2209">undgraph_neighbours/3</a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2182">undgraph_new/1</a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2185">undgraph_vertices/2</a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX55">unhide/1</a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX958">unix/1</a></td><td valign="top"><a href="#SEC62">6.15 Access to Operating System Functionality</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1076">update_array/3</a></td><td valign="top"><a href="#SEC69">6.20 Arrays</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC188_22">V</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1993">variable_in_term/2</a></td><td valign="top"><a href="#SEC91">7.19 Utilities On Terms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC188_23">W</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2476">with_mutex/2</a></td><td valign="top"><a href="#SEC150">14.4 Thread Synchronisation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2296">working_directory/2</a></td><td valign="top"><a href="#SEC100">8. SWI-Prolog Emulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX713">write_depth/2</a></td><td valign="top"><a href="#SEC52">6.9.7 Controlling Input/Output</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX710">write_depth/3</a></td><td valign="top"><a href="#SEC52">6.9.7 Controlling Input/Output</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC188_24">Y</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1107">yap_flag/2</a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#SEC188_0" class="summary-letter"><b>-</b></a>
 &nbsp; 
<a href="#SEC188_1" class="summary-letter"><b>=</b></a>
 &nbsp; 
<a href="#SEC188_2" class="summary-letter"><b>\</b></a>
 &nbsp; 
<br>
<a href="#SEC188_3" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#SEC188_4" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#SEC188_5" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#SEC188_6" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#SEC188_7" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#SEC188_8" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#SEC188_9" class="summary-letter"><b>G</b></a>
 &nbsp; 
<a href="#SEC188_10" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#SEC188_11" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#SEC188_12" class="summary-letter"><b>K</b></a>
 &nbsp; 
<a href="#SEC188_13" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#SEC188_14" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#SEC188_15" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#SEC188_16" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#SEC188_17" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#SEC188_18" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#SEC188_19" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#SEC188_20" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#SEC188_21" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#SEC188_22" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#SEC188_23" class="summary-letter"><b>W</b></a>
 &nbsp; 
<a href="#SEC188_24" class="summary-letter"><b>Y</b></a>
 &nbsp; 
</td></tr></table>


<hr size="6">
<a name="ISO-Prolog"></a>
<a name="SEC189"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC188" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC190" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC177" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC190" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 23.3 Compatibility with the ISO Prolog standard </h2>

<p>The Prolog standard was developed by ISO/IEC JTC1/SC22/WG17, the
international standardization working group for the programming language
Prolog. The book &quot;Prolog: The Standard&quot; by Deransart, Ed-Dbali and
Cervoni gives a complete description of this standard. Development in
YAP from YAP4.1.6 onwards have striven at making YAP
compatible with ISO Prolog. As such:
</p>
<ul>
<li>   YAP now supports all of the built-ins required by the
ISO-standard, and,
</li><li>   Error-handling is as required by the standard.
</li></ul>

<p>YAP by default is not fully ISO standard compliant. You can set the 
<code>language</code> flag to <code>iso</code> to obtain very good
compatibility. Setting this flag changes the following:
</p>
<ul>
<li> By default, YAP uses &quot;immediate update semantics&quot; for its
database, and not &quot;logical update semantics&quot;, as per the standard,
(see section <a href="#SEC184">Compatibility with the Quintus and SICStus Prolog systems</a>). This affects <code>assert/1</code>,
<code>retract/1</code>, and friends.

<p>Calling <code>set_prolog_flag(update_semantics,logical)</code> will switch
YAP to use logical update semantics.
</p>
</li><li> By default, YAP implements the <code>atom_chars/2</code>
(see section <a href="#SEC40">Predicates on terms</a>), and <code>number_chars/2</code>, (see section <a href="#SEC40">Predicates on terms</a>), built-ins as per the original Quintus Prolog definition, and
not as per the ISO definition.

<p>Calling <code>set_prolog_flag(to_chars_mode,iso)</code> will switch
YAP to use the ISO definition for
<code>atom_chars/2</code> and <code>number_chars/2</code>.
</p>
</li><li> By default, YAP fails on undefined predicates. To follow the ISO
Prolog standard use:
<table><tr><td>&nbsp;</td><td><pre class="example">:- set_prolog_flag(unknown,error).
</pre></td></tr></table>

</li><li> By default, YAP allows executable goals in directives. In ISO mode
most directives can only be called from top level (the exceptions are
<code>set_prolog_flag/2</code> and <code>op/3</code>).

</li><li> Error checking for meta-calls under ISO Prolog mode is stricter
than by default.

</li><li> The <code>strict_iso</code> flag automatically enables the ISO Prolog
standard. This feature should disable all features not present in the
standard.

</li></ul>

<p>The following incompatibilities between YAP and the ISO standard are
known to still exist:
</p>
<ul>
<li> Currently, YAP does not handle overflow errors in integer
operations, and handles floating-point errors only in some
architectures. Otherwise, YAP follows IEEE arithmetic.

</li></ul>

<p>Please inform the authors on other incompatibilities that may still
exist.
</p>
<hr size="6">
<a name="Operators"></a>
<a name="SEC190"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC189" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC191" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC177" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC191" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="appendix"> A. Summary of YAP Predefined Operators </h1>


<p> The Prolog syntax caters for operators of three main kinds:
</p>
<ul>
<li>
prefix;
</li><li>
infix;
</li><li>
postfix.
</li></ul>

<p> Each operator has precedence in the range 1 to 1200, and this 
precedence is used to disambiguate expressions where the structure of the 
term denoted is not made explicit using brackets. The operator of higher 
precedence is the main functor.
</p>
<p> If there are two operators with the highest precedence, the ambiguity 
is solved analyzing the types of the operators. The possible infix types are: 
xfx, xfy, yfx.
</p>
<p> With an operator of type xfx both sub-expressions must have lower 
precedence than the operator itself, unless they are bracketed (which 
assigns to them zero precedence). With an operator type xfy only the  
left-hand sub-expression must have lower precedence. The opposite happens 
for yfx type.
</p>
<p> A prefix operator can be of type fx or fy, and a postfix operator, xf, yf. 
The meaning of the notation is analogous to the above.
</p><table><tr><td>&nbsp;</td><td><pre class="example">a + b * c
</pre></td></tr></table>
<p>means
</p><table><tr><td>&nbsp;</td><td><pre class="example">a + (b * c)
</pre></td></tr></table>
<p>as + and * have the following types and precedences:
</p><table><tr><td>&nbsp;</td><td><pre class="example">:-op(500,yfx,'+').
:-op(400,yfx,'*').
</pre></td></tr></table>

<p>Now defining
</p><table><tr><td>&nbsp;</td><td><pre class="example">:-op(700,xfy,'++').
:-op(700,xfx,'=:=').
a ++ b =:= c
</pre></td></tr></table>
<p>means
</p><table><tr><td>&nbsp;</td><td><pre class="example">a ++ (b =:= c)
</pre></td></tr></table>
 

<p>The following is the list of the declarations of the predefined operators:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">:-op(1200,fx,['?-', ':-']).
:-op(1200,xfx,[':-','--&gt;']).
:-op(1150,fx,[block,dynamic,mode,public,multifile,meta_predicate,
              sequential,table,initialization]).
:-op(1100,xfy,[';','|']).
:-op(1050,xfy,-&gt;).
:-op(1000,xfy,',').
:-op(999,xfy,'.').
:-op(900,fy,['\+', not]).
:-op(900,fx,[nospy, spy]).
:-op(700,xfx,[@&gt;=,@=&lt;,@&lt;,@&gt;,&lt;,=,&gt;,=:=,=\=,\==,&gt;=,=&lt;,==,\=,=..,is]).
:-op(500,yfx,['\/','/\','+','-']).
:-op(500,fx,['+','-']).
:-op(400,yfx,['&lt;&lt;','&gt;&gt;','//','*','/']).
:-op(300,xfx,mod).
:-op(200,xfy,['^','**']).
:-op(50,xfx,same).
</pre></td></tr></table>

<hr size="6">
<a name="Predicate-Index"></a>
<a name="SEC191"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC190" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC192" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC190" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC192" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="unnumbered"> Predicate Index </h1>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#SEC191_0" class="summary-letter"><b>!</b></a>
 &nbsp; 
<a href="#SEC191_1" class="summary-letter"><b>,</b></a>
 &nbsp; 
<a href="#SEC191_2" class="summary-letter"><b>-</b></a>
 &nbsp; 
<a href="#SEC191_3" class="summary-letter"><b>;</b></a>
 &nbsp; 
<a href="#SEC191_4" class="summary-letter"><b>&lt;</b></a>
 &nbsp; 
<a href="#SEC191_5" class="summary-letter"><b>=</b></a>
 &nbsp; 
<a href="#SEC191_6" class="summary-letter"><b>&gt;</b></a>
 &nbsp; 
<a href="#SEC191_7" class="summary-letter"><b>@</b></a>
 &nbsp; 
<a href="#SEC191_8" class="summary-letter"><b>[</b></a>
 &nbsp; 
<a href="#SEC191_9" class="summary-letter"><b>\</b></a>
 &nbsp; 
<br>
<a href="#SEC191_10" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#SEC191_11" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#SEC191_12" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#SEC191_13" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#SEC191_14" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#SEC191_15" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#SEC191_16" class="summary-letter"><b>G</b></a>
 &nbsp; 
<a href="#SEC191_17" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#SEC191_18" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#SEC191_19" class="summary-letter"><b>J</b></a>
 &nbsp; 
<a href="#SEC191_20" class="summary-letter"><b>K</b></a>
 &nbsp; 
<a href="#SEC191_21" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#SEC191_22" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#SEC191_23" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#SEC191_24" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#SEC191_25" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#SEC191_26" class="summary-letter"><b>Q</b></a>
 &nbsp; 
<a href="#SEC191_27" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#SEC191_28" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#SEC191_29" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#SEC191_30" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#SEC191_31" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#SEC191_32" class="summary-letter"><b>W</b></a>
 &nbsp; 
<a href="#SEC191_33" class="summary-letter"><b>Y</b></a>
 &nbsp; 
</td></tr></table>
<table border="0" class="index-fn">
<tr><td></td><th align="left">Index Entry</th><th align="left"> Section</th></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_0">!</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX177"><code>!/0</code></a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_1">,</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX162"><code>,/2</code></a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_2">-</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX189"><code>-&gt;*/2</code></a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX186"><code>-&gt;/2</code></a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_3">;</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX165"><code>;/2</code></a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_4">&lt;</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX404"><code>&lt;/2</code></a></td><td valign="top"><a href="#SEC44">6.8 Arithmetic</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_5">=</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX308"><code>=../2</code></a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX311"><code>=/2</code></a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX416"><code>=:=/2</code></a></td><td valign="top"><a href="#SEC44">6.8 Arithmetic</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX407"><code>=&lt;/2</code></a></td><td valign="top"><a href="#SEC44">6.8 Arithmetic</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX374"><code>==/2</code></a></td><td valign="top"><a href="#SEC43">6.7 Comparing Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2298"><code>=@=/2</code></a></td><td valign="top"><a href="#SEC100">8. SWI-Prolog Emulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX419"><code>=\=/2</code></a></td><td valign="top"><a href="#SEC44">6.8 Arithmetic</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_6">&gt;</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX410"><code>&gt;/2</code></a></td><td valign="top"><a href="#SEC44">6.8 Arithmetic</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX413"><code>&gt;=/2</code></a></td><td valign="top"><a href="#SEC44">6.8 Arithmetic</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_7">@</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX380"><code>@&lt;/2</code></a></td><td valign="top"><a href="#SEC43">6.7 Comparing Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX383"><code>@=&lt;/2</code></a></td><td valign="top"><a href="#SEC43">6.7 Comparing Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX386"><code>@&gt;/2</code></a></td><td valign="top"><a href="#SEC43">6.7 Comparing Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX389"><code>@&gt;=/2</code></a></td><td valign="top"><a href="#SEC43">6.7 Comparing Terms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_8">[</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX21"><code>[-]/1</code></a></td><td valign="top"><a href="#SEC26">4.1 Program loading and updating</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX18"><code>[]/1</code></a></td><td valign="top"><a href="#SEC26">4.1 Program loading and updating</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_9">\</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX180"><code>\+/1</code></a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX314"><code>\=/2</code></a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX377"><code>\==/2</code></a></td><td valign="top"><a href="#SEC43">6.7 Comparing Terms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_10">A</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX765"><code>abolish/1</code></a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX768"><code>abolish/2</code></a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2506"><code>abolish_all_tables/0</code></a></td><td valign="top"><a href="#SEC152">16. Tabling</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2503"><code>abolish_table/1</code></a></td><td valign="top"><a href="#SEC152">16. Tabling</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX210"><code>abort/0</code></a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX443"><code>absolute_file_name/2</code></a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX440"><code>absolute_file_name/3</code></a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2094"><code>add_edges/3</code></a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1078"><code>add_to_array_element/4</code></a></td><td valign="top"><a href="#SEC69">6.20 Arrays</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1296"><code>add_to_heap/4</code></a></td><td valign="top"><a href="#SEC76">7.4 Heaps</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX66"><code>add_to_path/1</code></a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX69"><code>add_to_path/2</code></a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2088"><code>add_vertices/3</code></a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX960"><code>alarm/3</code></a></td><td valign="top"><a href="#SEC62">6.15 Access to Operating System Functionality</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX909"><code>all/3</code></a></td><td valign="top"><a href="#SEC60">6.13 Collecting Solutions to a Goal</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX714"><code>always_prompt_user/0</code></a></td><td valign="top"><a href="#SEC52">6.9.7 Controlling Input/Output</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1323"><code>append/2</code></a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1320"><code>append/3</code></a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2271"><code>append/3</code></a></td><td valign="top"><a href="#SEC100">8. SWI-Prolog Emulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX302"><code>arg/3</code></a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1109"><code>argv (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1048"><code>array/2</code></a></td><td valign="top"><a href="#SEC69">6.20 Arrays</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1072"><code>array_element/3</code></a></td><td valign="top"><a href="#SEC69">6.20 Arrays</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX756"><code>assert/1</code></a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX822"><code>assert/2</code></a></td><td valign="top"><a href="#SEC57">6.10.3 Using Data Base References</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX771"><code>assert_static/1</code></a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX759"><code>asserta/1</code></a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX825"><code>asserta/2</code></a></td><td valign="top"><a href="#SEC57">6.10.3 Using Data Base References</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX774"><code>asserta_static/1</code></a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX762"><code>assertz/1</code></a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX828"><code>assertz/2</code></a></td><td valign="top"><a href="#SEC57">6.10.3 Using Data Base References</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX777"><code>assertz_static/1</code></a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1233"><code>assoc_to_list/2</code></a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX476"><code>at_end_of_stream/0</code></a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX479"><code>at_end_of_stream/1</code></a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX263"><code>atom/1</code></a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX329"><code>atom_chars/2</code></a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX332"><code>atom_codes/2</code></a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX335"><code>atom_concat/2</code></a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX344"><code>atom_concat/3</code></a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX341"><code>atom_length/2</code></a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX353"><code>atom_number/2</code></a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1860"><code>atom_to_chars/2</code></a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1863"><code>atom_to_chars/3</code></a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX266"><code>atomic/1</code></a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX338"><code>atomic_concat/2</code></a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2322"><code>attr_unify_hook/2</code></a></td><td valign="top"><a href="#SEC103">8.3 hProlog and SWI-Prolog Attributed Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2369"><code>attribute/1 (declaration)</code></a></td><td valign="top"><a href="#SEC111">10.1 Attribute Declarations</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2382"><code>attribute_goal/2</code></a></td><td valign="top"><a href="#SEC114">10.4 Displaying Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2379"><code>attvar/1</code></a></td><td valign="top"><a href="#SEC113">10.3 Attributed Unification</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1290"><code>avl_insert/4</code></a></td><td valign="top"><a href="#SEC75">7.3 AVL Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1293"><code>avl_lookup/3</code></a></td><td valign="top"><a href="#SEC75">7.3 AVL Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1287"><code>avl_new/1</code></a></td><td valign="top"><a href="#SEC75">7.3 AVL Trees</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_11">B</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX988"><code>b_getval/2</code></a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2337"><code>b_getval/2</code></a></td><td valign="top"><a href="#SEC105">8.4 SWI Global variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX985"><code>b_setval/2</code></a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2334"><code>b_setval/2</code></a></td><td valign="top"><a href="#SEC105">8.4 SWI Global variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX912"><code>bagof/3</code></a></td><td valign="top"><a href="#SEC60">6.13 Collecting Solutions to a Goal</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX897"><code>bb_delete/2</code></a></td><td valign="top"><a href="#SEC59">6.12 The Blackboard</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX894"><code>bb_get/2</code></a></td><td valign="top"><a href="#SEC59">6.12 The Blackboard</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX891"><code>bb_put/2</code></a></td><td valign="top"><a href="#SEC59">6.12 The Blackboard</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX900"><code>bb_update/3</code></a></td><td valign="top"><a href="#SEC59">6.12 The Blackboard</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2274"><code>between/3</code></a></td><td valign="top"><a href="#SEC100">8. SWI-Prolog Emulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1110"><code>bounded (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX213"><code>break/0</code></a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_12">C</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX933"><code>C/3</code></a></td><td valign="top"><a href="#SEC61">6.14 Grammar Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX195"><code>call/1</code></a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2046"><code>call_cleanup/1</code></a></td><td valign="top"><a href="#SEC93">7.21 Call Cleanup</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2049"><code>call_cleanup/2</code></a></td><td valign="top"><a href="#SEC93">7.21 Call Cleanup</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1042"><code>call_count_data/0</code></a></td><td valign="top"><a href="#SEC68">6.19 Counting Calls</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1039"><code>call_count_data/3</code></a></td><td valign="top"><a href="#SEC68">6.19 Counting Calls</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1045"><code>call_count_data/3</code></a></td><td valign="top"><a href="#SEC68">6.19 Counting Calls</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1111"><code>call_counting (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2364"><code>call_residue/2</code></a></td><td valign="top"><a href="#SEC109">9.2 Co-routining</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX201"><code>call_with_args/n</code></a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX293"><code>callable/1</code></a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX222"><code>catch/3</code></a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX936"><code>cd/1</code></a></td><td valign="top"><a href="#SEC62">6.15 Access to Operating System Functionality</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX362"><code>char_code/2</code></a></td><td valign="top"><a href="#SEC42">6.6 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1112"><code>char_conversion (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX538"><code>char_conversion/2</code></a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX365"><code>char_type/2</code></a></td><td valign="top"><a href="#SEC42">6.6 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX497"><code>character_count/2</code></a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1113"><code>character_escapes (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2277"><code>chdir/1</code></a></td><td valign="top"><a href="#SEC100">8. SWI-Prolog Emulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1206"><code>checklist/2</code></a></td><td valign="top"><a href="#SEC73">7.1 Apply Macros</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1227"><code>checknodes/3</code></a></td><td valign="top"><a href="#SEC73">7.1 Apply Macros</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX780"><code>clause/2</code></a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX783"><code>clause/3</code></a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2055"><code>cleanup_all/0</code></a></td><td valign="top"><a href="#SEC93">7.21 Call Cleanup</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX431"><code>close/1</code></a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX434"><code>close/2</code></a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1494"><code>close_matlab/0</code></a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1066"><code>close_static_array/1</code></a></td><td valign="top"><a href="#SEC69">6.20 Arrays</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX368"><code>code_type/2</code></a></td><td valign="top"><a href="#SEC42">6.6 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX371"><code>compare/3</code></a></td><td valign="top"><a href="#SEC43">6.7 Comparing Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX24"><code>compile/1</code></a></td><td valign="top"><a href="#SEC26">4.1 Program loading and updating</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX45"><code>compile_expressions/0</code></a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2109"><code>complement/2</code></a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2112"><code>compose/3</code></a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX269"><code>compound/1</code></a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2280"><code>concat_atom/2</code></a></td><td valign="top"><a href="#SEC100">8. SWI-Prolog Emulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2283"><code>concat_atom/3</code></a></td><td valign="top"><a href="#SEC100">8. SWI-Prolog Emulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX12"><code>consult/1</code></a></td><td valign="top"><a href="#SEC26">4.1 Program loading and updating</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1212"><code>convlist/3</code></a></td><td valign="top"><a href="#SEC73">7.1 Apply Macros</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX320"><code>copy_term/2</code></a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2331"><code>copy_term_nat/2</code></a></td><td valign="top"><a href="#SEC104">8.3.1 Special Purpose SWI Predicates for Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1093"><code>cputime (statistics/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX970"><code>create_mutable/2</code></a></td><td valign="top"><a href="#SEC63">6.16 Term Modification</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX807"><code>current_atom/1</code></a></td><td valign="top"><a href="#SEC56">6.10.2 Looking at the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX541"><code>current_char_conversion/2</code></a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX470"><code>current_input/1</code></a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX870"><code>current_key/2</code></a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX488"><code>current_line_number/1</code></a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX491"><code>current_line_number/2</code></a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1081"><code>current_module/1</code></a></td><td valign="top"><a href="#SEC70">6.21 Predicate Information</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1084"><code>current_module/2</code></a></td><td valign="top"><a href="#SEC70">6.21 Predicate Information</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2490"><code>current_mutex/3</code></a></td><td valign="top"><a href="#SEC150">14.4 Thread Synchronisation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1176"><code>current_op/3</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX473"><code>current_output/1</code></a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX810"><code>current_predicate/1</code></a></td><td valign="top"><a href="#SEC56">6.10.2 Looking at the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX813"><code>current_predicate/2</code></a></td><td valign="top"><a href="#SEC56">6.10.2 Looking at the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1164"><code>current_prolog_flag/2</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX449"><code>current_stream/3</code></a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2427"><code>current_thread/2</code></a></td><td valign="top"><a href="#SEC145">14.2 Monitoring Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1968"><code>cyclic_term/1</code></a></td><td valign="top"><a href="#SEC91">7.19 Utilities On Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1971"><code>cyclic_term/1</code></a></td><td valign="top"><a href="#SEC91">7.19 Utilities On Terms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_13">D</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1887"><code>datime/1</code></a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX272"><code>db_reference/1C</code></a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1114"><code>debug (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2533"><code>debug/0</code></a></td><td valign="top"><a href="#SEC156">19.1 Debugging Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1115"><code>debugger_print_options (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2536"><code>debugging/0</code></a></td><td valign="top"><a href="#SEC156">19.1 Debugging Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1236"><code>del_assoc/4</code></a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2319"><code>del_attr/2</code></a></td><td valign="top"><a href="#SEC103">8.3 hProlog and SWI-Prolog Attributed Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2097"><code>del_edges/3</code></a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1239"><code>del_max_assoc/4</code></a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1242"><code>del_min_assoc/4</code></a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2091"><code>del_vertices/3</code></a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1326"><code>delete/3</code></a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1893"><code>delete_file/1</code></a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1896"><code>delete_file/2</code></a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2145"><code>dgraph_add_edges/3</code></a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2139"><code>dgraph_add_vertices/3</code></a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2157"><code>dgraph_complement/2</code></a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2163"><code>dgraph_compose/3</code></a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2148"><code>dgraph_del_edges/3</code></a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2142"><code>dgraph_del_vertices/3</code></a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2133"><code>dgraph_edge/2</code></a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2136"><code>dgraph_edges/2</code></a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2151"><code>dgraph_neighbors/3</code></a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2154"><code>dgraph_neighbours/3</code></a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2127"><code>dgraph_new/1</code></a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2169"><code>dgraph_symmetric_closure/2</code></a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2175"><code>dgraph_to_ugraph/2</code></a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2214"><code>dgraph_to_undgraph/2</code></a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2172"><code>dgraph_top_sort/2</code></a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2166"><code>dgraph_transitive_closure/2</code></a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2160"><code>dgraph_transpose/2</code></a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2130"><code>dgraph_vertices/2</code></a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1116"><code>dialect (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2352"><code>dif/2</code></a></td><td valign="top"><a href="#SEC109">9.2 Co-routining</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1197"><code>directory (prolog_load_context/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1899"><code>directory_files/2</code></a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX84"><code>discontiguous/1 (directive)</code></a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1117"><code>discontiguous_warnings (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1141"><code>discontiguous_warnings (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX547"><code>display/1</code></a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX550"><code>display/1</code></a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX622"><code>display/1</code></a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX631"><code>display/2</code></a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX48"><code>do_not_compile_expressions/0</code></a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1118"><code>dollar_as_lower_case (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1119"><code>double_quotes (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX323"><code>duplicate_term/2</code></a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX750"><code>dynamic/1</code></a></td><td valign="top"><a href="#SEC54">6.10 Using the Clausal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX753"><code>dynamic_predicate/2</code></a></td><td valign="top"><a href="#SEC54">6.10 Using the Clausal Data Base</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_14">E</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2085"><code>edges/2</code></a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX114"><code>elif/1 directive</code></a></td><td valign="top"><a href="#SEC28">4.3 Conditional Compilation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX108"><code>else/0 directive</code></a></td><td valign="top"><a href="#SEC28">4.3 Conditional Compilation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1245"><code>empty_assoc/1</code></a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1299"><code>empty_heap/1</code></a></td><td valign="top"><a href="#SEC76">7.4 Heaps</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1704"><code>empty_queue/1</code></a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX111"><code>endif/0 directive</code></a></td><td valign="top"><a href="#SEC28">4.3 Conditional Compilation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX30"><code>ensure_loaded/1</code></a></td><td valign="top"><a href="#SEC26">4.1 Program loading and updating</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX939"><code>environ/2</code></a></td><td valign="top"><a href="#SEC62">6.15 Access to Operating System Functionality</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1917"><code>environ/2</code></a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX858"><code>erase/1</code></a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX867"><code>eraseall/1</code></a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX861"><code>erased/1</code></a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1938"><code>exec/3</code></a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX700"><code>exists/1</code></a></td><td valign="top"><a href="#SEC52">6.9.7 Controlling Input/Output</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX60"><code>expand_exprs/2</code></a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX918"><code>expand_term/2</code></a></td><td valign="top"><a href="#SEC61">6.14 Grammar Rules</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_15">F</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX171"><code>fail/0</code></a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX174"><code>false/0</code></a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1120"><code>fast (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1198"><code>file (prolog_load_context/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1200"><code>file (prolog_load_context/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1201"><code>file (prolog_load_context/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1202"><code>file (prolog_load_context/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX446"><code>file_base_name/2</code></a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1902"><code>file_exists/1</code></a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1905"><code>file_exists/2</code></a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1908"><code>file_property/2</code></a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX93"><code>file_search_path/2</code></a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1121"><code>fileerrors (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX706"><code>fileerrors/0</code></a></td><td valign="top"><a href="#SEC52">6.9.7 Controlling Input/Output</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX903"><code>findall/3</code></a></td><td valign="top"><a href="#SEC60">6.13 Collecting Solutions to a Goal</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX906"><code>findall/4</code></a></td><td valign="top"><a href="#SEC60">6.13 Collecting Solutions to a Goal</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1329"><code>flatten/2</code></a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX275"><code>float/1</code></a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1122"><code>float_format (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX455"><code>flush_output/0</code></a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX458"><code>flush_output/1</code></a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2310"><code>forall/2</code></a></td><td valign="top"><a href="#SEC102">8.2 Forall</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX562"><code>format/2</code></a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX565"><code>format/3</code></a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1848"><code>format_to_chars/3</code></a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1851"><code>format_to_chars/4</code></a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2043"><code>fragile</code></a></td><td valign="top"><a href="#SEC93">7.21 Call Cleanup</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2355"><code>freeze/2</code></a></td><td valign="top"><a href="#SEC109">9.2 Co-routining</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2358"><code>frozen/2</code></a></td><td valign="top"><a href="#SEC109">9.2 Co-routining</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX305"><code>functor/3</code></a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_16">G</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX228"><code>garbage_collect/0</code></a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX231"><code>garbage_collect_atoms/0</code></a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1094"><code>garbage_collection (statistics/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1123"><code>gc (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX234"><code>gc/0</code></a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1124"><code>gc_margin (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1125"><code>gc_trace (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1248"><code>gen_assoc/3</code></a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1126"><code>generate_debugging_info (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX580"><code>get/1</code></a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX649"><code>get/2</code></a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX583"><code>get0/1</code></a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX652"><code>get0/2</code></a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1260"><code>get_assoc/3</code></a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1254"><code>get_assoc/5</code></a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2316"><code>get_attr/3</code></a></td><td valign="top"><a href="#SEC103">8.3 hProlog and SWI-Prolog Attributed Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2325"><code>get_attrs/2</code></a></td><td valign="top"><a href="#SEC104">8.3.1 Special Purpose SWI Predicates for Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2370"><code>get_atts/2</code></a></td><td valign="top"><a href="#SEC112">10.2 Attribute Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX586"><code>get_byte/1</code></a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX655"><code>get_byte/2</code></a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX589"><code>get_char/1</code></a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX658"><code>get_char/2</code></a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX592"><code>get_code/1</code></a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX661"><code>get_code/2</code></a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1302"><code>get_from_heap/4</code></a></td><td valign="top"><a href="#SEC76">7.4 Heaps</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2061"><code>get_label/3</code></a></td><td valign="top"><a href="#SEC95">7.23 Updatable Binary Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX973"><code>get_mutable/2</code></a></td><td valign="top"><a href="#SEC63">6.16 Term Modification</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX979"><code>get_mutable/2</code></a></td><td valign="top"><a href="#SEC63">6.16 Term Modification</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1251"><code>get_next_assoc/4</code></a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1257"><code>get_prev_assoc/4</code></a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX879"><code>get_value/2</code></a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX942"><code>getcwd/1</code></a></td><td valign="top"><a href="#SEC62">6.15 Access to Operating System Functionality</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1716"><code>getrand/1</code></a></td><td valign="top"><a href="#SEC84">7.12 Random Number Generator</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1095"><code>global_stack (statistics/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX924"><code>goal_expansion/3</code></a></td><td valign="top"><a href="#SEC61">6.14 Grammar Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX299"><code>ground/1</code></a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX242"><code>grow_stack/1</code></a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_17">H</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX216"><code>halt/0</code></a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX219"><code>halt/1</code></a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1698"><code>head_queue/2</code></a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1097"><code>heap (statistics/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1305"><code>heap_size/2</code></a></td><td valign="top"><a href="#SEC76">7.4 Heaps</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1308"><code>heap_to_list/2</code></a></td><td valign="top"><a href="#SEC76">7.4 Heaps</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX51"><code>hide/1</code></a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX57"><code>hide_predicate/1</code></a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1920"><code>host_id/1</code></a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1923"><code>host_name/1</code></a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1127"><code>host_type (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_18">I</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX105"><code>if/1 directive</code></a></td><td valign="top"><a href="#SEC28">4.3 Conditional Compilation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX204"><code>if/3</code></a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX33"><code>include/1 (directive)</code></a></td><td valign="top"><a href="#SEC26">4.1 Program loading and updating</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX198"><code>incore/1</code></a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1128"><code>index (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1129"><code>informational_messages (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1182"><code>initialization/0</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX87"><code>initialization/1 (directive)</code></a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX864"><code>instance/2</code></a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX278"><code>integer/1</code></a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1130"><code>integer_rounding_function (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX401"><code>is/2</code></a></td><td valign="top"><a href="#SEC44">6.8 Arithmetic</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1263"><code>is_assoc/1</code></a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1332"><code>is_list/1</code></a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX976"><code>is_mutable/1</code></a></td><td valign="top"><a href="#SEC63">6.16 Term Modification</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1758"><code>is_rbtree/1</code></a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX452"><code>is_stream/1</code></a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2496"><code>is_tabled/1</code></a></td><td valign="top"><a href="#SEC152">16. Tabling</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_19">J</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1686"><code>join_queue/3</code></a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1692"><code>jump_queue/3</code></a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_20">K</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX876"><code>key_statistics/3</code></a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX873"><code>key_statistics/4</code></a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX395"><code>keysort/2</code></a></td><td valign="top"><a href="#SEC43">6.7 Comparing Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1926"><code>kill/2</code></a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_21">L</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1131"><code>language (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1335"><code>last/2</code></a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2551"><code>leash/1</code></a></td><td valign="top"><a href="#SEC156">19.1 Debugging Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX398"><code>length/2</code></a></td><td valign="top"><a href="#SEC43">6.7 Comparing Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1707"><code>length_queue/2</code></a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX90"><code>library_directory/1</code></a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX96"><code>library_directory/1</code></a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX494"><code>line_count/2</code></a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX500"><code>line_position/2</code></a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1338"><code>list_concat/2</code></a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1689"><code>list_join_queue/3</code></a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1695"><code>list_jump_queue/3</code></a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1266"><code>list_to_assoc/2</code></a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1311"><code>list_to_heap/2</code></a></td><td valign="top"><a href="#SEC76">7.4 Heaps</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1617"><code>list_to_ord_set/2</code></a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1710"><code>list_to_queue/2</code></a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1818"><code>list_to_rbtree/2</code></a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1821"><code>list_to_rbtree/2</code></a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2064"><code>list_to_tree/2</code></a></td><td valign="top"><a href="#SEC95">7.23 Updatable Binary Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX795"><code>listing/0</code></a></td><td valign="top"><a href="#SEC56">6.10.2 Looking at the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX798"><code>listing/1</code></a></td><td valign="top"><a href="#SEC56">6.10.2 Looking at the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX27"><code>load_files/2</code></a></td><td valign="top"><a href="#SEC26">4.1 Program loading and updating</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1096"><code>local_stack (statistics/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_22">M</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1911"><code>make_directory/2</code></a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1683"><code>make_queue/1</code></a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1269"><code>map_assoc/2</code></a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1272"><code>map_assoc/3</code></a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2067"><code>map_tree/3</code></a></td><td valign="top"><a href="#SEC95">7.23 Updatable Binary Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1218"><code>mapargs/3</code></a></td><td valign="top"><a href="#SEC73">7.1 Apply Macros</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2301"><code>maplist/2</code></a></td><td valign="top"><a href="#SEC101">8.1 Invoking Predicates on all Members of a List</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1203"><code>maplist/3</code></a></td><td valign="top"><a href="#SEC73">7.1 Apply Macros</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2304"><code>maplist/3</code></a></td><td valign="top"><a href="#SEC101">8.1 Invoking Predicates on all Members of a List</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2307"><code>maplist/4</code></a></td><td valign="top"><a href="#SEC101">8.1 Invoking Predicates on all Members of a List</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1224"><code>mapnodes/3</code></a></td><td valign="top"><a href="#SEC73">7.1 Apply Macros</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1506"><code>matlab_cells/2</code></a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1509"><code>matlab_cells/3</code></a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1500"><code>matlab_eval_string/1</code></a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1503"><code>matlab_eval_string/2</code></a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1521"><code>matlab_get_variable/2</code></a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1512"><code>matlab_initialized_cells/4</code></a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1524"><code>matlab_item/3</code></a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1530"><code>matlab_item/3</code></a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1527"><code>matlab_item/4</code></a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1533"><code>matlab_item/4</code></a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1515"><code>matlab_matrix/4</code></a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1497"><code>matlab_on/0</code></a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1536"><code>matlab_sequence/3</code></a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1518"><code>matlab_set/4</code></a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1539"><code>matlab_vector/4</code></a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1542"><code>matlab_zeros/2</code></a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1545"><code>matlab_zeros/3</code></a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1548"><code>matlab_zeros/4</code></a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1551"><code>matlab_zeros/4</code></a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1425"><code>matrix_add/3</code></a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1464"><code>matrix_agg_cols/2</code></a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1461"><code>matrix_agg_lines/2</code></a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1440"><code>matrix_arg_to_offset/3</code></a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1434"><code>matrix_dec/2</code></a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1437"><code>matrix_dec/3</code></a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1401"><code>matrix_dims/2</code></a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1485"><code>matrix_expand/3</code></a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1416"><code>matrix_get/3</code></a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1428"><code>matrix_inc/2</code></a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1431"><code>matrix_inc/3</code></a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1446"><code>matrix_max/2</code></a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1449"><code>matrix_maxarg/2</code></a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1452"><code>matrix_min/2</code></a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1455"><code>matrix_minarg/2</code></a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1404"><code>matrix_ndims/2</code></a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1392"><code>matrix_new/3</code></a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1395"><code>matrix_new/4</code></a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1398"><code>matrix_new_set/4</code></a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1443"><code>matrix_offset_to_arg/3</code></a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1467"><code>matrix_op/4</code></a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1470"><code>matrix_op/4</code></a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1476"><code>matrix_op_to_cols/4</code></a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1473"><code>matrix_op_to_lines/4</code></a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1482"><code>matrix_reorder/3</code></a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1488"><code>matrix_select/3</code></a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1419"><code>matrix_set/3</code></a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1422"><code>matrix_set_all/2</code></a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1479"><code>matrix_shuffle/3</code></a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1407"><code>matrix_size/2</code></a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1458"><code>matrix_sum/2</code></a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1413"><code>matrix_to_list/2</code></a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1410"><code>matrix_type/2</code></a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1132"><code>max_arity (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1275"><code>max_assoc/3</code></a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1133"><code>max_integer (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1386"><code>max_list/2</code></a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1134"><code>max_tagged_integer (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1136"><code>max_tagged_integer (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1163"><code>max_threads (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1341"><code>member/2</code></a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1344"><code>memberchk/2</code></a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1620"><code>merge/3</code></a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX257"><code>message_hook/3</code></a></td><td valign="top"><a href="#SEC39">6.3 Message Handling</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2448"><code>message_queue_create/1</code></a></td><td valign="top"><a href="#SEC147">14.3.1 Message Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2451"><code>message_queue_destroy/1</code></a></td><td valign="top"><a href="#SEC147">14.3.1 Message Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX150"><code>meta_predicate/1 (directive)</code></a></td><td valign="top"><a href="#SEC34">5.4 Meta-Predicates in Modules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1278"><code>min_assoc/3</code></a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1135"><code>min_integer (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1389"><code>min_list/2</code></a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1314"><code>min_of_heap/3</code></a></td><td valign="top"><a href="#SEC76">7.4 Heaps</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1317"><code>min_of_heap/5</code></a></td><td valign="top"><a href="#SEC76">7.4 Heaps</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1929"><code>mktemp/2</code></a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1890"><code>mktime/2</code></a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1199"><code>module (prolog_load_context/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX138"><code>module/1</code></a></td><td valign="top"><a href="#SEC32">5.2 Defining a New Module</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX132"><code>module/2 (directive)</code></a></td><td valign="top"><a href="#SEC32">5.2 Defining a New Module</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX135"><code>module/3 (directive)</code></a></td><td valign="top"><a href="#SEC32">5.2 Defining a New Module</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX153"><code>module_transparent/1 (directive)</code></a></td><td valign="top"><a href="#SEC34">5.4 Meta-Predicates in Modules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2256"><code>mpi_barrier/0</code></a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2259"><code>mpi_bcast/2</code></a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2262"><code>mpi_bcast/3</code></a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2265"><code>mpi_bcast/3</code></a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2226"><code>mpi_comm_rank/1</code></a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2223"><code>mpi_comm_size/1</code></a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2220"><code>mpi_finalize/0</code></a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2268"><code>mpi_gc/0</code></a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2217"><code>mpi_init/0</code></a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2241"><code>mpi_irecv/3</code></a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2235"><code>mpi_isend/4</code></a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2238"><code>mpi_recv/3</code></a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2232"><code>mpi_send/3</code></a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2253"><code>mpi_test/2</code></a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2247"><code>mpi_test_recv/3</code></a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2229"><code>mpi_version/2</code></a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2250"><code>mpi_wait/2</code></a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2244"><code>mpi_wait_recv/3</code></a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX81"><code>multifile/1 (directive)</code></a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2469"><code>mutex_create/1</code></a></td><td valign="top"><a href="#SEC150">14.4 Thread Synchronisation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2472"><code>mutex_destroy/1</code></a></td><td valign="top"><a href="#SEC150">14.4 Thread Synchronisation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2478"><code>mutex_lock/1</code></a></td><td valign="top"><a href="#SEC150">14.4 Thread Synchronisation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2433"><code>mutex_statistics/0</code></a></td><td valign="top"><a href="#SEC145">14.2 Monitoring Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2481"><code>mutex_trylock/1</code></a></td><td valign="top"><a href="#SEC150">14.4 Thread Synchronisation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2484"><code>mutex_unlock/1</code></a></td><td valign="top"><a href="#SEC150">14.4 Thread Synchronisation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2487"><code>mutex_unlock_all/0</code></a></td><td valign="top"><a href="#SEC150">14.4 Thread Synchronisation</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_23">N</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1137"><code>n_of_integer_keys_in_bb (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1138"><code>n_of_integer_keys_in_db (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX326"><code>name/2</code></a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1596"><code>nb_beam/1</code></a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1602"><code>nb_beam_add/3</code></a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1599"><code>nb_beam_close/1</code></a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1605"><code>nb_beam_del/3</code></a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1614"><code>nb_beam_empty/1</code></a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1608"><code>nb_beam_peek/3</code></a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1611"><code>nb_beam_size/2</code></a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1012"><code>nb_current/2</code></a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2346"><code>nb_current/2</code></a></td><td valign="top"><a href="#SEC105">8.4 SWI Global variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2349"><code>nb_delete/1</code></a></td><td valign="top"><a href="#SEC105">8.4 SWI Global variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1015"><code>nb_delete/2</code></a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX994"><code>nb_getval/2</code></a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2343"><code>nb_getval/2</code></a></td><td valign="top"><a href="#SEC105">8.4 SWI Global variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1575"><code>nb_heap/1</code></a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1581"><code>nb_heap_add/3</code></a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1578"><code>nb_heap_close/1</code></a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1584"><code>nb_heap_del/3</code></a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1593"><code>nb_heap_empty/1</code></a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1587"><code>nb_heap_peek/3</code></a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1590"><code>nb_heap_size/2</code></a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1009"><code>nb_linkarg/3</code></a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX997"><code>nb_linkval/2</code></a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1554"><code>nb_queue/1</code></a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1557"><code>nb_queue_close/3</code></a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1563"><code>nb_queue_dequeue/2</code></a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1572"><code>nb_queue_empty/1</code></a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1560"><code>nb_queue_enqueue/2</code></a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1566"><code>nb_queue_peek/2</code></a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1569"><code>nb_queue_size/2</code></a></td><td valign="top"><a href="#SEC80">7.8 Non-Backtrackable Data Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1006"><code>nb_set_shared_arg/3</code></a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1000"><code>nb_set_shared_val/2</code></a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1003"><code>nb_setarg/3</code></a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX991"><code>nb_setval/2</code></a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2340"><code>nb_setval/2</code></a></td><td valign="top"><a href="#SEC105">8.4 SWI Global variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2103"><code>neighbors/3</code></a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2106"><code>neighbours/3</code></a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX610"><code>nl/0</code></a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX679"><code>nl/1</code></a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX42"><code>no_source/0</code></a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX78"><code>no_style_check/1</code></a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2539"><code>nodebug/0</code></a></td><td valign="top"><a href="#SEC156">19.1 Debugging Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX703"><code>nofileerrors/0</code></a></td><td valign="top"><a href="#SEC52">6.9.7 Controlling Input/Output</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX237"><code>nogc/0</code></a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX281"><code>nonvar/1</code></a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2545"><code>nospy/1</code></a></td><td valign="top"><a href="#SEC156">19.1 Debugging Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2548"><code>nospyall/0</code></a></td><td valign="top"><a href="#SEC156">19.1 Debugging Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX183"><code>not/1</code></a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2560"><code>notrace/0</code></a></td><td valign="top"><a href="#SEC156">19.1 Debugging Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1350"><code>nth/2</code></a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1356"><code>nth/4</code></a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1347"><code>nth0/2</code></a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1353"><code>nth0/4</code></a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2286"><code>nth1/3</code></a></td><td valign="top"><a href="#SEC100">8. SWI-Prolog Emulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX786"><code>nth_clause/3</code></a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX855"><code>nth_recorded/3</code></a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX284"><code>number/1</code></a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX356"><code>number_atom/2</code></a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX347"><code>number_chars/2</code></a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX350"><code>number_codes/2</code></a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1866"><code>number_to_chars/2</code></a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1869"><code>number_to_chars/3</code></a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX296"><code>numbervars/3</code></a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_24">O</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2052"><code>on_cleanup/1</code></a></td><td valign="top"><a href="#SEC93">7.21 Call Cleanup</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX963"><code>on_signal/3</code></a></td><td valign="top"><a href="#SEC62">6.15 Access to Operating System Functionality</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX207"><code>once/1</code></a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1173"><code>op/3</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX425"><code>open/3</code></a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX428"><code>open/4</code></a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1875"><code>open_chars_stream/2</code></a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1139"><code>open_expands_filename (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1623"><code>ord_add_element/3</code></a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1626"><code>ord_del_element/3</code></a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1629"><code>ord_disjoint/2</code></a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1635"><code>ord_insert/3</code></a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1638"><code>ord_intersect/2</code></a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1641"><code>ord_intersect/3</code></a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1644"><code>ord_intersect/4</code></a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1281"><code>ord_list_to_assoc/2</code></a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1632"><code>ord_member/2</code></a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1647"><code>ord_seteq/2</code></a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1650"><code>ord_setproduct/3</code></a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1656"><code>ord_subtract/3</code></a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1659"><code>ord_symdiff/3</code></a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1662"><code>ord_union/2</code></a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1665"><code>ord_union/3</code></a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1668"><code>ord_union/4</code></a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1653"><code>ordsubset/2</code></a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_25">P</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX63"><code>path/1</code></a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX595"><code>peek_byte/1</code></a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX664"><code>peek_byte/2</code></a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX598"><code>peek_char/1</code></a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX667"><code>peek_char/2</code></a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX601"><code>peek_code/1</code></a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX670"><code>peek_code/2</code></a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1359"><code>permutation/2</code></a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX930"><code>phrase/2</code></a></td><td valign="top"><a href="#SEC61">6.14 Grammar Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX927"><code>phrase/3</code></a></td><td valign="top"><a href="#SEC61">6.14 Grammar Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1932"><code>pid/1</code></a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1944"><code>popen/3</code></a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX801"><code>portray_clause/1</code></a></td><td valign="top"><a href="#SEC56">6.10.2 Looking at the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX804"><code>portray_clause/2</code></a></td><td valign="top"><a href="#SEC56">6.10.2 Looking at the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX819"><code>predicate_property/2</code></a></td><td valign="top"><a href="#SEC56">6.10.2 Looking at the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX287"><code>primitive/1</code></a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX559"><code>print/1</code></a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX634"><code>print/2</code></a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX251"><code>print_message/2</code></a></td><td valign="top"><a href="#SEC39">6.3 Message Handling</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX254"><code>print_message_lines/3</code></a></td><td valign="top"><a href="#SEC39">6.3 Message Handling</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1018"><code>profile_data/3</code></a></td><td valign="top"><a href="#SEC66">6.18.1 The Count Profiler</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1021"><code>profiled_reset/0</code></a></td><td valign="top"><a href="#SEC66">6.18.1 The Count Profiler</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1140"><code>profiling (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1024"><code>profinit/0</code></a></td><td valign="top"><a href="#SEC67">6.18.2 Tick Profiler</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1030"><code>profoff/0</code></a></td><td valign="top"><a href="#SEC67">6.18.2 Tick Profiler</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1027"><code>profon/0</code></a></td><td valign="top"><a href="#SEC67">6.18.2 Tick Profiler</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1098"><code>program (statistics/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2385"><code>project_attributes/2</code></a></td><td valign="top"><a href="#SEC114">10.4 Displaying Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2388"><code>project_attributes/2</code></a></td><td valign="top"><a href="#SEC115">10.5 Projecting Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX99"><code>prolog_file_name/2</code></a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1167"><code>prolog_flag/3</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1185"><code>prolog_initialization/1</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1194"><code>prolog_load_context/2</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1179"><code>prompt/2</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX102"><code>public/1 (directive)</code></a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX568"><code>put/1</code></a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX637"><code>put/2</code></a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1284"><code>put_assoc/4</code></a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2313"><code>put_attr/3</code></a></td><td valign="top"><a href="#SEC103">8.3 hProlog and SWI-Prolog Attributed Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2328"><code>put_attrs/2</code></a></td><td valign="top"><a href="#SEC104">8.3.1 Special Purpose SWI Predicates for Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2373"><code>put_atts/2</code></a></td><td valign="top"><a href="#SEC112">10.2 Attribute Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX571"><code>put_byte/1</code></a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX640"><code>put_byte/2</code></a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX574"><code>put_char/1</code></a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX643"><code>put_char/2</code></a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX577"><code>put_code/1</code></a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX646"><code>put_code/2</code></a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2070"><code>put_label/4</code></a></td><td valign="top"><a href="#SEC95">7.23 Updatable Binary Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX945"><code>putenv/2</code></a></td><td valign="top"><a href="#SEC62">6.15 Access to Operating System Functionality</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_26">Q</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1713"><code>queue_to_list/2</code></a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_27">R</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1719"><code>random/1</code></a></td><td valign="top"><a href="#SEC84">7.12 Random Number Generator</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1722"><code>random/3</code></a></td><td valign="top"><a href="#SEC84">7.12 Random Number Generator</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1725"><code>randseq/3</code></a></td><td valign="top"><a href="#SEC84">7.12 Random Number Generator</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1728"><code>randset/3</code></a></td><td valign="top"><a href="#SEC84">7.12 Random Number Generator</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1671"><code>rannum/1</code></a></td><td valign="top"><a href="#SEC82">7.10 Pseudo Random Number Integer Generator</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1674"><code>ranstart/0</code></a></td><td valign="top"><a href="#SEC82">7.10 Pseudo Random Number Integer Generator</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1677"><code>ranstart/1</code></a></td><td valign="top"><a href="#SEC82">7.10 Pseudo Random Number Integer Generator</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1680"><code>ranunif/2</code></a></td><td valign="top"><a href="#SEC82">7.10 Pseudo Random Number Integer Generator</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1785"><code>rb_apply/4</code></a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1803"><code>rb_clone/3</code></a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1779"><code>rb_del_max/4</code></a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1776"><code>rb_del_min/4</code></a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1770"><code>rb_delete/3</code></a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1773"><code>rb_delete/4</code></a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1755"><code>rb_empty/1</code></a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1761"><code>rb_insert/4</code></a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1794"><code>rb_keys/2</code></a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1764"><code>rb_lookup/3</code></a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1767"><code>rb_lookupall/3</code></a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1797"><code>rb_map/3</code></a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1809"><code>rb_max/3</code></a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1806"><code>rb_min/3</code></a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1752"><code>rb_new/1</code></a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1812"><code>rb_next/4</code></a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1800"><code>rb_partial_map/4</code></a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1815"><code>rb_previous/4</code></a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1791"><code>rb_size/2</code></a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1782"><code>rb_update/4</code></a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1788"><code>rb_visit/2</code></a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2124"><code>reachable/3</code></a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX527"><code>read/1</code></a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX613"><code>read/2</code></a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1746"><code>read_file_to_codes/3</code></a></td><td valign="top"><a href="#SEC85">7.13 Read Utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1749"><code>read_file_to_terms/3</code></a></td><td valign="top"><a href="#SEC85">7.13 Read Utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1872"><code>read_from_chars/2</code></a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1734"><code>read_line_to_codes/2</code></a></td><td valign="top"><a href="#SEC85">7.13 Read Utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1737"><code>read_line_to_codes/3</code></a></td><td valign="top"><a href="#SEC85">7.13 Read Utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1740"><code>read_stream_to_codes/3</code></a></td><td valign="top"><a href="#SEC85">7.13 Read Utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1743"><code>read_stream_to_codes/3</code></a></td><td valign="top"><a href="#SEC85">7.13 Read Utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX530"><code>read_term/2</code></a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX616"><code>read_term/3</code></a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX15"><code>reconsult/1</code></a></td><td valign="top"><a href="#SEC26">4.1 Program loading and updating</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX834"><code>recorda/3</code></a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX849"><code>recorda/3</code></a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX840"><code>recorda_at/3</code></a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX846"><code>recordaifnot/3</code></a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX888"><code>recordaifnot/3</code></a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX852"><code>recorded/3</code></a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX837"><code>recordz/3</code></a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX843"><code>recordz_at/3</code></a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX885"><code>recordzifnot/3</code></a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX156"><code>reexport/1</code></a></td><td valign="top"><a href="#SEC35">5.5 Re-Exporting Predicates From Other Modules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX159"><code>reexport/2</code></a></td><td valign="top"><a href="#SEC35">5.5 Re-Exporting Predicates From Other Modules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1824"><code>regexp/3</code></a></td><td valign="top"><a href="#SEC87">7.15 Regular Expressions</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1827"><code>regexp/4</code></a></td><td valign="top"><a href="#SEC87">7.15 Regular Expressions</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1362"><code>remove_duplicates/2</code></a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX72"><code>remove_from_path/1</code></a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX948"><code>rename/2</code></a></td><td valign="top"><a href="#SEC62">6.15 Access to Operating System Functionality</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1914"><code>rename_file/2</code></a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX192"><code>repeat/0</code></a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2524"><code>reset_op_counters/0</code></a></td><td valign="top"><a href="#SEC154">18. Profiling the Abstract Machine</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1069"><code>resize_static_array/3</code></a></td><td valign="top"><a href="#SEC69">6.20 Arrays</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX129"><code>restore/1</code></a></td><td valign="top"><a href="#SEC29">4.4 Saving and Loading Prolog States</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX789"><code>retract/1</code></a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX831"><code>retract/2</code></a></td><td valign="top"><a href="#SEC57">6.10.3 Using Data Base References</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX792"><code>retractall/1</code></a></td><td valign="top"><a href="#SEC55">6.10.1 Modification of the Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1365"><code>reverse/2</code></a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1099"><code>runtime (statistics/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_28">S</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1368"><code>same_length/2</code></a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX117"><code>save/1</code></a></td><td valign="top"><a href="#SEC29">4.4 Saving and Loading Prolog States</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX120"><code>save/2</code></a></td><td valign="top"><a href="#SEC29">4.4 Saving and Loading Prolog States</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX123"><code>save_program/1</code></a></td><td valign="top"><a href="#SEC29">4.4 Saving and Loading Prolog States</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX126"><code>save_program/2</code></a></td><td valign="top"><a href="#SEC29">4.4 Saving and Loading Prolog States</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX518"><code>see/1</code></a></td><td valign="top"><a href="#SEC47">6.9.2 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX521"><code>seeing/1</code></a></td><td valign="top"><a href="#SEC47">6.9.2 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX524"><code>seen/0</code></a></td><td valign="top"><a href="#SEC47">6.9.2 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1371"><code>select/3</code></a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1209"><code>selectlist/3</code></a></td><td valign="top"><a href="#SEC73">7.1 Apply Macros</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1701"><code>serve_queue/3</code></a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX461"><code>set_input/1</code></a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX464"><code>set_output/1</code></a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1170"><code>set_prolog_flag/2</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX482"><code>set_stream_position/2</code></a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX882"><code>set_value/2</code></a></td><td valign="top"><a href="#SEC58">6.11 Internal Data Base</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX966"><code>setarg/3n</code></a></td><td valign="top"><a href="#SEC63">6.16 Term Modification</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2289"><code>setenv/2</code></a></td><td valign="top"><a href="#SEC100">8. SWI-Prolog Emulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX915"><code>setof/3</code></a></td><td valign="top"><a href="#SEC60">6.13 Collecting Solutions to a Goal</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1731"><code>setrand/1</code></a></td><td valign="top"><a href="#SEC84">7.12 Random Number Generator</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX951"><code>sh/0</code></a></td><td valign="top"><a href="#SEC62">6.15 Access to Operating System Functionality</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1142"><code>shared_object_search_path (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1947"><code>shell/0</code></a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1950"><code>shell/1</code></a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1953"><code>shell/1</code></a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2527"><code>show_op_counters/1</code></a></td><td valign="top"><a href="#SEC154">18. Profiling the Abstract Machine</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2530"><code>show_ops_by_group/1</code></a></td><td valign="top"><a href="#SEC154">18. Profiling the Abstract Machine</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2509"><code>show_table/1</code></a></td><td valign="top"><a href="#SEC152">16. Tabling</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1033"><code>showprofres/0</code></a></td><td valign="top"><a href="#SEC67">6.18.2 Tick Profiler</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1036"><code>showprofres/1</code></a></td><td valign="top"><a href="#SEC67">6.18.2 Tick Profiler</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX290"><code>simple/1</code></a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1143"><code>single_var_warnings (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX534"><code>singletons/1 (read_term/2 option)</code></a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX604"><code>skip/1</code></a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX673"><code>skip/2</code></a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1956"><code>sleep/1</code></a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX720"><code>socket/2</code></a></td><td valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX717"><code>socket/4</code></a></td><td valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX735"><code>socket_accept/2</code></a></td><td valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX741"><code>socket_accept/2</code></a></td><td valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX738"><code>socket_accept/3</code></a></td><td valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX726"><code>socket_bind/2</code></a></td><td valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX744"><code>socket_buffering/4</code></a></td><td valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX723"><code>socket_close/1</code></a></td><td valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX729"><code>socket_connect/3</code></a></td><td valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX732"><code>socket_listen/2</code></a></td><td valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX747"><code>socket_select/5</code></a></td><td valign="top"><a href="#SEC53">6.9.8 Using Sockets From YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX392"><code>sort/2</code></a></td><td valign="top"><a href="#SEC43">6.7 Comparing Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX39"><code>source/0</code></a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX36"><code>source_mode/2</code></a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1830"><code>splay_access/5</code></a></td><td valign="top"><a href="#SEC88">7.16 Splay Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1833"><code>splay_delete/4</code></a></td><td valign="top"><a href="#SEC88">7.16 Splay Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1836"><code>splay_init/3</code></a></td><td valign="top"><a href="#SEC88">7.16 Splay Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1839"><code>splay_insert/4</code></a></td><td valign="top"><a href="#SEC88">7.16 Splay Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1842"><code>splay_join/3</code></a></td><td valign="top"><a href="#SEC88">7.16 Splay Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1845"><code>splay_split/5</code></a></td><td valign="top"><a href="#SEC88">7.16 Splay Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2542"><code>spy/1</code></a></td><td valign="top"><a href="#SEC156">19.1 Debugging Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2554"><code>spy_write/2</code></a></td><td valign="top"><a href="#SEC156">19.1 Debugging Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX422"><code>srandom/1</code></a></td><td valign="top"><a href="#SEC44">6.8 Arithmetic</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1145"><code>stack_dump_on_error (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1100"><code>stack_shifts (stack_shifts/3 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2518"><code>start_low_level_trace/0</code></a></td><td valign="top"><a href="#SEC153">17. Tracing at Low Level</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2521"><code>start_low_level_trace/0</code></a></td><td valign="top"><a href="#SEC153">17. Tracing at Low Level</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1491"><code>start_matlab/1</code></a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1051"><code>static_array/3</code></a></td><td valign="top"><a href="#SEC69">6.20 Arrays</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1063"><code>static_array/3</code></a></td><td valign="top"><a href="#SEC69">6.20 Arrays</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1054"><code>static_array_location/4</code></a></td><td valign="top"><a href="#SEC69">6.20 Arrays</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1057"><code>static_array_properties/3</code></a></td><td valign="top"><a href="#SEC69">6.20 Arrays</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1060"><code>static_array_to_term/3</code></a></td><td valign="top"><a href="#SEC69">6.20 Arrays</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1087"><code>statistics/0</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1090"><code>statistics/2</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX503"><code>stream_position/2</code></a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX506"><code>stream_position_data/3</code></a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX485"><code>stream_property/2</code></a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX467"><code>stream_select/3</code></a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1144"><code>strict_iso (prolog_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX75"><code>style_check/1</code></a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX359"><code>sub_atom/5</code></a></td><td valign="top"><a href="#SEC41">6.5 Predicates on Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1374"><code>sublist/2</code></a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1986"><code>subsumes/2</code></a></td><td valign="top"><a href="#SEC91">7.19 Utilities On Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1989"><code>subsumes_chk/2</code></a></td><td valign="top"><a href="#SEC91">7.19 Utilities On Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1377"><code>suffix/2</code></a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1380"><code>sum_list/2</code></a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1221"><code>sumargs/4</code></a></td><td valign="top"><a href="#SEC73">7.1 Apply Macros</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1383"><code>sumlist/2</code></a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1215"><code>sumlist/4</code></a></td><td valign="top"><a href="#SEC73">7.1 Apply Macros</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1230"><code>sumnodes/4</code></a></td><td valign="top"><a href="#SEC73">7.1 Apply Macros</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1146"><code>syntax_errors (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX535"><code>syntax_errors/1 (read_term/2 option)</code></a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1959"><code>system/0</code></a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX954"><code>system/1</code></a></td><td valign="top"><a href="#SEC62">6.15 Access to Operating System Functionality</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1962"><code>system/2</code></a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1147"><code>system_options (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX816"><code>system_predicate/2</code></a></td><td valign="top"><a href="#SEC56">6.10.2 Looking at the Data Base</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_29">T</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX607"><code>tab/1</code></a></td><td valign="top"><a href="#SEC49">6.9.4 Handling Input/Output of Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX676"><code>tab/2</code></a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2493"><code>table/1</code></a></td><td valign="top"><a href="#SEC152">16. Tabling</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2512"><code>table_statistics/1</code></a></td><td valign="top"><a href="#SEC152">16. Tabling</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2502"><code>tabling_mode (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC152">16. Tabling</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2499"><code>tabling_mode/2</code></a></td><td valign="top"><a href="#SEC152">16. Tabling</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2515"><code>tabling_statistics/0</code></a></td><td valign="top"><a href="#SEC152">16. Tabling</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX509"><code>tell/1</code></a></td><td valign="top"><a href="#SEC47">6.9.2 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX512"><code>telling/1</code></a></td><td valign="top"><a href="#SEC47">6.9.2 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX921"><code>term_expansion/2</code></a></td><td valign="top"><a href="#SEC61">6.14 Grammar Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1974"><code>term_hash/2</code></a></td><td valign="top"><a href="#SEC91">7.19 Utilities On Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1977"><code>term_hash/4</code></a></td><td valign="top"><a href="#SEC91">7.19 Utilities On Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX533"><code>term_position/1 (read_term/2 option)</code></a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2292"><code>term_to_atom/2</code></a></td><td valign="top"><a href="#SEC100">8. SWI-Prolog Emulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1980"><code>term_variables/2</code></a></td><td valign="top"><a href="#SEC91">7.19 Utilities On Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2415"><code>thread_at_exit/1</code></a></td><td valign="top"><a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2397"><code>thread_create/1</code></a></td><td valign="top"><a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2394"><code>thread_create/2</code></a></td><td valign="top"><a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2391"><code>thread_create/3</code></a></td><td valign="top"><a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2406"><code>thread_detach/1</code></a></td><td valign="top"><a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2412"><code>thread_exit/1</code></a></td><td valign="top"><a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2445"><code>thread_get_message/1</code></a></td><td valign="top"><a href="#SEC147">14.3.1 Message Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2454"><code>thread_get_message/2</code></a></td><td valign="top"><a href="#SEC147">14.3.1 Message Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2403"><code>thread_join/2</code></a></td><td valign="top"><a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2466"><code>thread_local/1 (directive)</code></a></td><td valign="top"><a href="#SEC149">14.3.3 Threads and Dynamic Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2457"><code>thread_peek_message/1</code></a></td><td valign="top"><a href="#SEC147">14.3.1 Message Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2460"><code>thread_peek_message/2</code></a></td><td valign="top"><a href="#SEC147">14.3.1 Message Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2424"><code>thread_property/2</code></a></td><td valign="top"><a href="#SEC145">14.2 Monitoring Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2400"><code>thread_self/1</code></a></td><td valign="top"><a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2439"><code>thread_send_message/1</code></a></td><td valign="top"><a href="#SEC147">14.3.1 Message Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2442"><code>thread_send_message/2</code></a></td><td valign="top"><a href="#SEC147">14.3.1 Message Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2418"><code>thread_setconcurrency/2</code></a></td><td valign="top"><a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2463"><code>thread_signal/2</code></a></td><td valign="top"><a href="#SEC148">14.3.2 Signalling Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2421"><code>thread_sleep/1</code></a></td><td valign="top"><a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2430"><code>thread_statistics/3</code></a></td><td valign="top"><a href="#SEC145">14.2 Monitoring Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2409"><code>thread_yield/0</code></a></td><td valign="top"><a href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2436"><code>threads/0</code></a></td><td valign="top"><a href="#SEC145">14.2 Monitoring Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX225"><code>throw/1</code></a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1103"><code>time/1</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX437"><code>time_file/2</code></a></td><td valign="top"><a href="#SEC46">6.9.1 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2058"><code>time_out/3</code></a></td><td valign="top"><a href="#SEC94">7.22 Calls With Timeout</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1935"><code>tmpnam/1</code></a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1148"><code>to_chars_modes (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX515"><code>told/0</code></a></td><td valign="top"><a href="#SEC47">6.9.2 Handling Streams and Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2115"><code>top_sort/2</code></a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2118"><code>top_sort/3</code></a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1149"><code>toplevel_hook (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1150"><code>toplevel_print_options (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2557"><code>trace/0</code></a></td><td valign="top"><a href="#SEC156">19.1 Debugging Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1101"><code>trail (statistics/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2121"><code>transitive_closure/2</code></a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2100"><code>transpose/3</code></a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2073"><code>tree_size/2</code></a></td><td valign="top"><a href="#SEC95">7.23 Updatable Binary Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2076"><code>tree_to_list/2</code></a></td><td valign="top"><a href="#SEC95">7.23 Updatable Binary Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2013"><code>trie_check_entry/3</code></a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2001"><code>trie_close/1</code></a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2004"><code>trie_close_all/0</code></a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2016"><code>trie_get_entry/2</code></a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2028"><code>trie_load/2</code></a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2034"><code>trie_max_stats/4</code></a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2007"><code>trie_mode/1</code></a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1998"><code>trie_open/1</code></a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2040"><code>trie_print/1</code></a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2010"><code>trie_put_entry/3</code></a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2019"><code>trie_remove_entry/1</code></a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2022"><code>trie_remove_subtree/1</code></a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2025"><code>trie_save/2</code></a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2031"><code>trie_stats/4</code></a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2037"><code>trie_usage/4</code></a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX168"><code>true/0</code></a></td><td valign="top"><a href="#SEC37">6.1 Control Predicates</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX685"><code>ttyget/1</code></a></td><td valign="top"><a href="#SEC51">6.9.6 Compatible C-Prolog predicates for Terminal I/O</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX688"><code>ttyget0/1</code></a></td><td valign="top"><a href="#SEC51">6.9.6 Compatible C-Prolog predicates for Terminal I/O</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX697"><code>ttynl/0</code></a></td><td valign="top"><a href="#SEC51">6.9.6 Compatible C-Prolog predicates for Terminal I/O</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX682"><code>ttyput/1</code></a></td><td valign="top"><a href="#SEC51">6.9.6 Compatible C-Prolog predicates for Terminal I/O</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX691"><code>ttyskip/1</code></a></td><td valign="top"><a href="#SEC51">6.9.6 Compatible C-Prolog predicates for Terminal I/O</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX694"><code>ttytab/1</code></a></td><td valign="top"><a href="#SEC51">6.9.6 Compatible C-Prolog predicates for Terminal I/O</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1151"><code>typein_module (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_30">U</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2178"><code>ugraph_to_dgraph/2</code></a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2199"><code>undgraph_add_edges/3</code></a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2193"><code>undgraph_add_vertices/3</code></a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2211"><code>undgraph_complement/2</code></a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2202"><code>undgraph_del_edges/3</code></a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2196"><code>undgraph_del_vertices/3</code></a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2187"><code>undgraph_edge/2</code></a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2190"><code>undgraph_edges/2</code></a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2205"><code>undgraph_neighbors/3</code></a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2208"><code>undgraph_neighbours/3</code></a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2181"><code>undgraph_new/1</code></a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2184"><code>undgraph_vertices/2</code></a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX54"><code>unhide/1</code></a></td><td valign="top"><a href="#SEC27">4.2 Changing the Compiler's Behavior</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1995"><code>unifiable/3</code></a></td><td valign="top"><a href="#SEC91">7.19 Utilities On Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX317"><code>unify_with_occurs_check/2</code></a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1152"><code>unix (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX957"><code>unix/1</code></a></td><td valign="top"><a href="#SEC62">6.15 Access to Operating System Functionality</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1153"><code>unknown (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX245"><code>unknown/2</code></a></td><td valign="top"><a href="#SEC38">6.2 Handling Undefined Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX248"><code>unknown_predicate_handler/3</code></a></td><td valign="top"><a href="#SEC38">6.2 Handling Undefined Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1075"><code>update_array/3</code></a></td><td valign="top"><a href="#SEC69">6.20 Arrays</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX982"><code>update_mutable/2</code></a></td><td valign="top"><a href="#SEC63">6.16 Term Modification</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1154"><code>update_semantics (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX141"><code>use_module/1</code></a></td><td valign="top"><a href="#SEC33">5.3 Using Modules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX144"><code>use_module/2</code></a></td><td valign="top"><a href="#SEC33">5.3 Using Modules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX147"><code>use_module/3</code></a></td><td valign="top"><a href="#SEC33">5.3 Using Modules</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1155"><code>user_error (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1156"><code>user_input (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1157"><code>user_output (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_31">V</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX260"><code>var/1</code></a></td><td valign="top"><a href="#SEC40">6.4 Predicates on terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1992"><code>variable_in_term/2</code></a></td><td valign="top"><a href="#SEC91">7.19 Utilities On Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX536"><code>variable_names/1 (read_term/2 option)</code></a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX537"><code>variables/1 (read_term/2 option)</code></a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1983"><code>variant/2</code></a></td><td valign="top"><a href="#SEC91">7.19 Utilities On Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1158"><code>verbose (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2376"><code>verify_attributes/3</code></a></td><td valign="top"><a href="#SEC113">10.3 Attributed Unification</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1159"><code>version (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1188"><code>version/0</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1191"><code>version/1</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1160"><code>version_data (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2082"><code>vertices/2</code></a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2079"><code>vertices_edges_to_ugraph/3</code></a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_32">W</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1965"><code>wait/2</code></a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1102"><code>walltime (statistics/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2361"><code>when/2</code></a></td><td valign="top"><a href="#SEC109">9.2 Co-routining</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1161"><code>windoes (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2475"><code>with_mutex/2</code></a></td><td valign="top"><a href="#SEC150">14.4 Thread Synchronisation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1878"><code>with_output_to_chars/2</code></a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1881"><code>with_output_to_chars/3</code></a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1884"><code>with_output_to_chars/4</code></a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1941"><code>working_directory/2</code></a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2295"><code>working_directory/2</code></a></td><td valign="top"><a href="#SEC100">8. SWI-Prolog Emulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX544"><code>write/1</code></a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX619"><code>write/2</code></a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX712"><code>write_depth/2</code></a></td><td valign="top"><a href="#SEC52">6.9.7 Controlling Input/Output</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX709"><code>write_depth/3</code></a></td><td valign="top"><a href="#SEC52">6.9.7 Controlling Input/Output</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1162"><code>write_strings (yap_flag/2 option)</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX553"><code>write_term/2</code></a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX625"><code>write_term/3</code></a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1854"><code>write_to_chars/2</code></a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1857"><code>write_to_chars/3</code></a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX556"><code>writeq/1</code></a></td><td valign="top"><a href="#SEC48">6.9.3 Handling Input/Output of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX628"><code>writeq/2</code></a></td><td valign="top"><a href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC191_33">Y</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2612"><code>YAP_AddressFromSlot (C-Interface function)</code></a></td><td valign="top"><a href="#SEC170">21.6 From <code>C</code> back to Prolog</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2590"><code>YAP_AGCHook  (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC168"><code>YAP_AllocSpaceFromYAP (C-Interface function)</code></a></td><td valign="top"><a href="#SEC168">21.4 Memory Allocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2597"><code>YAP_ArgOfTerm (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2598"><code>YAP_ArgsOfTerm (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2602"><code>YAP_ArityOfFunctor (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2588"><code>YAP_AtomGetHold  (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2582"><code>YAP_AtomName (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2587"><code>YAP_AtomNameLength (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2579"><code>YAP_AtomOfTerm (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2589"><code>YAP_AtomReleaseHold  (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2621"><code>YAP_AtomToPred (C-Interface function)</code></a></td><td valign="top"><a href="#SEC170">21.6 From <code>C</code> back to Prolog</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2577"><code>YAP_BigNumOfTerm (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2604"><code>YAP_BufferToAtomList (C-Interface function)</code></a></td><td valign="top"><a href="#SEC167">21.3 Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2603"><code>YAP_BufferToString (C-Interface function)</code></a></td><td valign="top"><a href="#SEC167">21.3 Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2625"><code>YAP_CallProlog (C-Interface function)</code></a></td><td valign="top"><a href="#SEC170">21.6 From <code>C</code> back to Prolog</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2619"><code>YAP_ClearExceptions (C-Interface function)</code></a></td><td valign="top"><a href="#SEC170">21.6 From <code>C</code> back to Prolog</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2607"><code>YAP_CloseAllOpenStreams (C-Interface function)</code></a></td><td valign="top"><a href="#SEC169">21.5 Controlling YAP Streams from <code>C</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2632"><code>YAP_CompileClause/1</code></a></td><td valign="top"><a href="#SEC176">22. Using YAP as a Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2633"><code>YAP_ContinueGoal/0</code></a></td><td valign="top"><a href="#SEC176">22. Using YAP as a Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2641"><code>YAP_CopyTerm/1</code></a></td><td valign="top"><a href="#SEC176">22. Using YAP as a Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2610"><code>YAP_CurrentSlot (C-Interface function)</code></a></td><td valign="top"><a href="#SEC170">21.6 From <code>C</code> back to Prolog</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2631"><code>YAP_cutfail (C-Interface function)</code></a></td><td valign="top"><a href="#SEC172">21.8 Writing predicates in C</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2630"><code>YAP_cutsucceed (C-Interface function)</code></a></td><td valign="top"><a href="#SEC172">21.8 Writing predicates in C</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2645"><code>YAP_EndConsult/0</code></a></td><td valign="top"><a href="#SEC176">22. Using YAP as a Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2622"><code>YAP_EnterGoal (C-Interface function)</code></a></td><td valign="top"><a href="#SEC170">21.6 From <code>C</code> back to Prolog</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2634"><code>YAP_Error/1</code></a></td><td valign="top"><a href="#SEC176">22. Using YAP as a Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2635"><code>YAP_Exit/1</code></a></td><td valign="top"><a href="#SEC176">22. Using YAP as a Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2637"><code>YAP_FastInit/1</code></a></td><td valign="top"><a href="#SEC176">22. Using YAP as a Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1106"><code>yap_flag/2</code></a></td><td valign="top"><a href="#SEC71">6.22 Miscellaneous</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2574"><code>YAP_FloatOfTerm (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2606"><code>YAP_FreeSpaceFromYAP (C-Interface function)</code></a></td><td valign="top"><a href="#SEC168">21.4 Memory Allocation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2581"><code>YAP_FullLookupAtom (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2599"><code>YAP_FunctorOfTerm (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2620"><code>YAP_FunctorToPred (C-Interface function)</code></a></td><td valign="top"><a href="#SEC170">21.6 From <code>C</code> back to Prolog</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2636"><code>YAP_GetValue/1</code></a></td><td valign="top"><a href="#SEC176">22. Using YAP as a Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2593"><code>YAP_HeadOfTerm (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2638"><code>YAP_Init/1</code></a></td><td valign="top"><a href="#SEC176">22. Using YAP as a Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2644"><code>YAP_InitConsult/2</code></a></td><td valign="top"><a href="#SEC176">22. Using YAP as a Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2611"><code>YAP_InitSlot (C-Interface function)</code></a></td><td valign="top"><a href="#SEC170">21.6 From <code>C</code> back to Prolog</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2572"><code>YAP_IntOfTerm (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2570"><code>YAP_IsApplTerm (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2568"><code>YAP_IsAtomTerm (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2575"><code>YAP_IsBigNumTerm (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2567"><code>YAP_IsDBRefTerm (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2566"><code>YAP_IsFloatTerm (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2565"><code>YAP_IsIntTerm (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2586"><code>YAP_IsIsWideAtom (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2564"><code>YAP_IsNonVarTerm (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2569"><code>YAP_IsPairTerm (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2563"><code>YAP_IsVarTerm (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2583"><code>YAP_IsWideAtom (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2624"><code>YAP_LeaveGoal (C-Interface function)</code></a></td><td valign="top"><a href="#SEC170">21.6 From <code>C</code> back to Prolog</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2580"><code>YAP_LookupAtom (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2584"><code>YAP_LookupWideAtom (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2595"><code>YAP_MkApplTerm (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2578"><code>YAP_MkAtomTerm (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2576"><code>YAP_MkBigNumTerm (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2573"><code>YAP_MkFloatTerm (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2600"><code>YAP_MkFunctor (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2571"><code>YAP_MkIntTerm (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2596"><code>YAP_MkNewApplTerm (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2592"><code>YAP_MkNewPairTerm (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2591"><code>YAP_MkPairTerm (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2601"><code>YAP_NameOfFunctor (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2609"><code>YAP_NewSlots (C-Interface function)</code></a></td><td valign="top"><a href="#SEC170">21.6 From <code>C</code> back to Prolog</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2608"><code>YAP_OpenStream (C-Interface function)</code></a></td><td valign="top"><a href="#SEC169">21.5 Controlling YAP Streams from <code>C</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2628"><code>YAP_PRESERVE_DATA (C-Interface function)</code></a></td><td valign="top"><a href="#SEC172">21.8 Writing predicates in C</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2629"><code>YAP_PRESERVED_DATA (C-Interface function)</code></a></td><td valign="top"><a href="#SEC172">21.8 Writing predicates in C</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2613"><code>YAP_PutInSlot (C-Interface function)</code></a></td><td valign="top"><a href="#SEC170">21.6 From <code>C</code> back to Prolog</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2639"><code>YAP_PutValue/2</code></a></td><td valign="top"><a href="#SEC176">22. Using YAP as a Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2640"><code>YAP_Read/1</code></a></td><td valign="top"><a href="#SEC176">22. Using YAP as a Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2605"><code>YAP_ReadBuffer (C-Interface function)</code></a></td><td valign="top"><a href="#SEC167">21.3 Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2614"><code>YAP_RecoverSlots (C-Interface function)</code></a></td><td valign="top"><a href="#SEC170">21.6 From <code>C</code> back to Prolog</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2616"><code>YAP_Reset (C-Interface function)</code></a></td><td valign="top"><a href="#SEC170">21.6 From <code>C</code> back to Prolog</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2615"><code>YAP_RestartGoal (C-Interface function)</code></a></td><td valign="top"><a href="#SEC170">21.6 From <code>C</code> back to Prolog</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2618"><code>YAP_RestartGoal (C-Interface function)</code></a></td><td valign="top"><a href="#SEC170">21.6 From <code>C</code> back to Prolog</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2623"><code>YAP_RetryGoal (C-Interface function)</code></a></td><td valign="top"><a href="#SEC170">21.6 From <code>C</code> back to Prolog</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC170"><code>YAP_RunGoal (C-Interface function)</code></a></td><td valign="top"><a href="#SEC170">21.6 From <code>C</code> back to Prolog</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2617"><code>YAP_ShutdownGoal (C-Interface function)</code></a></td><td valign="top"><a href="#SEC170">21.6 From <code>C</code> back to Prolog</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC169"><code>YAP_StreamToFileNo (C-Interface function)</code></a></td><td valign="top"><a href="#SEC169">21.5 Controlling YAP Streams from <code>C</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC167"><code>YAP_StringToBuffer (C-Interface function)</code></a></td><td valign="top"><a href="#SEC167">21.3 Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2594"><code>YAP_TailOfTerm (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC166"><code>YAP_Unify (C-Interface function)</code></a></td><td valign="top"><a href="#SEC166">21.2 Unification</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2627"><code>YAP_UserBackCPredicate (C-Interface function)</code></a></td><td valign="top"><a href="#SEC172">21.8 Writing predicates in C</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2626"><code>YAP_UserCPredicate (C-Interface function)</code></a></td><td valign="top"><a href="#SEC172">21.8 Writing predicates in C</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2585"><code>YAP_WideAtomName (C-Interface function)</code></a></td><td valign="top"><a href="#SEC165">21.1 Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2642"><code>YAP_Write/3</code></a></td><td valign="top"><a href="#SEC176">22. Using YAP as a Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2643"><code>YAP_WriteBuffer/4</code></a></td><td valign="top"><a href="#SEC176">22. Using YAP as a Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX3"><code>YAPBINDIR</code></a></td><td valign="top"><a href="#SEC9">2.1 Running YAP Interactively</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX4"><code>YAPLIBDIR</code></a></td><td valign="top"><a href="#SEC9">2.1 Running YAP Interactively</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX5"><code>YAPSHAREDIR</code></a></td><td valign="top"><a href="#SEC9">2.1 Running YAP Interactively</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#SEC191_0" class="summary-letter"><b>!</b></a>
 &nbsp; 
<a href="#SEC191_1" class="summary-letter"><b>,</b></a>
 &nbsp; 
<a href="#SEC191_2" class="summary-letter"><b>-</b></a>
 &nbsp; 
<a href="#SEC191_3" class="summary-letter"><b>;</b></a>
 &nbsp; 
<a href="#SEC191_4" class="summary-letter"><b>&lt;</b></a>
 &nbsp; 
<a href="#SEC191_5" class="summary-letter"><b>=</b></a>
 &nbsp; 
<a href="#SEC191_6" class="summary-letter"><b>&gt;</b></a>
 &nbsp; 
<a href="#SEC191_7" class="summary-letter"><b>@</b></a>
 &nbsp; 
<a href="#SEC191_8" class="summary-letter"><b>[</b></a>
 &nbsp; 
<a href="#SEC191_9" class="summary-letter"><b>\</b></a>
 &nbsp; 
<br>
<a href="#SEC191_10" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#SEC191_11" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#SEC191_12" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#SEC191_13" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#SEC191_14" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#SEC191_15" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#SEC191_16" class="summary-letter"><b>G</b></a>
 &nbsp; 
<a href="#SEC191_17" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#SEC191_18" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#SEC191_19" class="summary-letter"><b>J</b></a>
 &nbsp; 
<a href="#SEC191_20" class="summary-letter"><b>K</b></a>
 &nbsp; 
<a href="#SEC191_21" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#SEC191_22" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#SEC191_23" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#SEC191_24" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#SEC191_25" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#SEC191_26" class="summary-letter"><b>Q</b></a>
 &nbsp; 
<a href="#SEC191_27" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#SEC191_28" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#SEC191_29" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#SEC191_30" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#SEC191_31" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#SEC191_32" class="summary-letter"><b>W</b></a>
 &nbsp; 
<a href="#SEC191_33" class="summary-letter"><b>Y</b></a>
 &nbsp; 
</td></tr></table>

<hr size="6">
<a name="Concept-Index"></a>
<a name="SEC192"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC191" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[ &gt; ]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC191" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[ &gt;&gt; ]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="unnumbered"> Concept Index </h1>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#SEC192_0" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#SEC192_1" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#SEC192_2" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#SEC192_3" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#SEC192_4" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#SEC192_5" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#SEC192_6" class="summary-letter"><b>G</b></a>
 &nbsp; 
<a href="#SEC192_7" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#SEC192_8" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#SEC192_9" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#SEC192_10" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#SEC192_11" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#SEC192_12" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#SEC192_13" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#SEC192_14" class="summary-letter"><b>Q</b></a>
 &nbsp; 
<a href="#SEC192_15" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#SEC192_16" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#SEC192_17" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#SEC192_18" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#SEC192_19" class="summary-letter"><b>V</b></a>
 &nbsp; 
</td></tr></table>
<table border="0" class="index-cp">
<tr><td></td><th align="left">Index Entry</th><th align="left"> Section</th></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC192_0">A</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX7">anonymous variable</a></td><td valign="top"><a href="#SEC19">3.2.4 Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC74">association list</a></td><td valign="top"><a href="#SEC74">7.2 Association Lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC18">atom</a></td><td valign="top"><a href="#SEC18">3.2.3 Atoms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2367">attribute declaration</a></td><td valign="top"><a href="#SEC111">10.1 Attribute Declarations</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC110">attributed variables</a></td><td valign="top"><a href="#SEC110">10. Attributed Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC75">AVL trees</a></td><td valign="top"><a href="#SEC75">7.3 AVL Trees</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC192_1">B</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC24">BOM</a></td><td valign="top"><a href="#SEC24">3.3.2 BOM: Byte Order Mark</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1">booting</a></td><td valign="top"><a href="#SEC8">2. Running YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC24">Byte Order Mark</a></td><td valign="top"><a href="#SEC24">3.3.2 BOM: Byte Order Mark</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC192_2">C</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC93">cleanup</a></td><td valign="top"><a href="#SEC93">7.21 Call Cleanup</a></td></tr>
<tr><td></td><td valign="top"><a href="#CLPR">CLPQ</a></td><td valign="top"><a href="#SEC117">11. Constraint Logic Programming over Reals</a></td></tr>
<tr><td></td><td valign="top"><a href="#CLPR">CLPR</a></td><td valign="top"><a href="#SEC117">11. Constraint Logic Programming over Reals</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC21">comment</a></td><td valign="top"><a href="#SEC21">3.2.6 Layout</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC68">Counting Calls</a></td><td valign="top"><a href="#SEC68">6.19 Counting Calls</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC192_3">D</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2368">declaration, attribute</a></td><td valign="top"><a href="#SEC111">10.1 Attribute Declarations</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC192_4">E</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC97">Efficient Directed Graphs</a></td><td valign="top"><a href="#SEC97">7.25 Directed Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC22">encodings</a></td><td valign="top"><a href="#SEC22">3.3 Wide Character Support</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX6">end of term</a></td><td valign="top"><a href="#SEC12">3.1 Syntax of Terms</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2">environment variables</a></td><td valign="top"><a href="#SEC9">2.1 Running YAP Interactively</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC192_5">F</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC16">floating-point number</a></td><td valign="top"><a href="#SEC16">3.2.1.2 Floating-point Numbers</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC192_6">G</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC64">global variables</a></td><td valign="top"><a href="#SEC64">6.17 Global Variables</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC192_7">H</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC76">heap</a></td><td valign="top"><a href="#SEC76">7.4 Heaps</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC103">hProlog Attributed Variables</a></td><td valign="top"><a href="#SEC103">8.3 hProlog and SWI-Prolog Attributed Variables</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC192_8">I</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC2">installation</a></td><td valign="top"><a href="#SEC2">1. Installing YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC15">integer</a></td><td valign="top"><a href="#SEC15">3.2.1.1 Integers</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX11">internationalization</a></td><td valign="top"><a href="#SEC22">3.3 Wide Character Support</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC192_9">L</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC99">lam</a></td><td valign="top"><a href="#SEC99">7.27 LAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC77">list manipulation</a></td><td valign="top"><a href="#SEC77">7.5 List Manipulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC142">Logtalk</a></td><td valign="top"><a href="#SEC142">13. Logtalk</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC192_10">M</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC4">machine optimizations</a></td><td valign="top"><a href="#SEC4">1.2 Tuning YAP for a Particular Machine and Compiler</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC73">macros</a></td><td valign="top"><a href="#SEC73">7.1 Apply Macros</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC79">Matlab Interface</a></td><td valign="top"><a href="#SEC79">7.7 MATLAB Package Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC78">Matrix Library</a></td><td valign="top"><a href="#SEC78">7.6 Matrix Library</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX969">mutable variables</a></td><td valign="top"><a href="#SEC63">6.16 Term Modification</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC192_11">N</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC14">number</a></td><td valign="top"><a href="#SEC14">3.2.1 Numbers</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC192_12">O</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC90">Operating System Utilities</a></td><td valign="top"><a href="#SEC90">7.18 Calling The Operating System from YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC151">or-parallelism</a></td><td valign="top"><a href="#SEC151">15. Parallelism</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC81">ordered set</a></td><td valign="top"><a href="#SEC81">7.9 Ordered Sets</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC192_13">P</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC151">parallelism</a></td><td valign="top"><a href="#SEC151">15. Parallelism</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC65">profiling</a></td><td valign="top"><a href="#SEC65">6.18 Profiling Prolog Programs</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC82">pseudo random</a></td><td valign="top"><a href="#SEC82">7.10 Pseudo Random Number Integer Generator</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC20">punctuation token</a></td><td valign="top"><a href="#SEC20">3.2.5 Punctuation Tokens</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC192_14">Q</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC83">queue</a></td><td valign="top"><a href="#SEC83">7.11 Queues</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC84">queue</a></td><td valign="top"><a href="#SEC84">7.12 Random Number Generator</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC192_15">R</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC86">Red-Black Trees</a></td><td valign="top"><a href="#SEC86">7.14 Red-Black Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC87">regular expressions</a></td><td valign="top"><a href="#SEC87">7.15 Regular Expressions</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC192_16">S</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC88">splay trees</a></td><td valign="top"><a href="#SEC88">7.16 Splay Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC17">string</a></td><td valign="top"><a href="#SEC17">3.2.2 Character Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC89">string I/O</a></td><td valign="top"><a href="#SEC89">7.17 Reading From and Writing To Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#SWI_002dProlog">SWI-Prolog</a></td><td valign="top"><a href="#SEC100">8. SWI-Prolog Emulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC3">syntax</a></td><td valign="top"><a href="#SEC3">1.1 Tuning the Functionality of YAP</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC12">syntax</a></td><td valign="top"><a href="#SEC12">3.1 Syntax of Terms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC192_17">T</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC152">tabling</a></td><td valign="top"><a href="#SEC152">16. Tabling</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC94">timeout</a></td><td valign="top"><a href="#SEC94">7.22 Calls With Timeout</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC13">token</a></td><td valign="top"><a href="#SEC13">3.2 Prolog Tokens</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC92">tries</a></td><td valign="top"><a href="#SEC92">7.20 Trie DataStructure</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC192_18">U</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX10">UCS</a></td><td valign="top"><a href="#SEC22">3.3 Wide Character Support</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC98">undrected graphs</a></td><td valign="top"><a href="#SEC98">7.26 Undirected Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX9">Unicode</a></td><td valign="top"><a href="#SEC22">3.3 Wide Character Support</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC96">unweighted graphs</a></td><td valign="top"><a href="#SEC96">7.24 Unweighted Graphs</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC95">updatable tree</a></td><td valign="top"><a href="#SEC95">7.23 Updatable Binary Trees</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2646">update semantics</a></td><td valign="top"><a href="#SEC185">23.2.1 Major Differences between YAP and SICStus Prolog.</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC63">updating terms</a></td><td valign="top"><a href="#SEC63">6.16 Term Modification</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX8">UTF-8</a></td><td valign="top"><a href="#SEC22">3.3 Wide Character Support</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC91">utilities on terms</a></td><td valign="top"><a href="#SEC91">7.19 Utilities On Terms</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC192_19">V</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC19">variable</a></td><td valign="top"><a href="#SEC19">3.2.4 Variables</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#SEC192_0" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#SEC192_1" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#SEC192_2" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#SEC192_3" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#SEC192_4" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#SEC192_5" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#SEC192_6" class="summary-letter"><b>G</b></a>
 &nbsp; 
<a href="#SEC192_7" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#SEC192_8" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#SEC192_9" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#SEC192_10" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#SEC192_11" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#SEC192_12" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#SEC192_13" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#SEC192_14" class="summary-letter"><b>Q</b></a>
 &nbsp; 
<a href="#SEC192_15" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#SEC192_16" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#SEC192_17" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#SEC192_18" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#SEC192_19" class="summary-letter"><b>V</b></a>
 &nbsp; 
</td></tr></table>


<hr size="6">
<a name="SEC_Contents"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1>Table of Contents</h1>
<div class="contents">

<ul class="toc">
  <li><a name="TOC1" href="#SEC1">Introduction</a></li>
  <li><a name="TOC2" href="#SEC2">1. Installing YAP</a>
  <ul class="toc">
    <li><a name="TOC3" href="#SEC3">1.1 Tuning the Functionality of YAP</a></li>
    <li><a name="TOC4" href="#SEC4">1.2 Tuning YAP for a Particular Machine and Compiler</a></li>
    <li><a name="TOC5" href="#SEC5">1.3 Tuning YAP for <code>GCC</code>.</a>
    <ul class="toc">
      <li><a name="TOC6" href="#SEC6">1.3.1 Compiling Under Visual C++</a></li>
      <li><a name="TOC7" href="#SEC7">1.3.2 Compiling Under SGI's cc</a></li>
    </ul>
</li>
  </ul></li>
  <li><a name="TOC8" href="#SEC8">2. Running YAP</a>
  <ul class="toc">
    <li><a name="TOC9" href="#SEC9">2.1 Running YAP Interactively</a></li>
    <li><a name="TOC10" href="#SEC10">2.2 Running Prolog Files</a></li>
  </ul></li>
  <li><a name="TOC11" href="#SEC11">3. Syntax</a>
  <ul class="toc">
    <li><a name="TOC12" href="#SEC12">3.1 Syntax of Terms</a></li>
    <li><a name="TOC13" href="#SEC13">3.2 Prolog Tokens</a>
    <ul class="toc">
      <li><a name="TOC14" href="#SEC14">3.2.1 Numbers</a>
      <ul class="toc">
        <li><a name="TOC15" href="#SEC15">3.2.1.1 Integers</a></li>
        <li><a name="TOC16" href="#SEC16">3.2.1.2 Floating-point Numbers</a></li>
      </ul></li>
      <li><a name="TOC17" href="#SEC17">3.2.2 Character Strings</a></li>
      <li><a name="TOC18" href="#SEC18">3.2.3 Atoms</a></li>
      <li><a name="TOC19" href="#SEC19">3.2.4 Variables</a></li>
      <li><a name="TOC20" href="#SEC20">3.2.5 Punctuation Tokens</a></li>
      <li><a name="TOC21" href="#SEC21">3.2.6 Layout</a></li>
    </ul></li>
    <li><a name="TOC22" href="#SEC22">3.3 Wide Character Support</a>
    <ul class="toc">
      <li><a name="TOC23" href="#SEC23">3.3.1 Wide character encodings on streams</a></li>
      <li><a name="TOC24" href="#SEC24">3.3.2 BOM: Byte Order Mark</a></li>
    </ul>
</li>
  </ul></li>
  <li><a name="TOC25" href="#SEC25">4. Loading Programs</a>
  <ul class="toc">
    <li><a name="TOC26" href="#SEC26">4.1 Program loading and updating</a></li>
    <li><a name="TOC27" href="#SEC27">4.2 Changing the Compiler's Behavior</a></li>
    <li><a name="TOC28" href="#SEC28">4.3 Conditional Compilation</a></li>
    <li><a name="TOC29" href="#SEC29">4.4 Saving and Loading Prolog States</a></li>
  </ul></li>
  <li><a name="TOC30" href="#SEC30">5. The Module System</a>
  <ul class="toc">
    <li><a name="TOC31" href="#SEC31">5.1 Module Concepts</a></li>
    <li><a name="TOC32" href="#SEC32">5.2 Defining a New Module</a></li>
    <li><a name="TOC33" href="#SEC33">5.3 Using Modules</a></li>
    <li><a name="TOC34" href="#SEC34">5.4 Meta-Predicates in Modules</a></li>
    <li><a name="TOC35" href="#SEC35">5.5 Re-Exporting Predicates From Other Modules</a></li>
  </ul></li>
  <li><a name="TOC36" href="#SEC36">6. Built-In Predicates</a>
  <ul class="toc">
    <li><a name="TOC37" href="#SEC37">6.1 Control Predicates</a></li>
    <li><a name="TOC38" href="#SEC38">6.2 Handling Undefined Procedures</a></li>
    <li><a name="TOC39" href="#SEC39">6.3 Message Handling</a></li>
    <li><a name="TOC40" href="#SEC40">6.4 Predicates on terms</a></li>
    <li><a name="TOC41" href="#SEC41">6.5 Predicates on Atoms</a></li>
    <li><a name="TOC42" href="#SEC42">6.6 Predicates on Atoms</a></li>
    <li><a name="TOC43" href="#SEC43">6.7 Comparing Terms</a></li>
    <li><a name="TOC44" href="#SEC44">6.8 Arithmetic</a></li>
    <li><a name="TOC45" href="#SEC45">6.9 I/O Predicates</a>
    <ul class="toc">
      <li><a name="TOC46" href="#SEC46">6.9.1 Handling Streams and Files</a></li>
      <li><a name="TOC47" href="#SEC47">6.9.2 Handling Streams and Files</a></li>
      <li><a name="TOC48" href="#SEC48">6.9.3 Handling Input/Output of Terms</a></li>
      <li><a name="TOC49" href="#SEC49">6.9.4 Handling Input/Output of Characters</a></li>
      <li><a name="TOC50" href="#SEC50">6.9.5 Input/Output Predicates applied to Streams</a></li>
      <li><a name="TOC51" href="#SEC51">6.9.6 Compatible C-Prolog predicates for Terminal I/O</a></li>
      <li><a name="TOC52" href="#SEC52">6.9.7 Controlling Input/Output</a></li>
      <li><a name="TOC53" href="#SEC53">6.9.8 Using Sockets From YAP</a></li>
    </ul></li>
    <li><a name="TOC54" href="#SEC54">6.10 Using the Clausal Data Base</a>
    <ul class="toc">
      <li><a name="TOC55" href="#SEC55">6.10.1 Modification of the Data Base</a></li>
      <li><a name="TOC56" href="#SEC56">6.10.2 Looking at the Data Base</a></li>
      <li><a name="TOC57" href="#SEC57">6.10.3 Using Data Base References</a></li>
    </ul></li>
    <li><a name="TOC58" href="#SEC58">6.11 Internal Data Base</a></li>
    <li><a name="TOC59" href="#SEC59">6.12 The Blackboard</a></li>
    <li><a name="TOC60" href="#SEC60">6.13 Collecting Solutions to a Goal</a></li>
    <li><a name="TOC61" href="#SEC61">6.14 Grammar Rules</a></li>
    <li><a name="TOC62" href="#SEC62">6.15 Access to Operating System Functionality</a></li>
    <li><a name="TOC63" href="#SEC63">6.16 Term Modification</a></li>
    <li><a name="TOC64" href="#SEC64">6.17 Global Variables</a></li>
    <li><a name="TOC65" href="#SEC65">6.18 Profiling Prolog Programs</a>
    <ul class="toc">
      <li><a name="TOC66" href="#SEC66">6.18.1 The Count Profiler</a></li>
      <li><a name="TOC67" href="#SEC67">6.18.2 Tick Profiler</a></li>
    </ul></li>
    <li><a name="TOC68" href="#SEC68">6.19 Counting Calls</a></li>
    <li><a name="TOC69" href="#SEC69">6.20 Arrays</a></li>
    <li><a name="TOC70" href="#SEC70">6.21 Predicate Information</a></li>
    <li><a name="TOC71" href="#SEC71">6.22 Miscellaneous</a></li>
  </ul></li>
  <li><a name="TOC72" href="#SEC72">7. Library Predicates</a>
  <ul class="toc">
    <li><a name="TOC73" href="#SEC73">7.1 Apply Macros</a></li>
    <li><a name="TOC74" href="#SEC74">7.2 Association Lists</a></li>
    <li><a name="TOC75" href="#SEC75">7.3 AVL Trees</a></li>
    <li><a name="TOC76" href="#SEC76">7.4 Heaps</a></li>
    <li><a name="TOC77" href="#SEC77">7.5 List Manipulation</a></li>
    <li><a name="TOC78" href="#SEC78">7.6 Matrix Library</a></li>
    <li><a name="TOC79" href="#SEC79">7.7 MATLAB Package Interface</a></li>
    <li><a name="TOC80" href="#SEC80">7.8 Non-Backtrackable Data Structures</a></li>
    <li><a name="TOC81" href="#SEC81">7.9 Ordered Sets</a></li>
    <li><a name="TOC82" href="#SEC82">7.10 Pseudo Random Number Integer Generator</a></li>
    <li><a name="TOC83" href="#SEC83">7.11 Queues</a></li>
    <li><a name="TOC84" href="#SEC84">7.12 Random Number Generator</a></li>
    <li><a name="TOC85" href="#SEC85">7.13 Read Utilities</a></li>
    <li><a name="TOC86" href="#SEC86">7.14 Red-Black Trees</a></li>
    <li><a name="TOC87" href="#SEC87">7.15 Regular Expressions</a></li>
    <li><a name="TOC88" href="#SEC88">7.16 Splay Trees</a></li>
    <li><a name="TOC89" href="#SEC89">7.17 Reading From and Writing To Strings</a></li>
    <li><a name="TOC90" href="#SEC90">7.18 Calling The Operating System from YAP</a></li>
    <li><a name="TOC91" href="#SEC91">7.19 Utilities On Terms</a></li>
    <li><a name="TOC92" href="#SEC92">7.20 Trie DataStructure</a></li>
    <li><a name="TOC93" href="#SEC93">7.21 Call Cleanup</a></li>
    <li><a name="TOC94" href="#SEC94">7.22 Calls With Timeout</a></li>
    <li><a name="TOC95" href="#SEC95">7.23 Updatable Binary Trees</a></li>
    <li><a name="TOC96" href="#SEC96">7.24 Unweighted Graphs</a></li>
    <li><a name="TOC97" href="#SEC97">7.25 Directed Graphs</a></li>
    <li><a name="TOC98" href="#SEC98">7.26 Undirected Graphs</a></li>
    <li><a name="TOC99" href="#SEC99">7.27 LAM</a></li>
  </ul></li>
  <li><a name="TOC100" href="#SEC100">8. SWI-Prolog Emulation</a>
  <ul class="toc">
    <li><a name="TOC101" href="#SEC101">8.1 Invoking Predicates on all Members of a List</a></li>
    <li><a name="TOC102" href="#SEC102">8.2 Forall</a></li>
    <li><a name="TOC103" href="#SEC103">8.3 hProlog and SWI-Prolog Attributed Variables</a>
    <ul class="toc">
      <li><a name="TOC104" href="#SEC104">8.3.1 Special Purpose SWI Predicates for Attributes</a></li>
    </ul></li>
    <li><a name="TOC105" href="#SEC105">8.4 SWI Global variables</a>
    <ul class="toc">
      <li><a name="TOC106" href="#SEC106">8.4.1 Compatibility of SWI-Prolog Global Variables</a></li>
    </ul>
</li>
  </ul></li>
  <li><a name="TOC107" href="#SEC107">9. Extensions to Prolog</a>
  <ul class="toc">
    <li><a name="TOC108" href="#SEC108">9.1 Rational Trees</a></li>
    <li><a name="TOC109" href="#SEC109">9.2 Co-routining</a></li>
  </ul></li>
  <li><a name="TOC110" href="#SEC110">10. Attributed Variables</a>
  <ul class="toc">
    <li><a name="TOC111" href="#SEC111">10.1 Attribute Declarations</a></li>
    <li><a name="TOC112" href="#SEC112">10.2 Attribute Manipulation</a></li>
    <li><a name="TOC113" href="#SEC113">10.3 Attributed Unification</a></li>
    <li><a name="TOC114" href="#SEC114">10.4 Displaying Attributes</a></li>
    <li><a name="TOC115" href="#SEC115">10.5 Projecting Attributes</a></li>
    <li><a name="TOC116" href="#SEC116">10.6 Attribute Examples</a></li>
  </ul></li>
  <li><a name="TOC117" href="#SEC117">11. Constraint Logic Programming over Reals</a>
  <ul class="toc">
    <li><a name="TOC118" href="#SEC118">11.1 Solver Predicates</a></li>
    <li><a name="TOC119" href="#SEC119">11.2 Syntax of the predicate arguments</a></li>
    <li><a name="TOC120" href="#SEC120">11.3 Use of unification</a></li>
    <li><a name="TOC121" href="#SEC121">11.4 Non-Linear Constraints</a></li>
  </ul></li>
  <li><a name="TOC122" href="#SEC122">12. CHR: Constraint Handling Rules</a>
  <ul class="toc">
    <li><a name="TOC123" href="#SEC123">12.1 Introduction</a></li>
    <li><a name="TOC124" href="#SEC124">12.2 Syntax and Semantics</a>
    <ul class="toc">
      <li><a name="TOC125" href="#SEC125">12.2.1 Syntax</a></li>
      <li><a name="TOC126" href="#SEC126">12.2.2 Semantics</a>
      <ul class="toc">
        <li><a name="TOC127" href="#SEC127">Rule Types</a></li>
        <li><a name="TOC128" href="#SEC128">Rule Names</a></li>
        <li><a name="TOC129" href="#SEC129">Pragmas</a></li>
        <li><a name="TOC130" href="#SEC130">Options</a></li>
      </ul>
</li>
    </ul></li>
    <li><a name="TOC131" href="#SEC131">12.3 CHR in YAP Programs</a>
    <ul class="toc">
      <li><a name="TOC132" href="#SEC132">12.3.1 Embedding in Prolog Programs</a></li>
      <li><a name="TOC133" href="#SEC133">12.3.2 Constraint declaration</a></li>
      <li><a name="TOC134" href="#SEC134">12.3.3 Compilation</a></li>
    </ul></li>
    <li><a name="TOC135" href="#SEC135">12.4 Debugging</a>
    <ul class="toc">
      <li><a name="TOC136" href="#SEC136">12.4.1 Ports</a></li>
      <li><a name="TOC137" href="#SEC137">12.4.2 Tracing</a></li>
      <li><a name="TOC138" href="#SEC138">12.4.3 CHR Debugging Predicates</a></li>
    </ul></li>
    <li><a name="TOC139" href="#SEC139">12.5 Examples</a></li>
    <li><a name="TOC140" href="#SEC140">12.6 Compatibility with SICStus CHR</a></li>
    <li><a name="TOC141" href="#SEC141">12.7 Guidelines</a></li>
  </ul></li>
  <li><a name="TOC142" href="#SEC142">13. Logtalk</a></li>
  <li><a name="TOC143" href="#SEC143">14. Threads</a>
  <ul class="toc">
    <li><a name="TOC144" href="#SEC144">14.1 Creating and Destroying Prolog Threads</a></li>
    <li><a name="TOC145" href="#SEC145">14.2 Monitoring Threads</a></li>
    <li><a name="TOC146" href="#SEC146">14.3 Thread communication</a>
    <ul class="toc">
      <li><a name="TOC147" href="#SEC147">14.3.1 Message Queues</a></li>
      <li><a name="TOC148" href="#SEC148">14.3.2 Signalling Threads</a></li>
      <li><a name="TOC149" href="#SEC149">14.3.3 Threads and Dynamic Predicates</a></li>
    </ul></li>
    <li><a name="TOC150" href="#SEC150">14.4 Thread Synchronisation</a></li>
  </ul></li>
  <li><a name="TOC151" href="#SEC151">15. Parallelism</a></li>
  <li><a name="TOC152" href="#SEC152">16. Tabling</a></li>
  <li><a name="TOC153" href="#SEC153">17. Tracing at Low Level</a></li>
  <li><a name="TOC154" href="#SEC154">18. Profiling the Abstract Machine</a></li>
  <li><a name="TOC155" href="#SEC155">19. Debugging</a>
  <ul class="toc">
    <li><a name="TOC156" href="#SEC156">19.1 Debugging Predicates</a></li>
    <li><a name="TOC157" href="#SEC157">19.2 Interacting with the debugger</a></li>
  </ul></li>
  <li><a name="TOC158" href="#SEC158">20. Efficiency Considerations</a>
  <ul class="toc">
    <li><a name="TOC159" href="#SEC159">20.1 Deterministic Programs</a></li>
    <li><a name="TOC160" href="#SEC160">20.2 Non-Deterministic Programs</a></li>
    <li><a name="TOC161" href="#SEC161">20.3 Data-Base Operations</a></li>
    <li><a name="TOC162" href="#SEC162">20.4 Indexing</a></li>
    <li><a name="TOC163" href="#SEC163">20.5 Profiling</a></li>
  </ul></li>
  <li><a name="TOC164" href="#SEC164">21. C Language interface to YAP</a>
  <ul class="toc">
    <li><a name="TOC165" href="#SEC165">21.1 Terms</a></li>
    <li><a name="TOC166" href="#SEC166">21.2 Unification</a></li>
    <li><a name="TOC167" href="#SEC167">21.3 Strings</a></li>
    <li><a name="TOC168" href="#SEC168">21.4 Memory Allocation</a></li>
    <li><a name="TOC169" href="#SEC169">21.5 Controlling YAP Streams from <code>C</code></a></li>
    <li><a name="TOC170" href="#SEC170">21.6 From <code>C</code> back to Prolog</a></li>
    <li><a name="TOC171" href="#SEC171">21.7 Module Manipulation in C</a></li>
    <li><a name="TOC172" href="#SEC172">21.8 Writing predicates in C</a></li>
    <li><a name="TOC173" href="#SEC173">21.9 Loading Object Files</a></li>
    <li><a name="TOC174" href="#SEC174">21.10 Saving and Restoring</a></li>
    <li><a name="TOC175" href="#SEC175">21.11 Changes to the C-Interface in YAP4</a></li>
  </ul></li>
  <li><a name="TOC176" href="#SEC176">22. Using YAP as a Library</a></li>
  <li><a name="TOC177" href="#SEC177">23. Compatibility with Other Prolog systems</a>
  <ul class="toc">
    <li><a name="TOC178" href="#SEC178">23.1 Compatibility with the C-Prolog interpreter</a>
    <ul class="toc">
      <li><a name="TOC179" href="#SEC179">23.1.1 Major Differences between YAP and C-Prolog.</a></li>
      <li><a name="TOC180" href="#SEC180">23.1.2 YAP predicates fully compatible with C-Prolog</a></li>
      <li><a name="TOC181" href="#SEC181">23.1.3 YAP predicates not strictly compatible with C-Prolog</a></li>
      <li><a name="TOC182" href="#SEC182">23.1.4 YAP predicates not available in C-Prolog</a></li>
      <li><a name="TOC183" href="#SEC183">23.1.5 YAP predicates not available in C-Prolog</a></li>
    </ul></li>
    <li><a name="TOC184" href="#SEC184">23.2 Compatibility with the Quintus and SICStus Prolog systems</a>
    <ul class="toc">
      <li><a name="TOC185" href="#SEC185">23.2.1 Major Differences between YAP and SICStus Prolog.</a></li>
      <li><a name="TOC186" href="#SEC186">23.2.2 YAP predicates fully compatible with SICStus Prolog</a></li>
      <li><a name="TOC187" href="#SEC187">23.2.3 YAP predicates not strictly compatible with SICStus Prolog</a></li>
      <li><a name="TOC188" href="#SEC188">23.2.4 YAP predicates not available in SICStus Prolog</a></li>
    </ul></li>
    <li><a name="TOC189" href="#SEC189">23.3 Compatibility with the ISO Prolog standard</a></li>
  </ul></li>
  <li><a name="TOC190" href="#SEC190">A. Summary of YAP Predefined Operators</a></li>
  <li><a name="TOC191" href="#SEC191">Predicate Index</a></li>
  <li><a name="TOC192" href="#SEC192">Concept Index</a></li>
</ul>
</div>
<hr size="1">
<a name="SEC_About"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1>About This Document</h1>
<p>
  This document was generated by <em>Vtor Santos Costa</em> on <em>March, 26 2008</em> using <a href="http://www.nongnu.org/texi2html/"><em>texi2html 1.78</em></a>.
</p>
<p>
  The buttons in the navigation panels have the following meaning:
</p>
<table border="1">
  <tr>
    <th> Button </th>
    <th> Name </th>
    <th> Go to </th>
    <th> From 1.2.3 go to</th>
  </tr>
  <tr>
    <td align="center"> [ &lt; ] </td>
    <td align="center">Back</td>
    <td>Previous section in reading order</td>
    <td>1.2.2</td>
  </tr>
  <tr>
    <td align="center"> [ &gt; ] </td>
    <td align="center">Forward</td>
    <td>Next section in reading order</td>
    <td>1.2.4</td>
  </tr>
  <tr>
    <td align="center"> [ &lt;&lt; ] </td>
    <td align="center">FastBack</td>
    <td>Beginning of this chapter or previous chapter</td>
    <td>1</td>
  </tr>
  <tr>
    <td align="center"> [ Up ] </td>
    <td align="center">Up</td>
    <td>Up section</td>
    <td>1.2</td>
  </tr>
  <tr>
    <td align="center"> [ &gt;&gt; ] </td>
    <td align="center">FastForward</td>
    <td>Next chapter</td>
    <td>2</td>
  </tr>
  <tr>
    <td align="center"> [Top] </td>
    <td align="center">Top</td>
    <td>Cover (top) of document</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [Contents] </td>
    <td align="center">Contents</td>
    <td>Table of contents</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [Index] </td>
    <td align="center">Index</td>
    <td>Index</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [ ? ] </td>
    <td align="center">About</td>
    <td>About (help)</td>
    <td> &nbsp; </td>
  </tr>
</table>

<p>
  where the <strong> Example </strong> assumes that the current position is at <strong> Subsubsection One-Two-Three </strong> of a document of the following structure:
</p>

<ul>
  <li> 1. Section One
    <ul>
      <li>1.1 Subsection One-One
        <ul>
          <li>...</li>
        </ul>
      </li>
      <li>1.2 Subsection One-Two
        <ul>
          <li>1.2.1 Subsubsection One-Two-One</li>
          <li>1.2.2 Subsubsection One-Two-Two</li>
          <li>1.2.3 Subsubsection One-Two-Three &nbsp; &nbsp;
            <strong>&lt;== Current Position </strong></li>
          <li>1.2.4 Subsubsection One-Two-Four</li>
        </ul>
      </li>
      <li>1.3 Subsection One-Three
        <ul>
          <li>...</li>
        </ul>
      </li>
      <li>1.4 Subsection One-Four</li>
    </ul>
  </li>
</ul>

<hr size="1">
<p>
 <font size="-1">
  This document was generated by <em>Vtor Santos Costa</em> on <em>March, 26 2008</em> using <a href="http://www.nongnu.org/texi2html/"><em>texi2html 1.78</em></a>.
 </font>
 <br>

</p>
</body>
</html>
